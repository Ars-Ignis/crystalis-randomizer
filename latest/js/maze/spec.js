import { Dir } from './types.js';
import { hex } from '../rom/util.js';
import { assertNever } from '../util.js';
import { iters, isNonNull, Multiset } from '../util.js';
export function Spec(edges, tile, icon, ...extra) {
    const connections = [];
    const poi = [];
    const stairs = [];
    let deadEnd = false;
    let fixed = false;
    let flag = false;
    let wall = undefined;
    let pit = false;
    for (let data of extra) {
        if (typeof data === 'string') {
            if (data === 'fixed') {
                fixed = true;
            }
            else if (data === 'flag') {
                flag = true;
            }
            else if (data === 'pit') {
                pit = true;
            }
            else if (data === 'deadend') {
                deadEnd = true;
            }
            else {
                assertNever(data);
            }
        }
        else if (typeof data === 'number') {
            connections.push(connection(data));
        }
        else if (data instanceof Stair) {
            stairs.push(data);
        }
        else if (data instanceof Wall) {
            wall = data;
        }
        else if (data instanceof Poi) {
            poi.push(data);
        }
        else {
            assertNever(data);
        }
    }
    return { edges: edges,
        tile, icon, connections, deadEnd,
        fixed, flag, wall, pit, poi, stairs };
}
export class Stair {
    constructor(dir, entrance, exit) {
        this.dir = dir;
        this.entrance = entrance;
        this.exit = exit;
    }
    static up(entrance, exit) {
        return new Stair(Dir.UP, entrance, exit);
    }
    static down(entrance, exit) {
        return new Stair(Dir.DOWN, entrance, exit);
    }
}
export class Wall {
    constructor(type, tile, a, b) {
        this.type = type;
        this.tile = tile;
        this.a = a;
        this.b = b;
    }
    connections(flagged) {
        if (!flagged)
            return [connection(this.a), connection(this.b)];
        let count = this.b;
        let a = this.a;
        while (count) {
            count >>= 4;
            a <<= 4;
        }
        return [connection(a | this.b)];
    }
}
export function wall(tile, [a, b]) {
    return new Wall('wall', tile, a, b);
}
export function bridge(tile, [a, b]) {
    return new Wall('bridge', tile, a, b);
}
export class Poi {
    constructor(priority, dy, dx) {
        this.priority = priority;
        this.dy = dy;
        this.dx = dx;
    }
}
export function poi(priority, dy = 0x70, dx = 0x78) {
    return new Poi(priority, dy, dx);
}
function connection(data) {
    const connection = [];
    while (data) {
        const channel = (data & 3) << (data & 4);
        const offset = data & 8 ? (data & 4 ? 0x0100 : 0x1000) : 0;
        connection.push(channel | offset);
        data >>>= 4;
    }
    return connection;
}
export const EDGE_TYPES = {
    1: {
        [Dir.DOWN]: {
            entrance: 0xdf80,
            exits: [0xe6, 0xe7, 0xe8, 0xe9],
        },
        [Dir.UP]: {
            entrance: 0x3080,
            exits: [0x26, 0x27, 0x28, 0x29],
        },
    },
    6: {
        [Dir.DOWN]: {
            entrance: 0xdf80,
            exits: [0xe7, 0xe8],
        },
        [Dir.UP]: {
            entrance: 0x3080,
            exits: [0x27, 0x28],
        },
    },
};
const EMPTY_CAVE_SCREEN = Spec(0, 0x80, ' ');
const BASIC_CAVE_SCREENS = [
    Spec(257, 0x81, '│', 0x2a, poi(4)),
    Spec(4112, 0x82, '─', 0x6e, poi(4)),
    Spec(272, 0x83, '┌', 0xae, poi(2)),
    Spec(4352, 0x84, '┐', 0x6a, poi(2)),
    Spec(17, 0x85, '└', 0x2e, poi(2)),
    Spec(4097, 0x86, '┘', 0x26, poi(2)),
    Spec(273, 0x87, '├', 0x2ae, poi(3)),
    Spec(4369, 0x88, '┼', 0x26ae, poi(3)),
    Spec(4353, 0x89, '┤', 0x26a, poi(3)),
    Spec(4368, 0x8a, '┬', 0x6ae, poi(3)),
    Spec(4113, 0x8b, '┴', 0x26e, poi(3)),
    Spec(131329, 0x8c, '┋', 0x2a),
    Spec(1048833, 0x8d, '╫', 'fixed', 0x2a),
    Spec(1052688, 0x8e, '╫', 'fixed', 0x6e),
    Spec(65793, 0x8f, '┆', wall(0x87, [0x2, 0xa])),
    Spec(69648, 0x90, '┄', wall(0x67, [0x2, 0xa])),
    Spec(69649, 0x94, '┸', wall(0x37, [0x2, 0x6e])),
    Spec(135184, 0x95, '┸', 0x6e, Stair.up(16512, 0x37)),
    Spec(69632, 0x96, '┚', 0x6, Stair.up(16432, 0x32)),
    Spec(135168, 0x97, '┒', 0x6, Stair.down(44848, 0xb2)),
    Spec(65552, 0x98, '┖', 0xe, Stair.up(16592, 0x3c)),
    Spec(131088, 0x99, '┎', 0xe, Stair.down(45008, 0xbc)),
    Spec(131073, 0x9a, '╹', 0x2, Stair.down(8064, 0x27)),
    Spec(131328, 0x9a, '╻', 0xa, Stair.up(53376, 0xc7)),
    Spec(262401, 0x9b, ' ', 0x2, 0xa, 'deadend'),
    Spec(1, 0x9b, '╵', 0x2, poi(0, -0x30, 0x78), 'deadend'),
    Spec(256, 0x9b, '╷', 0xa, poi(0, 0x110, 0x78), 'deadend'),
    Spec(266256, 0x9c, ' ', 0x6, 0xe, 'deadend'),
    Spec(16, 0x9c, '╶', 0xe, poi(0, 0x70, 0x108), 'deadend'),
    Spec(4096, 0x9c, '╴', 0x6, poi(0, 0x70, -0x28), 'deadend'),
    Spec(1537, 0x9e, '╽', 0x2a),
];
const BOSS_CAVE_SCREENS = [
    Spec(29046, 0x91, '╤', 'fixed', 0x2a, poi(1, 0x60, 0x78)),
    Spec(459009, 0x91, '╤', 'fixed', 0x2a, poi(1, 0x60, 0x78)),
    Spec(94582, 0x92, '╤', 'fixed', wall(0x27, [0x2, 0xa]), poi(1, 0x60, 0x78)),
    Spec(112, 0x80, '╘'),
    Spec(28672, 0x80, '╛'),
];
const RIVER_SCREENS = [
    Spec(13107, 0xd3, '╬', 0x15, 0x3d, bridge(0xb6, [0x79, 0xbf]), poi(4, 0x00, 0x98)),
    Spec(771, 0xd4, '║', 0x19, 0x3b),
    Spec(12336, 0xd5, '═', 0x5d, 0x7f),
    Spec(66307, 0xd6, '║', bridge(0x87, [0x19, 0x3b])),
    Spec(77872, 0xd7, '═', bridge(0x86, [0x5d, 0x7f])),
    Spec(816, 0xd8, '╔', 0x9d, 0xbf),
    Spec(13056, 0xd9, '╗', 0x5b, 0x79),
    Spec(51, 0xda, '╚', 0x1f, 0x3d),
    Spec(12291, 0xdb, '╝', 0x15, 0x37),
    Spec(12337, 0xdc, '╧', 0x25d, 0x7f),
    Spec(12592, 0xdd, '╤', 0x5d, 0x7af),
    Spec(4867, 0xde, '╢', 0x169, 0x3b),
    Spec(787, 0xdf, '╟', 0x19, 0x3be),
    Spec(525059, 0xf0, ' ', 0x1, 0x3, 0x9, 0xb, 'deadend'),
    Spec(3, 0xf0, ' ', 0x1, 0x3, poi(1, -0x30, 0x48), poi(1, -0x30, 0x98), 'deadend'),
    Spec(768, 0xf0, ' ', 0x9, 0xb, poi(1, 0x110, 0x48), poi(1, 0x110, 0x98), 'deadend'),
    Spec(536624, 0xf1, ' ', 0x5, 0x7, 0xd, 0xf, 'deadend'),
    Spec(48, 0xf1, ' ', 0xd, 0xf, poi(1, 0x60, 0x108), poi(1, 0xa0, 0x108), 'deadend'),
    Spec(12288, 0xf1, ' ', 0x5, 0x7, poi(1, 0x60, -0x28), poi(1, 0xa0, -0x28), 'deadend'),
    Spec(65539, 0xf2, '╨', bridge(0x17, [0x1, 0x3])),
    Spec(66304, 0xf2, '╥', bridge(0xc6, [0x9, 0xb])),
    Spec(13104, 0xf3, '╦', 0x5d, 0x79, 0xbf),
    Spec(12339, 0xf4, '╩', 0x15, 0x3d, 0x7f),
    Spec(131843, 0xf5, '╠', 0x19, 0x3, 0xb, poi(1, 0xc0, 0x98), poi(1, 0x40, 0x98)),
    Spec(262915, 0xf6, '╣', 0x1, 0x9, 0x3b, poi(1, 0xb0, 0x48), poi(1, 0x30, 0x48)),
];
const WIDE_SCREENS = [
    Spec(2, 0x71, '┻', 0x2, Stair.down(53120, 0xd7)),
    Spec(514, 0x72, '┃', 0x2a),
    Spec(34, 0xe0, '┖', 0x2e),
    Spec(8194, 0xe1, '┚', 0x26),
    Spec(544, 0xe2, '┎', 0xae),
    Spec(8704, 0xe3, '┒', 0x6a),
    Spec(66050, 0xe5, '╏', 'fixed', 0x2, 0xa),
    Spec(8738, 0xe6, '╂', 0x26ae),
    Spec(8226, 0xe7, '┸', 0x26e),
    Spec(8736, 0xe8, '┰', 0x6ae),
    Spec(513, 0xe9, '╽', 'fixed', wall(0x37, [0x2, 0xa])),
    Spec(8224, 0xea, '─', 0x6e),
    Spec(66049, 0xfd, '╽', 'fixed', 0x2a),
];
const WIDE_SET = new Set([0x80, ...WIDE_SCREENS.map(spec => spec.tile)]);
const PIT_SCREENS = [
    Spec(528400, 0xeb, '┈', 'pit', 0x6e),
    Spec(524545, 0xec, '┊', 'pit', 0x2a),
];
const SPIKE_SCREENS = [
    Spec(260, 0xed, '╿', 0x2a),
    Spec(1025, 0xee, '╽', 0x2a),
    Spec(5140, 0xef, '╂', 0x26ae),
    Spec(1028, 0xf7, '┃', 0x2a),
];
export const SWAMP_SCREENS = [
    Spec(0x0000, 0x7f, ' '),
    Spec(0x0001, ~0, '╵', 0x1),
    Spec(0x0010, 0x76, '╶', 0xd),
    Spec(0x0011, 0x79, '└', 0x1d),
    Spec(0x0100, ~1, '╷', 0x9),
    Spec(0x0101, ~2, '│', 0x19),
    Spec(0x0110, ~3, '┌', 0x9d),
    Spec(0x0111, ~4, '├', 0x19d),
    Spec(0x1000, 0x7b, '╴', 0x5),
    Spec(0x1001, 0x75, '┘', 0x15),
    Spec(0x1010, ~5, '─', 0x5d),
    Spec(0x1011, 0x7d, '┴', 0x15d),
    Spec(0x1100, 0x7e, '┐', 0x59),
    Spec(0x1101, 0x78, '┤', 0x159),
    Spec(0x1110, 0x7a, '┬', 0x59d),
    Spec(0x1111, 0x77, '┼', 0x159d),
    Spec(0xf1f0, 0x7c, '╤', 'fixed', 0x9),
    Spec(0xf000, 0x7f, '╝', 'fixed'),
    Spec(0x00f0, 0x7f, '╚', 'fixed'),
    Spec(65552, 0x76, '╶', 'fixed', 'flag', 0xd),
    Spec(65792, ~1, '╷', 'fixed', 'flag', 0x9),
    Spec(65808, ~3, '┌', 'fixed', 'flag', 0x9d),
    Spec(69632, 0x7b, '╴', 'fixed', 'flag', 0x5),
    Spec(69648, ~5, '─', 'fixed', 'flag', 0x5d),
    Spec(69888, 0x7e, '┐', 'fixed', 'flag', 0x59),
    Spec(69904, 0x7a, '┬', 'fixed', 'flag', 0x59d),
];
export const GOA1_SCREENS = [
    Spec(0x0000, 0x80, ' '),
    Spec(0x0011, 0xe0, '└', 'flag', 0x1f, 0x2e, 0x3d),
    Spec(0x0101, 0xe4, '│', 'flag', 0x1239ab),
    Spec(0x0110, 0xe2, '┌', 'flag', 0x9d, 0xae, 0xbf),
    Spec(0x1001, 0xe1, '┘', 'flag', 0x15, 0x26, 0x37),
    Spec(0x1010, 0xea, '─', 0x5d, 0x6e, 0x7f),
    Spec(0x1011, 0xe7, '┴', 'flag', 0x15, 0x26e, 0x3d, 0x7f),
    Spec(0x1100, 0xe3, '┐', 'flag', 0x5b, 0x6a, 0x79),
    Spec(0x1110, 0xe8, '┬', 'flag', 0x5d, 0x6ae, 0x79, 0xbf),
    Spec(0x1111, 0xe6, '┼', 'flag', 0x15, 0x26ae, 0x3d, 0x79, 0xbf),
    Spec(65553, 0xe0, '└', 'fixed', 0x2e, 0x3d),
    Spec(65793, 0xe4, '│', 'fixed', 0x12ab),
    Spec(65808, 0xe2, '┌', 'fixed', 0xae, 0xbf),
    Spec(69633, 0xe1, '┘', 'fixed', 0x15, 0x26),
    Spec(69649, 0xe7, '┴', 'fixed', 0x26e, 0x7f),
    Spec(69888, 0xe3, '┐', 'fixed', 0x6a, 0x79),
    Spec(69904, 0xe8, '┬', 'fixed', 0x5d, 0x6ae),
    Spec(69905, 0xe6, '┼', 'fixed', 0x15, 0x26ae, 0xbf),
    Spec(131329, 0xe5, '┊', 'fixed', 'flag', 0x139b),
    Spec(196865, 0xe5, '┊', 'fixed', 0x39),
    Spec(0xf0f1, 0x71, '╽', 'fixed', 0x2a),
    Spec(0x00f0, 0x80, '█', 'fixed'),
    Spec(0xf000, 0x80, '█', 'fixed'),
    Spec(0xfff0, 0x73, '═', 'fixed'),
    Spec(0xf1ff, 0x72, '╤', 'fixed'),
    Spec(0x0ff0, 0x80, '╔', 'fixed'),
    Spec(0xff00, 0x80, '╗', 'fixed'),
    Spec(0x00ff, 0x80, '╚', 'fixed'),
    Spec(0xf00f, 0x80, '╝', 'fixed'),
];
const ALL_CAVE_SCREENS = [
    BASIC_CAVE_SCREENS,
    BOSS_CAVE_SCREENS,
    RIVER_SCREENS,
    WIDE_SCREENS,
    PIT_SCREENS,
    SPIKE_SCREENS,
];
const RIVER_TILES = new Set(RIVER_SCREENS.map(s => s.tile));
const BITCOUNT = [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4];
export class SpecSet {
    constructor(specSets, empty) {
        this.specSets = specSets;
        this.empty = empty;
        this.fixedTiles = new Map();
        this.deadEndTiles = new Set();
        this.edgesByTile = new Map();
        this.stairsByTile = new Map();
        this.stairScreens = new Map();
        this.walls = new Map();
        for (const spec of iters.concat(...specSets)) {
            for (const dir of Dir.ALL) {
                const edge = (spec.edges >> Dir.shift(dir)) & 0xf;
                if (edge && (edge & 7) != 7) {
                    this.edgesByTile.set(spec.tile, (this.edgesByTile.get(spec.tile) || 0) | (1 << dir));
                }
            }
            for (const stair of spec.stairs) {
                const pos = (stair.entrance & 0xf000) >> 8 |
                    (stair.entrance & 0xf0) >> 4;
                this.stairsByTile.set(spec.tile << 8 | pos, stair.dir);
                this.stairScreens.set(spec.edges, [
                    stair.dir,
                    { entrance: stair.entrance, exits: [stair.exit, stair.exit + 1] }
                ]);
            }
            if (spec.wall)
                this.walls.set(spec.tile, spec.wall.type);
            if (spec.tile != 0x80 && spec.fixed) {
                if (!this.fixedTiles.has(spec.tile)) {
                    this.fixedTiles.set(spec.tile, spec);
                }
            }
            if (spec.deadEnd)
                this.deadEndTiles.add(spec.tile);
        }
    }
    survey(loc) {
        let size = 0;
        let deadEnds = 0;
        let branches = 0;
        let walls = 0;
        let bridges = 0;
        let rivers = 0;
        let wide = true;
        let anyWide = false;
        const stairs = new Map();
        const edges = new Map();
        const fixed = new Map();
        const tiles = new Multiset();
        const specs = [];
        if (this.empty)
            specs.push(this.empty);
        const allTiles = new Set([].concat(...loc.screens));
        for (const set of this.specSets) {
            for (const scr of set) {
                if (scr.tile === 0x80)
                    continue;
                if (allTiles.has(scr.tile)) {
                    specs.push(...set);
                    break;
                }
            }
        }
        if (loc.tileset === 0xa4) {
            for (let i = specs.length - 1; i >= 0; i--) {
                if (specs[i].edges === 69648)
                    specs.splice(i, 1);
            }
        }
        const reachable = new Set([...loc.reachableTiles(true).keys()].map(t => t >>> 8));
        if (!reachable.size)
            throw new Error('No reachable tiles');
        const entranceToExit = new Map(loc.entrances.map((entrance, num) => {
            for (const exit of loc.exits) {
                if (Math.abs(exit.x - entrance.x) < 20 &&
                    Math.abs(exit.y - entrance.y) < 20) {
                    return [num, exit.dest << 8 | exit.entrance];
                }
            }
            return null;
        }).filter(isNonNull));
        for (let i = 0; i < loc.entrances.length; i++) {
            const entrance = loc.entrances[i];
            const scr = loc.screens[entrance.screen >>> 4][entrance.screen & 0xf];
            const dir = this.stairsByTile.get(scr << 8 | entrance.tile);
            if (dir != null) {
                const exit = entranceToExit.get(i);
                if (exit == null)
                    throw new Error(`Could not find exit`);
                stairs.set(entrance.screen, { entrance: i, exit, dir });
            }
        }
        for (let y = 0; y < loc.height; y++) {
            let edgeMask = 0;
            if (!y)
                edgeMask |= 1;
            if (y === loc.height - 1)
                edgeMask |= 4;
            for (let x = 0; x < loc.width; x++) {
                const pos = (y << 4 | x);
                if (!reachable.has(pos))
                    continue;
                edgeMask &= ~0xa;
                if (!x)
                    edgeMask |= 8;
                if (x === loc.width - 1)
                    edgeMask |= 2;
                const tile = loc.screens[y][x];
                tiles.add(tile);
                if (tile === 0x80)
                    continue;
                if (WIDE_SET.has(tile)) {
                    anyWide = true;
                }
                else {
                    wide = false;
                }
                size++;
                if (RIVER_TILES.has(tile))
                    rivers++;
                let edgeExits = this.edgesByTile.get(tile);
                if (edgeExits == null)
                    throw new Error(`Bad tile: ${hex(tile)}`);
                let edgeCount = BITCOUNT[edgeExits] + (stairs.has(pos) ? 1 : 0);
                if (tile === 0x9a)
                    edgeCount = 2;
                if (tile === 0x9b || tile == 0x9c || tile == 0xf0 || tile == 0xf1) {
                    edgeCount = 1;
                }
                if (edgeCount === 1)
                    deadEnds++;
                if (edgeCount > 2)
                    branches += (edgeCount - 2);
                const wall = this.walls.get(tile);
                if (wall === 'wall')
                    walls++;
                if (wall === 'bridge')
                    bridges++;
                let fixedScr = this.fixedTiles.get(tile);
                if (this.deadEndTiles.has(tile))
                    edgeExits = 0;
                for (const dir of Dir.ALL) {
                    if (edgeExits & edgeMask & (1 << dir)) {
                        let entrance = null;
                        for (let i = 0; i < loc.entrances.length; i++) {
                            if (loc.entrances[i].screen === pos &&
                                matchesDir(loc.entrances[i].tile, dir)) {
                                entrance = i;
                                break;
                            }
                        }
                        if (entrance == null)
                            continue;
                        const exit = entranceToExit.get(entrance);
                        if (exit == null)
                            throw new Error(`Could not find exit`);
                        edges.set(pos, { entrance, exit, dir });
                    }
                }
                if (fixedScr != null)
                    fixed.set(pos, fixedScr);
            }
        }
        if (rivers) {
            for (const [pos, scr] of fixed) {
                if (scr.edges !== 0x7176)
                    continue;
                const spec = specs.find(s => s.edges === 459009);
                if (spec)
                    fixed.set(pos, spec);
            }
        }
        if (wide != anyWide)
            throw new Error(`Found inconsistent use of wide tiles`);
        return { size, rivers, deadEnds, branches, walls, bridges, stairs,
            edges, fixed, tiles, wide, specs, specSet: this };
    }
}
SpecSet.CAVE = new SpecSet(ALL_CAVE_SCREENS, EMPTY_CAVE_SCREEN);
function matchesDir(tile, dir) {
    if (dir === 0)
        return (tile >>> 4) < 0x4;
    if (dir === 1)
        return (tile & 0xf) > 0xd;
    if (dir === 2)
        return (tile >>> 4) > 0xc;
    if (dir === 3)
        return (tile & 0xf) < 0x2;
    return false;
}
export function readScreen(str) {
    const scr = str.split(/ +/g).map(x => parseInt(x, 16));
    for (const x of scr) {
        if (typeof x != 'number' || isNaN(x)) {
            throw new Error(`Bad screen: ${x} in ${str}`);
        }
    }
    return scr;
}
export function write2d(arr, corner, repl) {
    for (let i = 0; i < repl.length; i++) {
        for (let j = 0; j < repl[i].length; j++) {
            const x = repl[i][j];
            if (x != null)
                arr[corner + (i << 4 | j)] = x;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9tYXplL3NwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLEdBQUcsRUFBVyxNQUFNLFlBQVksQ0FBQztBQUV6QyxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkMsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLFlBQVksQ0FBQztBQUN2QyxPQUFPLEVBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUMsTUFBTSxZQUFZLENBQUM7QUF5QnRELE1BQU0sVUFBVSxJQUFJLENBQUMsS0FBYSxFQUNiLElBQVksRUFDWixJQUFZLEVBQ1osR0FBRyxLQUFzQjtJQUM1QyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDdkIsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2YsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztJQUNwQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDbEIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDO0lBQ2pCLElBQUksSUFBSSxHQUFxQixTQUFTLENBQUM7SUFDdkMsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDO0lBQ2hCLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxFQUFFO1FBQ3RCLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQzVCLElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRTtnQkFDcEIsS0FBSyxHQUFHLElBQUksQ0FBQzthQUNkO2lCQUFNLElBQUksSUFBSSxLQUFLLE1BQU0sRUFBRTtnQkFDMUIsSUFBSSxHQUFHLElBQUksQ0FBQzthQUNiO2lCQUFNLElBQUksSUFBSSxLQUFLLEtBQUssRUFBRTtnQkFDekIsR0FBRyxHQUFHLElBQUksQ0FBQzthQUNaO2lCQUFNLElBQUksSUFBSSxLQUFLLFNBQVMs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QUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxJQUFJLENBQUMsR0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUMsSUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLENBQUMsSUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUMsSUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUMsSUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUd4QyxJQUFJLENBQUMsTUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO0lBQy9CLElBQUksQ0FBQyxPQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDO0lBQ3pDLElBQUksQ0FBQyxPQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDO0lBQ3pDLElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakQsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELElBQUksQ0FBQyxNQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEQsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RCxJQUFJLENBQUMsTUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pELElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkQsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN6RCxJQUFJLENBQUMsTUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pELElBQUksQ0FBQyxNQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFFdkQsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDO0lBQzlDLElBQUksQ0FBQyxDQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLENBQUM7SUFDOUQsSUFBSSxDQUFDLEdBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLENBQUM7SUFFOUQsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDO0lBQzlDLElBQUksQ0FBQyxFQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsU0FBUyxDQUFDO0lBQzlELElBQUksQ0FBQyxJQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxTQUFTLENBQUM7SUFFOUQsSUFBSSxDQUFDLElBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQztDQUN2QixDQUFDO0FBRVgsTUFBTSxpQkFBaUIsR0FBRztJQUN4QixJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RCxJQUFJLENBQUMsTUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RCxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUM1QixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEQsSUFBSSxDQUFDLEdBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDO0lBQ3pCLElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQztDQUVqQixDQUFDO0FBRVgsTUFBTSxhQUFhLEdBQUc7SUFDcEIsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQy9CLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwRCxJQUFJLENBQUMsR0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUNyQyxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUNyQyxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3JELElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDckQsSUFBSSxDQUFDLEdBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDckMsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDckMsSUFBSSxDQUFDLEVBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDckMsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDckMsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUM7SUFDdEMsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUM7SUFDdEMsSUFBSSxDQUFDLElBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUM7SUFDdEMsSUFBSSxDQUFDLEdBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUM7SUFFdEMsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxTQUFTLENBQUM7SUFDeEQsSUFBSSxDQUFDLENBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQzdCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLENBQUM7SUFDekQsSUFBSSxDQUFDLEdBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQzdCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLFNBQVMsQ0FBQztJQUV6RCxJQUFJLENBQUMsTUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQztJQUN4RCxJQUFJLENBQUMsRUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDN0IsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsU0FBUyxDQUFDO0lBQ3pELElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUM3QixHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsU0FBUyxDQUFDO0lBRXpELElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDbkQsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNuRCxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDM0MsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQzNDLElBQUksQ0FBQyxNQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbkMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDNUMsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUNuQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFH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QUksRUFBRSxHQUFHLEVBQVUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDeEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUNqRCxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUN4RCxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFFL0QsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQzlDLElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDO0lBQzFDLElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUM5QyxJQUFJLENBQUMsS0FBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDOUMsSUFBSSxDQUFDLEtBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDO0lBQy9DLElBQUksQ0FBQyxLQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUM5QyxJQUFJLENBQUMsS0FBUSxF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QyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFO1FBQ25CLElBQUksT0FBTyxDQUFDLElBQUksUUFBUSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNwQyxNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUM7U0FDL0M7S0FDRjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUdELE1BQU0sVUFBVSxPQUFPLENBQUksR0FBUSxFQUFFLE1BQWMsRUFDeEIsSUFBK0M7SUFDeEUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxJQUFJLElBQUk7Z0JBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDL0M7S0FDRjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RpciwgUG9zLCBTY3J9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHtMb2NhdGlvbn0gZnJvbSAnLi4vcm9tL2xvY2F0aW9uLmpzJztcbmltcG9ydCB7aGV4fSBmcm9tICcuLi9yb20vdXRpbC5qcyc7XG5pbXBvcnQge2Fzc2VydE5ldmVyfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7aXRlcnMsIGlzTm9uTnVsbCwgTXVsdGlzZXR9IGZyb20gJy4uL3V0aWwuanMnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gSW50ZXJzZWN0aW9ucyBhcmUgYSBwcm9ibGVtIC0gVGlsZXMgaW4gbXVsdGlwbGUgc3BlY3MsXG4vLyBzcGVjIGluIG11bHRpcGxlIHNwZWMgc2V0cywgZXRjLiAgV2hlbiB3ZSB3YW50IHRvIGNoYW5nZVxuLy8gYSB0aWxlLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0byB1cGRhdGUgYWxsIHRoZSBzcGVjcy5cbi8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBTcGVjIGZvciBhIHNjcmVlbi4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3BlYyB7XG4gIHJlYWRvbmx5IGVkZ2VzOiBTY3I7XG4gIHJlYWRvbmx5IHRpbGU6IG51bWJlcjtcbiAgcmVhZG9ubHkgaWNvbjogc3RyaW5nO1xuICByZWFkb25seSBjb25uZWN0aW9uczogQ29ubmVjdGlvbnM7XG4gIHJlYWRvbmx5IGZpeGVkOiBib29sZWFuO1xuICByZWFkb25seSBmbGFnOiBib29sZWFuO1xuICByZWFkb25seSBwaXQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGRlYWRFbmQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IHN0YWlyczogU3RhaXJbXTtcbiAgcmVhZG9ubHkgd2FsbDogV2FsbCB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcG9pOiBQb2lbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNwZWMoZWRnZXM6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgIHRpbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgIGljb246IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgIC4uLmV4dHJhOiBBcnJheTxFeHRyYUFyZz4pOiBTcGVjIHtcbiAgY29uc3QgY29ubmVjdGlvbnMgPSBbXTtcbiAgY29uc3QgcG9pID0gW107XG4gIGNvbnN0IHN0YWlycyA9IFtdO1xuICBsZXQgZGVhZEVuZCA9IGZhbHNlO1xuICBsZXQgZml4ZWQgPSBmYWxzZTtcbiAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgbGV0IHdhbGw6IFdhbGwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGxldCBwaXQgPSBmYWxzZTtcbiAgZm9yIChsZXQgZGF0YSBvZiBleHRyYSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChkYXRhID09PSAnZml4ZWQnKSB7XG4gICAgICAgIGZpeGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gJ2ZsYWcnKSB7XG4gICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkYXRhID09PSAncGl0Jykge1xuICAgICAgICBwaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkYXRhID09PSAnZGVhZGVuZCcpIHtcbiAgICAgICAgZGVhZEVuZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnROZXZlcihkYXRhKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uKGRhdGEpKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBTdGFpcikge1xuICAgICAgc3RhaXJzLnB1c2goZGF0YSk7XG4gICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgV2FsbCkge1xuICAgICAgd2FsbCA9IGRhdGE7XG4gICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgUG9pKSB7XG4gICAgICBwb2kucHVzaChkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0TmV2ZXIoZGF0YSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7ZWRnZXM6IGVkZ2VzIGFzIFNjcixcbiAgICAgICAgICB0aWxlLCBpY29uLCBjb25uZWN0aW9ucywgZGVhZEVuZCxcbiAgICAgICAgICBmaXhlZCwgZmxhZywgd2FsbCwgcGl0LCBwb2ksIHN0YWlyc307XG59XG5cbi8vIGVudHJhbmNlIGlzIGZvdXIgbmliYmxlczogWXlYeCBvZiBleGFjdCBwaXhlbCBvbiBzY3JlZW4uXG5leHBvcnQgY2xhc3MgU3RhaXIge1xuICBbU1RBSVJfTk9NSU5BTF06IG5ldmVyO1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGRpcjogRGlyLCByZWFkb25seSBlbnRyYW5jZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgIHJlYWRvbmx5IGV4aXQ6IG51bWJlcikge31cbiAgc3RhdGljIHVwKGVudHJhbmNlOiBudW1iZXIsIGV4aXQ6IG51bWJlcik6IFN0YWlyIHtcbiAgICByZXR1cm4gbmV3IFN0YWlyKERpci5VUCwgZW50cmFuY2UsIGV4aXQpO1xuICB9XG4gIHN0YXRpYyBkb3duKGVudHJhbmNlOiBudW1iZXIsIGV4aXQ6IG51bWJlcik6IFN0YWlyIHtcbiAgICByZXR1cm4gbmV3IFN0YWlyKERpci5ET1dOLCBlbnRyYW5jZSwgZXhpdCk7XG4gIH1cbn1cbmRlY2xhcmUgY29uc3QgU1RBSVJfTk9NSU5BTDogdW5pcXVlIHN5bWJvbDtcblxuZXhwb3J0IGNsYXNzIFdhbGwge1xuICBbV0FMTF9OT01JTkFMXTogbmV2ZXI7XG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHR5cGU6ICd3YWxsJyB8ICdicmlkZ2UnLCByZWFkb25seSB0aWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgIHJlYWRvbmx5IGE6IG51bWJlciwgcmVhZG9ubHkgYjogbnVtYmVyKSB7fVxuICBjb25uZWN0aW9ucyhmbGFnZ2VkOiBib29sZWFuKTogQ29ubmVjdGlvbnMge1xuICAgIGlmICghZmxhZ2dlZCkgcmV0dXJuIFtjb25uZWN0aW9uKHRoaXMuYSksIGNvbm5lY3Rpb24odGhpcy5iKV07XG4gICAgbGV0IGNvdW50ID0gdGhpcy5iO1xuICAgIGxldCBhID0gdGhpcy5hO1xuICAgIHdoaWxlIChjb3VudCkge1xuICAgICAgY291bnQgPj49IDQ7XG4gICAgICBhIDw8PSA0O1xuICAgIH1cbiAgICByZXR1cm4gW2Nvbm5lY3Rpb24oYSB8IHRoaXMuYildO1xuICB9XG59XG5kZWNsYXJlIGNvbnN0IFdBTExfTk9NSU5BTDogdW5pcXVlIHN5bWJvbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHdhbGwodGlsZTogbnVtYmVyLCBbYSwgYl06IHJlYWRvbmx5IFtudW1iZXIsIG51bWJlcl0pOiBXYWxsIHtcbiAgcmV0dXJuIG5ldyBXYWxsKCd3YWxsJywgdGlsZSwgYSwgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicmlkZ2UodGlsZTogbnVtYmVyLCBbYSwgYl06IHJlYWRvbmx5IFtudW1iZXIsIG51bWJlcl0pOiBXYWxsIHtcbiAgcmV0dXJuIG5ldyBXYWxsKCdicmlkZ2UnLCB0aWxlLCBhLCBiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBvaSB7XG4gIFtQT0lfTk9NSU5BTF06IG5ldmVyO1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSBwcmlvcml0eTogbnVtYmVyLFxuICAgICAgICAgICAgICByZWFkb25seSBkeTogbnVtYmVyLCByZWFkb25seSBkeDogbnVtYmVyKSB7fVxufVxuZGVjbGFyZSBjb25zdCBQT0lfTk9NSU5BTDogdW5pcXVlIHN5bWJvbDtcblxuLyoqXG4gKiBAcGFyYW0gcHJpb3JpdHkgU3RhcnRpbmcgYXQgemVybyBmb3IgYmVzdCBzcG90c1xuICogQHBhcmFtIGR5IFBpeGVsIHBvc2l0aW9uIGZyb20gKDAsIDApIG9mIHNjcmVlblxuICogQHBhcmFtIGR4IFBpeGVsIHBvc2l0aW9uIGZyb20gKDAsIDApIG9mIHNjcmVlblxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pKHByaW9yaXR5OiBudW1iZXIsIGR5ID0gMHg3MCwgZHggPSAweDc4KSB7XG4gIHJldHVybiBuZXcgUG9pKHByaW9yaXR5LCBkeSwgZHgpO1xufVxuXG50eXBlIENvbm5lY3Rpb25zID0gUmVhZG9ubHlBcnJheTxSZWFkb25seUFycmF5PG51bWJlcj4+O1xuXG50eXBlIFNwZWNGbGFnID0gJ2ZpeGVkJyB8ICdmbGFnJyB8ICdwaXQnIHwgJ2RlYWRlbmQnO1xuXG50eXBlIEV4dHJhQXJnID0gbnVtYmVyIHwgU3RhaXIgfCBXYWxsIHwgUG9pIHwgU3BlY0ZsYWc7XG5cbmZ1bmN0aW9uIGNvbm5lY3Rpb24oZGF0YTogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBjb25uZWN0aW9uID0gW107XG4gIHdoaWxlIChkYXRhKSB7XG4gICAgLy8gRWFjaCBvZiB0aGUgZm91ciBlZGdlcyBoYXMgcG9zc2libGUgZXhpdHMgMSwgMiwgYW5kIDMsXG4gICAgLy8gcmVwcmVzZW50ZWQgYnkgdGhhdCBjb3JyZXNwb25kaW5nIHRpbGUuICBUaGUgNCBiaXQgaXNcbiAgICAvLyBmb3IgbGVmdC9yaWdodCBlZGdlIGFuZCB0aGUgOCBiaXQgaXMgZm9yIHJpZ2h0L2JvdHRvbS5cbiAgICBjb25zdCBjaGFubmVsID0gKGRhdGEgJiAzKSA8PCAoZGF0YSAmIDQpOyAvLyAwMSwgMDIsIDAzLCAxMCwgMjAsIG9yIDMwXG4gICAgY29uc3Qgb2Zmc2V0ID0gZGF0YSAmIDggPyAoZGF0YSAmIDQgPyAweDAxMDAgOiAweDEwMDApIDogMDtcbiAgICBjb25uZWN0aW9uLnB1c2goY2hhbm5lbCB8IG9mZnNldCk7XG4gICAgZGF0YSA+Pj49IDQ7XG4gIH1cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBFeGl0IHR5cGVzOlxuLy8gIDA6IGJsb2NrZWRcbi8vICAxOiBub3JtYWwgbmFycm93IHBhc3NhZ2Vcbi8vICAyOiB3aWRlIHBhc3NhZ2Vcbi8vICAzOiByaXZlclxuLy8gIDQ6IHNwaWtlc1xuLy8gIDY6IG5hcnJvdyBleGl0XG4vLyAgNzogYmxvY2tlZCBuZXh0IHRvIHdpZGUgcm9vbVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudHJhbmNlU3BlYyB7XG4gIC8vIGVudHJhbmNlLmNvb3JkXG4gIGVudHJhbmNlOiBudW1iZXI7XG4gIC8vIGV4aXQudGlsZVxuICBleGl0czogbnVtYmVyW107XG59XG5cbi8vIFRPRE8gLSB0aGlzIHNlZW1zIGxpa2UgaXQgc2hvdWxkIGJlIG9uIGEgcGVyLXNwZWNzZXQgYmFzaXM/XG5leHBvcnQgY29uc3QgRURHRV9UWVBFUzoge1tlZGdlOiBudW1iZXJdOiB7W2RpcjogbnVtYmVyXTogRW50cmFuY2VTcGVjfX0gPSB7XG4gIDE6IHtcbiAgICBbRGlyLkRPV05dOiB7XG4gICAgICAvLyBOT1RFOiBUaGVzZSBhcmUgaW5jb3JyZWN0IGZvciBub24tdmVydGljYWwtc2Nyb2xsaW5nIHNjcmVlbnMuLi5cbiAgICAgIC8vIFRoYXQgY2FzZSBuZWVkcyB0byBtb3ZlIHVwIGJ5IHR3byB0aWxlcyBmb3IgdGhlIEhVRC4gIFdlIGNvcnJlY3RcbiAgICAgIC8vIGZvciB0aGlzIGNhc2UgaW4gTG9jYXRpb24ucHJvdG90eXBlLndyaXRlLlxuICAgICAgZW50cmFuY2U6IDB4ZGY4MCxcbiAgICAgIGV4aXRzOiBbMHhlNiwgMHhlNywgMHhlOCwgMHhlOV0sXG4gICAgfSxcbiAgICBbRGlyLlVQXToge1xuICAgICAgLy8gTk9URTogYWdhaW4sIGZvciBzaW5nbGUtaGVpZ2h0IHNjcmVlbnMgdGhlc2UgbmVlZCB0byBtb3ZlIFVQXG4gICAgICAvLyBhIHNpbmdsZSB0aWxlLCB0byAyMDgwIGFuZCAxNi4uMTlcbiAgICAgIGVudHJhbmNlOiAweDMwODAsXG4gICAgICBleGl0czogWzB4MjYsIDB4MjcsIDB4MjgsIDB4MjldLFxuICAgIH0sXG4gIH0sXG4gIDY6IHtcbiAgICBbRGlyLkRPV05dOiB7XG4gICAgICBlbnRyYW5jZTogMHhkZjgwLFxuICAgICAgZXhpdHM6IFsweGU3LCAweGU4XSxcbiAgICB9LFxuICAgIFtEaXIuVVBdOiB7XG4gICAgICBlbnRyYW5jZTogMHgzMDgwLFxuICAgICAgZXhpdHM6IFsweDI3LCAweDI4XSxcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgRU1QVFlfQ0FWRV9TQ1JFRU4gPSBTcGVjKDAsIDB4ODAsICcgJyk7XG5cbmNvbnN0IEJBU0lDX0NBVkVfU0NSRUVOUyA9IFtcbiAgLy8gTm9ybWFsIGNhdmUgc2NyZWVuc1xuICBTcGVjKDB4MF8wMTAxLCAweDgxLCAn4pSCJywgMHgyYSwgcG9pKDQpKSxcbiAgU3BlYygweDBfMTAxMCwgMHg4MiwgJ+KUgCcsIDB4NmUsIHBvaSg0KSksXG4gIFNwZWMoMHgwXzAxMTAsIDB4ODMsICfilIwnLCAweGFlLCBwb2koMikpLFxuICBTcGVjKDB4MF8xMTAwLCAweDg0LCAn4pSQJywgMHg2YSwgcG9pKDIpKSxcbiAgU3BlYygweDBfMDAxMSwgMHg4NSwgJ+KUlCcsIDB4MmUsIHBvaSgyKSksXG4gIFNwZWMoMHgwXzEwMDEsIDB4ODYsICfilJgnLCAweDI2LCBwb2koMikpLFxuICBTcGVjKDB4MF8wMTExLCAweDg3LCAn4pScJywgMHgyYWUsIHBvaSgzKSksXG4gIFNwZWMoMHgwXzExMTEsIDB4ODgsICfilLwnLCAweDI2YWUsIHBvaSgzKSksXG4gIFNwZWMoMHgwXzExMDEsIDB4ODksICfilKQnLCAweDI2YSwgcG9pKDMpKSxcbiAgU3BlYygweDBfMTExMCwgMHg4YSwgJ+KUrCcsIDB4NmFlLCBwb2koMykpLFxuICBTcGVjKDB4MF8xMDExLCAweDhiLCAn4pS0JywgMHgyNmUsIHBvaSgzKSksXG5cbiAgLy8gRG9vcnMsIHdhbGxzLCBkZWFkIGVuZHMsIGV0Y1xuICBTcGVjKDB4Ml8wMTAxLCAweDhjLCAn4pSLJywgMHgyYSksIC8vIGZ1bGwtc2NyZWVuIHN0YWlyIGhhbGx3YXlcbiAgU3BlYygweDEwXzAxMDEsIDB4OGQsICfilasnLCAnZml4ZWQnLCAweDJhKSwgLy8gb3ZlciBicmlkZ2VcbiAgU3BlYygweDEwXzEwMTAsIDB4OGUsICfilasnLCAnZml4ZWQnLCAweDZlKSwgLy8gdW5kZXIgYnJpZGdlXG4gIFNwZWMoMHgxXzAxMDEsIDB4OGYsICfilIYnLCB3YWxsKDB4ODcsIFsweDIsIDB4YV0pKSxcbiAgU3BlYygweDFfMTAxMCwgMHg5MCwgJ+KUhCcsIHdhbGwoMHg2NywgWzB4MiwgMHhhXSkpLFxuICBTcGVjKDB4MV8xMDExLCAweDk0LCAn4pS4Jy8q4pS0Ki8sIHdhbGwoMHgzNywgWzB4MiwgMHg2ZV0pKSxcbiAgU3BlYygweDJfMTAxMCwgMHg5NSwgJ+KUuCcsIDB4NmUsIFN0YWlyLnVwKDB4NDBfODAsIDB4MzcpKSxcbiAgU3BlYygweDFfMTAwMCwgMHg5NiwgJ+KUmicsIDB4NiwgU3RhaXIudXAoMHg0MF8zMCwgMHgzMikpLFxuICBTcGVjKDB4Ml8xMDAwLCAweDk3LCAn4pSSJywgMHg2LCBTdGFpci5kb3duKDB4YWZfMzAsIDB4YjIpKSxcbiAgU3BlYygweDFfMDAxMCwgMHg5OCwgJ+KUlicsIDB4ZSwgU3RhaXIudXAoMHg0MF9kMCwgMHgzYykpLFxuICBTcGVjKDB4Ml8wMDEwLCAweDk5LCAn4pSOJywgMHhlLCBTdGFpci5kb3duKDB4YWZfZDAsIDB4YmMpKSxcbiAgU3BlYygweDJfMDAwMSwgMHg5YSwgJ+KVuScsIDB4MiwgU3RhaXIuZG93bigweDFmXzgwLCAweDI3KSksXG4gIFNwZWMoMHgyXzAxMDAsIDB4OWEsICfilbsnLCAweGEsIFN0YWlyLnVwKDB4ZDBfODAsIDB4YzcpKSxcbiAgLy8gdmVydGljYWwgZGVhZCBlbmRzXG4gIFNwZWMoMHg0XzAxMDEsIDB4OWIsICcgJywgMHgyLCAweGEsICdkZWFkZW5kJyksIC8vIGRvdWJsZVxuICBTcGVjKDB4MF8wMDAxLCAweDliLCAn4pW1JywgMHgyLCBwb2koMCwgLTB4MzAsIDB4NzgpLCAnZGVhZGVuZCcpLFxuICBTcGVjKDB4MF8wMTAwLCAweDliLCAn4pW3JywgMHhhLCBwb2koMCwgMHgxMTAsIDB4NzgpLCAnZGVhZGVuZCcpLFxuICAvLyBob3Jpem9udGFsIGRlYWQgZW5kc1xuICBTcGVjKDB4NF8xMDEwLCAweDljLCAnICcsIDB4NiwgMHhlLCAnZGVhZGVuZCcpLFxuICBTcGVjKDB4MF8wMDEwLCAweDljLCAn4pW2JywgMHhlLCBwb2koMCwgMHg3MCwgMHgxMDgpLCAnZGVhZGVuZCcpLFxuICBTcGVjKDB4MF8xMDAwLCAweDljLCAn4pW0JywgMHg2LCBwb2koMCwgMHg3MCwgLTB4MjgpLCAnZGVhZGVuZCcpLFxuICAvL1xuICBTcGVjKDB4MF8wNjAxLCAweDllLCAn4pW9JywgMHgyYSksIC8vIG5hcnJvdyBib3R0b20gZW50cmFuY2Vcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IEJPU1NfQ0FWRV9TQ1JFRU5TID0gW1xuICBTcGVjKDB4MF83MTc2LCAweDkxLCAn4pWkJywgJ2ZpeGVkJywgMHgyYSwgcG9pKDEsIDB4NjAsIDB4NzgpKSxcbiAgU3BlYygweDdfMDEwMSwgMHg5MSwgJ+KVpCcsICdmaXhlZCcsIDB4MmEsIHBvaSgxLCAweDYwLCAweDc4KSksXG4gIFNwZWMoMHgxXzcxNzYsIDB4OTIsICfilaQnLCAnZml4ZWQnLFxuICAgICAgIHdhbGwoMHgyNywgWzB4MiwgMHhhXSksIHBvaSgxLCAweDYwLCAweDc4KSksXG4gIFNwZWMoMHgwXzAwNzAsIDB4ODAsICfilZgnKSwgLy8gZW1wdHkgc3BvdCB0byBsZWZ0IG9mIGJvc3Mgcm9vbVxuICBTcGVjKDB4MF83MDAwLCAweDgwLCAn4pWbJyksIC8vIGVtcHR5IHNwb3QgdG8gcmlnaHQgb2YgYm9zcyByb29tXG4gIC8vIFRPRE8gLSBmOS4uLiBmb3IgdmFyaW91cyBtb3JlIGJvc3Mgcm9vbXMgKGJ1dCBub24tY2F2ZSlcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IFJJVkVSX1NDUkVFTlMgPSBbXG4gIFNwZWMoMHgwXzMzMzMsIDB4ZDMsICfilawnLCAweDE1LCAweDNkLFxuICAgICAgIGJyaWRnZSgweGI2LCBbMHg3OSwgMHhiZl0pLCBwb2koNCwgMHgwMCwgMHg5OCkpLFxuICBTcGVjKDB4MF8wMzAzLCAweGQ0LCAn4pWRJywgMHgxOSwgMHgzYiksXG4gIFNwZWMoMHgwXzMwMzAsIDB4ZDUsICfilZAnLCAweDVkLCAweDdmKSxcbiAgU3BlYygweDFfMDMwMywgMHhkNiwgJ+KVkScsIGJyaWRnZSgweDg3LCBbMHgxOSwgMHgzYl0pKSxcbiAgU3BlYygweDFfMzAzMCwgMHhkNywgJ+KVkCcsIGJyaWRnZSgweDg2LCBbMHg1ZCwgMHg3Zl0pKSxcbiAgU3BlYygweDBfMDMzMCwgMHhkOCwgJ+KVlCcsIDB4OWQsIDB4YmYpLFxuICBTcGVjKDB4MF8zMzAwLCAweGQ5LCAn4pWXJywgMHg1YiwgMHg3OSksXG4gIFNwZWMoMHgwXzAwMzMsIDB4ZGEsICfilZonLCAweDFmLCAweDNkKSxcbiAgU3BlYygweDBfMzAwMywgMHhkYiwgJ+KVnScsIDB4MTUsIDB4MzcpLFxuICBTcGVjKDB4MF8zMDMxLCAweGRjLCAn4pWnJywgMHgyNWQsIDB4N2YpLFxuICBTcGVjKDB4MF8zMTMwLCAweGRkLCAn4pWkJywgMHg1ZCwgMHg3YWYpLFxuICBTcGVjKDB4MF8xMzAzLCAweGRlLCAn4pWiJywgMHgxNjksIDB4M2IpLFxuICBTcGVjKDB4MF8wMzEzLCAweGRmLCAn4pWfJywgMHgxOSwgMHgzYmUpLFxuICAvLyB2ZXJ0aWNhbCBkZWFkIGVuZHNcbiAgU3BlYygweDhfMDMwMywgMHhmMCwgJyAnLCAweDEsIDB4MywgMHg5LCAweGIsICdkZWFkZW5kJyksIC8vIGRvdWJsZVxuICBTcGVjKDB4MF8wMDAzLCAweGYwLCAnICcsIDB4MSwgMHgzLFxuICAgICAgIHBvaSgxLCAtMHgzMCwgMHg0OCksIHBvaSgxLCAtMHgzMCwgMHg5OCksICdkZWFkZW5kJyksXG4gIFNwZWMoMHgwXzAzMDAsIDB4ZjAsICcgJywgMHg5LCAweGIsXG4gICAgICAgcG9pKDEsIDB4MTEwLCAweDQ4KSwgcG9pKDEsIDB4MTEwLCAweDk4KSwgJ2RlYWRlbmQnKSxcbiAgLy8gaG9yaXpvbnRhbCBkZWFkIGVuZHNcbiAgU3BlYygweDhfMzAzMCwgMHhmMSwgJyAnLCAweDUsIDB4NywgMHhkLCAweGYsICdkZWFkZW5kJyksIC8vIGRvdWJsZVxuICBTcGVjKDB4MF8wMDMwLCAweGYxLCAnICcsIDB4ZCwgMHhmLFxuICAgICAgIHBvaSgxLCAweDYwLCAweDEwOCksIHBvaSgxLCAweGEwLCAweDEwOCksICdkZWFkZW5kJyksXG4gIFNwZWMoMHgwXzMwMDAsIDB4ZjEsICcgJywgMHg1LCAweDcsXG4gICAgICAgcG9pKDEsIDB4NjAsIC0weDI4KSwgcG9pKDEsIDB4YTAsIC0weDI4KSwgJ2RlYWRlbmQnKSxcbiAgLy9cbiAgU3BlYygweDFfMDAwMywgMHhmMiwgJ+KVqCcsIGJyaWRnZSgweDE3LCBbMHgxLCAweDNdKSksIC8vIHRvcC9ib3R0b20gYnJpZGdlICh0b3ApXG4gIFNwZWMoMHgxXzAzMDAsIDB4ZjIsICfilaUnLCBicmlkZ2UoMHhjNiwgWzB4OSwgMHhiXSkpLCAvLyB0b3AvYm90dG9tIGJyaWRnZSAoYm90KVxuICBTcGVjKDB4MF8zMzMwLCAweGYzLCAn4pWmJywgMHg1ZCwgMHg3OSwgMHhiZiksXG4gIFNwZWMoMHgwXzMwMzMsIDB4ZjQsICfilaknLCAweDE1LCAweDNkLCAweDdmKSxcbiAgU3BlYygweDJfMDMwMywgMHhmNSwgJ+KVoCcsIDB4MTksIDB4MywgMHhiLCAvLyBub3RjaGVkIHZlcnRpY2FsIGhhbGxcbiAgICAgICBwb2koMSwgMHhjMCwgMHg5OCksIHBvaSgxLCAweDQwLCAweDk4KSksXG4gIFNwZWMoMHg0XzAzMDMsIDB4ZjYsICfilaMnLCAweDEsIDB4OSwgMHgzYiwgLy8gbm90Y2hlZCB2ZXJ0aWNhbCBoYWxsXG4gICAgICAgcG9pKDEsIDB4YjAsIDB4NDgpLCBwb2koMSwgMHgzMCwgMHg0OCkpLFxuICAvLyBNYWRlLXVwIHRpbGVzIHRvIGhlbHAgYm9vdHN0cmFwcGluZ1xuICAvL1NwZWMoMHgwXzAzMzMsIH42LCAn4pWgJywgMHgxOSwgMHgzZCwgMHhiZiksIC8vIG1hZGUtdXAgdGlsZSB3LyByaWdodCBicmFuY2hcbiAgLy9TcGVjKDB4MF8zMzAzLCB+NywgJ+KVoycsIDB4M2IsIDB4NzksIDB4MTUpLCAvLyBtYWRlLXVwIHRpbGUgdy8gbGVmdCBicmFuY2hcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IFdJREVfU0NSRUVOUyA9IFtcbiAgU3BlYygweDBfMDAwMiwgMHg3MSwgJ+KUuycsIDB4MiwgU3RhaXIuZG93bigweGNmXzgwLCAweGQ3KSksXG4gIFNwZWMoMHgwXzAyMDIsIDB4NzIsICfilIMnLCAweDJhKSxcbiAgU3BlYygweDBfMDAyMiwgMHhlMCwgJ+KUlicsIDB4MmUpLFxuICBTcGVjKDB4MF8yMDAyLCAweGUxLCAn4pSaJywgMHgyNiksXG4gIFNwZWMoMHgwXzAyMjAsIDB4ZTIsICfilI4nLCAweGFlKSxcbiAgU3BlYygweDBfMjIwMCwgMHhlMywgJ+KUkicsIDB4NmEpLFxuICAvLyBOT1RFOiBDdXJyZW50bHkgdGhlc2UgYXJlbid0IHZpYWJsZSwgdXNpbmcgYSBwYXRoLWJhc2VkXG4gIC8vIHN0cmF0ZWd5IGZvciB0aGVzZSByb29tcywgc2luY2Ugd2UgY2FuJ3QgcGxhY2UgdGhpcyBzYWZlbHkuXG4gIC8vIE1hcmtpbmcgaXQgJ2ZpeGVkJyBwcmV2ZW50cyB0cnlpbmcgdG8gcGxhY2UgdGhlbSByYW5kb21seS5cbiAgU3BlYygweDFfMDIwMiwgMHhlNSwgJ+KVjycsICdmaXhlZCcsIDB4MiwgMHhhKSxcbiAgU3BlYygweDBfMjIyMiwgMHhlNiwgJ+KVgicsIDB4MjZhZSksXG4gIFNwZWMoMHgwXzIwMjIsIDB4ZTcsICfilLgnLCAweDI2ZSksXG4gIFNwZWMoMHgwXzIyMjAsIDB4ZTgsICfilLAnLCAweDZhZSksXG4gIFNwZWMoMHgwXzAyMDEsIDB4ZTksICfilb0nLCAnZml4ZWQnLCB3YWxsKDB4MzcsIFsweDIsIDB4YV0pKSxcbiAgU3BlYygweDBfMjAyMCwgMHhlYSwgJ+KUgCcsIDB4NmUpLFxuICBTcGVjKDB4MV8wMjAxLCAweGZkLCAn4pW9JywgJ2ZpeGVkJywgMHgyYSksIC8vIGJ1cnQgcm9vbVxuXSBhcyBjb25zdDtcbmNvbnN0IFdJREVfU0VUID0gbmV3IFNldChbMHg4MCwgLi4uV0lERV9TQ1JFRU5TLm1hcChzcGVjID0+IHNwZWMudGlsZSldKTtcblxuY29uc3QgUElUX1NDUkVFTlMgPSBbXG4gIFNwZWMoMHg4XzEwMTAsIDB4ZWIsICfilIgnLCAncGl0JywgMHg2ZSksXG4gIFNwZWMoMHg4XzAxMDEsIDB4ZWMsICfilIonLCAncGl0JywgMHgyYSksXG5dIGFzIGNvbnN0O1xuXG5jb25zdCBTUElLRV9TQ1JFRU5TID0gW1xuICBTcGVjKDB4MF8wMTA0LCAweGVkLCAn4pW/JywgMHgyYSksXG4gIFNwZWMoMHgwXzA0MDEsIDB4ZWUsICfilb0nLCAweDJhKSxcbiAgU3BlYygweDBfMTQxNCwgMHhlZiwgJ+KVgicsIDB4MjZhZSksXG4gIFNwZWMoMHgwXzA0MDQsIDB4ZjcsICfilIMnLCAweDJhKSxcbl0gYXMgY29uc3Q7XG5cbi8vIE5PVEU6IFRoZXNlIHNob3VsZCBub3QgbWl4IHdpdGggY2F2ZXMgb3Igb3ZlcndvcmxkLlxuLy8gVE9ETyAtIGhvdyB0byBrZWVwIHRoZW0gc2VwYXJhdGU/IT9cbmV4cG9ydCBjb25zdCBTV0FNUF9TQ1JFRU5TID0gW1xuICBTcGVjKDB4MDAwMCwgMHg3ZiwgJyAnKSxcbiAgU3BlYygweDAwMDEsIH4wLCAgICfilbUnLCAweDEpLFxuICBTcGVjKDB4MDAxMCwgMHg3NiwgJ+KVticsIDB4ZCksXG4gIFNwZWMoMHgwMDExLCAweDc5LCAn4pSUJywgMHgxZCksXG4gIFNwZWMoMHgwMTAwLCB+MSwgICAn4pW3JywgMHg5KSxcbiAgU3BlYygweDAxMDEsIH4yLCAgICfilIInLCAweDE5KSxcbiAgU3BlYygweDAxMTAsIH4zLCAgICfilIwnLCAweDlkKSxcbiAgU3BlYygweDAxMTEsIH40LCAgICfilJwnLCAweDE5ZCksXG4gIFNwZWMoMHgxMDAwLCAweDdiLCAn4pW0JywgMHg1KSxcbiAgU3BlYygweDEwMDEsIDB4NzUsICfilJgnLCAweDE1KSxcbiAgU3BlYygweDEwMTAsIH41LCAgICfilIAnLCAweDVkKSxcbiAgU3BlYygweDEwMTEsIDB4N2QsICfilLQnLCAweDE1ZCksXG4gIFNwZWMoMHgxMTAwLCAweDdlLCAn4pSQJywgMHg1OSksXG4gIFNwZWMoMHgxMTAxLCAweDc4LCAn4pSkJywgMHgxNTkpLFxuICBTcGVjKDB4MTExMCwgMHg3YSwgJ+KUrCcsIDB4NTlkKSxcbiAgU3BlYygweDExMTEsIDB4NzcsICfilLwnLCAweDE1OWQpLFxuICAvLyBCb3NzXG4gIFNwZWMoMHhmMWYwLCAweDdjLCAn4pWkJywgJ2ZpeGVkJywgMHg5KSxcbiAgU3BlYygweGYwMDAsIDB4N2YsICfilZ0nLCAnZml4ZWQnKSxcbiAgU3BlYygweDAwZjAsIDB4N2YsICfilZonLCAnZml4ZWQnKSxcbiAgLy8gRG9vcnMgKHZpYSBmbGFnKVxuICBTcGVjKDB4MV8wMDEwLCAweDc2LCAn4pW2JywgJ2ZpeGVkJywgJ2ZsYWcnLCAweGQpLFxuICBTcGVjKDB4MV8wMTAwLCB+MSwgICAn4pW3JywgJ2ZpeGVkJywgJ2ZsYWcnLCAweDkpLFxuICBTcGVjKDB4MV8wMTEwLCB+MywgICAn4pSMJywgJ2ZpeGVkJywgJ2ZsYWcnLCAweDlkKSxcbiAgU3BlYygweDFfMTAwMCwgMHg3YiwgJ+KVtCcsICdmaXhlZCcsICdmbGFnJywgMHg1KSxcbiAgU3BlYygweDFfMTAxMCwgfjUsICAgJ+KUgCcsICdmaXhlZCcsICdmbGFnJywgMHg1ZCksXG4gIFNwZWMoMHgxXzExMDAsIDB4N2UsICfilJAnLCAnZml4ZWQnLCAnZmxhZycsIDB4NTkpLFxuICBTcGVjKDB4MV8xMTEwLCAweDdhLCAn4pSsJywgJ2ZpeGVkJywgJ2ZsYWcnLCAweDU5ZCksXG5dIGFzIGNvbnN0O1xuXG4vLyBOT1RFOiBUaGVzZSBzaG91bGQgbm90IG1peCB3aXRoIG90aGVyIHNjcmVlbnMuXG5leHBvcnQgY29uc3QgR09BMV9TQ1JFRU5TID0gW1xuICAvLyBDbGVhciBzY3JlZW5zXG4gIFNwZWMoMHgwMDAwLCAweDgwLCAnICcpLFxuICBTcGVjKDB4MDAxMSwgMHhlMCwgJ+KUlCcsICdmbGFnJywgMHgxZiwgMHgyZSwgMHgzZCksXG4gIFNwZWMoMHgwMTAxLCAweGU0LCAn4pSCJywgJ2ZsYWcnLCAweDEyMzlhYiksXG4gIFNwZWMoMHgwMTEwLCAweGUyLCAn4pSMJywgJ2ZsYWcnLCAweDlkLCAweGFlLCAweGJmKSxcbiAgU3BlYygweDEwMDEsIDB4ZTEsICfilJgnLCAnZmxhZycsIDB4MTUsIDB4MjYsIDB4MzcpLFxuICBTcGVjKDB4MTAxMCwgMHhlYSwgJ+KUgCcsICAgICAgICAgMHg1ZCwgMHg2ZSwgMHg3ZiksXG4gIFNwZWMoMHgxMDExLCAweGU3LCAn4pS0JywgJ2ZsYWcnLCAweDE1LCAweDI2ZSwgMHgzZCwgMHg3ZiksXG4gIFNwZWMoMHgxMTAwLCAweGUzLCAn4pSQJywgJ2ZsYWcnLCAweDViLCAweDZhLCAweDc5KSxcbiAgU3BlYygweDExMTAsIDB4ZTgsICfilKwnLCAnZmxhZycsIDB4NWQsIDB4NmFlLCAweDc5LCAweGJmKSxcbiAgU3BlYygweDExMTEsIDB4ZTYsICfilLwnLCAnZmxhZycsIDB4MTUsIDB4MjZhZSwgMHgzZCwgMHg3OSwgMHhiZiksXG4gIC8vIFNpbXBsZSBmbGFnZ2VkIHNjcmVlbnMgKGRvbid0IGdlbmVyYXRlIHRoZXNlISlcbiAgU3BlYygweDFfMDAxMSwgMHhlMCwgJ+KUlCcsICdmaXhlZCcsIDB4MmUsIDB4M2QpLFxuICBTcGVjKDB4MV8wMTAxLCAweGU0LCAn4pSCJywgJ2ZpeGVkJywgMHgxMmFiKSxcbiAgU3BlYygweDFfMDExMCwgMHhlMiwgJ+KUjCcsICdmaXhlZCcsIDB4YWUsIDB4YmYpLFxuICBTcGVjKDB4MV8xMDAxLCAweGUxLCAn4pSYJywgJ2ZpeGVkJywgMHgxNSwgMHgyNiksXG4gIFNwZWMoMHgxXzEwMTEsIDB4ZTcsICfilLQnLCAnZml4ZWQnLCAweDI2ZSwgMHg3ZiksXG4gIFNwZWMoMHgxXzExMDAsIDB4ZTMsICfilJAnLCAnZml4ZWQnLCAweDZhLCAweDc5KSxcbiAgU3BlYygweDFfMTExMCwgMHhlOCwgJ+KUrCcsICdmaXhlZCcsIDB4NWQsIDB4NmFlKSxcbiAgU3BlYygweDFfMTExMSwgMHhlNiwgJ+KUvCcsICdmaXhlZCcsIDB4MTUsIDB4MjZhZSwgMHhiZiksXG4gIC8vIERlYWQgZW5kc1xuICBTcGVjKDB4Ml8wMTAxLCAweGU1LCAn4pSKJywgJ2ZpeGVkJywgJ2ZsYWcnLCAweDEzOWIpLCAvLyBkZWFkIGVuZFxuICBTcGVjKDB4M18wMTAxLCAweGU1LCAn4pSKJywgJ2ZpeGVkJywgMHgzOSksIC8vIGRlYWQgZW5kXG4gIC8vIEZpeGVkIHNjcmVlbnMgKGVudHJhbmNlKVxuICBTcGVjKDB4ZjBmMSwgMHg3MSwgJ+KVvScsICdmaXhlZCcsIDB4MmEpLFxuICBTcGVjKDB4MDBmMCwgMHg4MCwgJ+KWiCcsICdmaXhlZCcpLFxuICBTcGVjKDB4ZjAwMCwgMHg4MCwgJ+KWiCcsICdmaXhlZCcpLFxuICAvLyBGaXhlZCBzY3JlZW5zIChib3NzKVxuICBTcGVjKDB4ZmZmMCwgMHg3MywgJ+KVkCcsICdmaXhlZCcpLCAvLyAsIDB4MmEpLFxuICBTcGVjKDB4ZjFmZiwgMHg3MiwgJ+KVpCcsICdmaXhlZCcpLCAvLyAsIDB4MjliKSxcbiAgU3BlYygweDBmZjAsIDB4ODAsICfilZQnLCAnZml4ZWQnKSxcbiAgU3BlYygweGZmMDAsIDB4ODAsICfilZcnLCAnZml4ZWQnKSxcbiAgU3BlYygweDAwZmYsIDB4ODAsICfilZonLCAnZml4ZWQnKSxcbiAgU3BlYygweGYwMGYsIDB4ODAsICfilZ0nLCAnZml4ZWQnKSxcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IEFMTF9DQVZFX1NDUkVFTlMgPSBbXG4gIEJBU0lDX0NBVkVfU0NSRUVOUyxcbiAgQk9TU19DQVZFX1NDUkVFTlMsXG4gIFJJVkVSX1NDUkVFTlMsXG4gIFdJREVfU0NSRUVOUyxcbiAgUElUX1NDUkVFTlMsXG4gIFNQSUtFX1NDUkVFTlMsXG5dO1xuXG4vLyBUaWxlcyB3aXRoIHdhdGVyIG9uIHRoZW0uXG5jb25zdCBSSVZFUl9USUxFUyA9IG5ldyBTZXQoUklWRVJfU0NSRUVOUy5tYXAocyA9PiBzLnRpbGUpKTtcblxuLy8gY29uc3QgQUxMX1NDUkVFTlMgPSBbXG4vLyAgIC4uLkFMTF9DQVZFX1NDUkVFTlMsXG4vLyAgIFNXQU1QX1NDUkVFTlMsXG4vLyAgIEdPQTFfU0NSRUVOUyxcbi8vIF07XG5cbi8vIE1hcHMgYSA0LWJpdCBtYXNrIHRvIGEgY291bnRcbmNvbnN0IEJJVENPVU5UID0gWzAsIDEsIDEsIDIsIDEsIDIsIDIsIDMsIDEsIDIsIDIsIDMsIDIsIDMsIDMsIDRdIGFzIGNvbnN0O1xuXG5leHBvcnQgY2xhc3MgU3BlY1NldCB7XG4gIC8vIFdoaWNoIHRpbGVzIGFyZSBmaXhlZCAtPiBtYXBzIHRpbGUgdG8gc3BlY1xuICByZWFkb25seSBmaXhlZFRpbGVzID0gbmV3IE1hcDxudW1iZXIsIFNwZWM+KCk7XG4gIC8vIERlYWQgZW5kIHRpbGVzXG4gIHJlYWRvbmx5IGRlYWRFbmRUaWxlcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAvLyBNYXNrIG9mIG9wZW4gZWRnZXMgKDE9dXAsIDI9cmlnaHQsIDQ9ZG93biwgOD1sZWZ0KSBieSA4LWJpdCB0aWxlIGlkXG4gIHJlYWRvbmx5IGVkZ2VzQnlUaWxlID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKTtcbiAgLy8gTWFwcyAoOC1iaXQgdGlsZSA8PCA4IHwgWVggKHRpbGUpIGZvciBlbnRyYW5jZSkgPT4gZGlyICh1cC9kb3duKVxuICByZWFkb25seSBzdGFpcnNCeVRpbGUgPSBuZXcgTWFwPG51bWJlciwgRGlyPigpO1xuICAvLyBNYXBzIFNjciB0byBkaXJlY3Rpb24gYW5kIGVudHJhbmNlXG4gIHJlYWRvbmx5IHN0YWlyU2NyZWVucyA9IG5ldyBNYXA8U2NyLCByZWFkb25seSBbRGlyLCBFbnRyYW5jZVNwZWNdPigpO1xuICAvLyBNYXBzIG9mIDgtYml0IHRpbGUgSURzIHRvIHdhbGwgdHlwZVxuICByZWFkb25seSB3YWxscyA9IG5ldyBNYXA8bnVtYmVyLCAnd2FsbCcgfCAnYnJpZGdlJz4oKTtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBzcGVjU2V0czogUmVhZG9ubHlBcnJheTxSZWFkb25seUFycmF5PFNwZWM+PixcbiAgICAgICAgICAgICAgcmVhZG9ubHkgZW1wdHk/OiBTcGVjKSB7XG4gICAgZm9yIChjb25zdCBzcGVjIG9mIGl0ZXJzLmNvbmNhdCguLi5zcGVjU2V0cykpIHtcbiAgICAgIGZvciAoY29uc3QgZGlyIG9mIERpci5BTEwpIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IChzcGVjLmVkZ2VzID4+IERpci5zaGlmdChkaXIpKSAmIDB4ZjtcbiAgICAgICAgaWYgKGVkZ2UgJiYgKGVkZ2UgJiA3KSAhPSA3KSB7XG4gICAgICAgICAgdGhpcy5lZGdlc0J5VGlsZS5zZXQoXG4gICAgICAgICAgICAgIHNwZWMudGlsZSxcbiAgICAgICAgICAgICAgKHRoaXMuZWRnZXNCeVRpbGUuZ2V0KHNwZWMudGlsZSkgfHwgMCkgfCAoMSA8PCBkaXIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBzdGFpciBvZiBzcGVjLnN0YWlycykge1xuICAgICAgICBjb25zdCBwb3MgPSAoc3RhaXIuZW50cmFuY2UgJiAweGYwMDApID4+IDggfFxuICAgICAgICAgICAgICAgICAgICAoc3RhaXIuZW50cmFuY2UgJiAweGYwKSA+PiA0O1xuICAgICAgICB0aGlzLnN0YWlyc0J5VGlsZS5zZXQoc3BlYy50aWxlIDw8IDggfCBwb3MsIHN0YWlyLmRpcik7XG4gICAgICAgIHRoaXMuc3RhaXJTY3JlZW5zLnNldChzcGVjLmVkZ2VzLCBbXG4gICAgICAgICAgICBzdGFpci5kaXIsXG4gICAgICAgICAgICB7ZW50cmFuY2U6IHN0YWlyLmVudHJhbmNlLCBleGl0czogW3N0YWlyLmV4aXQsIHN0YWlyLmV4aXQgKyAxXX1dKTtcbiAgICAgIH1cbiAgICAgIGlmIChzcGVjLndhbGwpIHRoaXMud2FsbHMuc2V0KHNwZWMudGlsZSwgc3BlYy53YWxsLnR5cGUpO1xuICAgICAgaWYgKHNwZWMudGlsZSAhPSAweDgwICYmIHNwZWMuZml4ZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpeGVkVGlsZXMuaGFzKHNwZWMudGlsZSkpIHtcbiAgICAgICAgICAvLyB0aWxlIDkxIGhhcyB0d28gb3B0aW9ucyAtIHVzZSB0aGUgZmlyc3Qgb25lLlxuICAgICAgICAgIHRoaXMuZml4ZWRUaWxlcy5zZXQoc3BlYy50aWxlLCBzcGVjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNwZWMuZGVhZEVuZCkgdGhpcy5kZWFkRW5kVGlsZXMuYWRkKHNwZWMudGlsZSk7XG4gICAgfVxuICB9XG5cbiAgc3VydmV5KGxvYzogTG9jYXRpb24pOiBTdXJ2ZXkge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBsZXQgZGVhZEVuZHMgPSAwO1xuICAgIGxldCBicmFuY2hlcyA9IDA7XG4gICAgbGV0IHdhbGxzID0gMDtcbiAgICBsZXQgYnJpZGdlcyA9IDA7XG4gICAgbGV0IHJpdmVycyA9IDA7XG4gICAgbGV0IHdpZGUgPSB0cnVlO1xuICAgIGxldCBhbnlXaWRlID0gZmFsc2U7XG4gICAgY29uc3Qgc3RhaXJzID0gbmV3IE1hcDxQb3MsIEV4aXRTcGVjPigpO1xuICAgIGNvbnN0IGVkZ2VzID0gbmV3IE1hcDxQb3MsIEV4aXRTcGVjPigpO1xuICAgIGNvbnN0IGZpeGVkID0gbmV3IE1hcDxQb3MsIFNwZWM+KCk7XG4gICAgY29uc3QgdGlsZXMgPSBuZXcgTXVsdGlzZXQ8bnVtYmVyPigpO1xuICAgIGNvbnN0IHNwZWNzOiBTcGVjW10gPSBbXTtcblxuICAgIC8vIENvbGxlY3QgYWxsIHNwZWNzLlxuICAgIGlmICh0aGlzLmVtcHR5KSBzcGVjcy5wdXNoKHRoaXMuZW1wdHkpO1xuICAgIGNvbnN0IGFsbFRpbGVzID0gbmV3IFNldCgoW10gYXMgbnVtYmVyW10pLmNvbmNhdCguLi5sb2Muc2NyZWVucykpO1xuICAgIGZvciAoY29uc3Qgc2V0IG9mIHRoaXMuc3BlY1NldHMpIHtcbiAgICAgIGZvciAoY29uc3Qgc2NyIG9mIHNldCkge1xuICAgICAgICBpZiAoc2NyLnRpbGUgPT09IDB4ODApIGNvbnRpbnVlO1xuICAgICAgICBpZiAoYWxsVGlsZXMuaGFzKHNjci50aWxlKSkge1xuICAgICAgICAgIHNwZWNzLnB1c2goLi4uc2V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNwZWNpYWwgY2FzZTogdGlsZXNldCBhNCBjYW5ub3QgaGFuZGxlIGhvcml6b250YWwgd2FsbCBjb3JyaWRvcnNcbiAgICBpZiAobG9jLnRpbGVzZXQgPT09IDB4YTQpIHtcbiAgICAgIGZvciAobGV0IGkgPSBzcGVjcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoc3BlY3NbaV0uZWRnZXMgPT09IDB4MV8xMDEwKSBzcGVjcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IG9mIFBvcyB2YWx1ZXMgb2YgcmVhY2hhYmxlIHNjcmVlbnMuICBBbGxvd3MgcmVtb3ZpbmcgdGhlXG4gICAgLy8gXCJ3cm9uZyBzaWRlXCIgb2YgYnJpZGdlcy5cbiAgICBjb25zdCByZWFjaGFibGUgPVxuICAgICAgICBuZXcgU2V0KFsuLi5sb2MucmVhY2hhYmxlVGlsZXModHJ1ZSkua2V5cygpXS5tYXAodCA9PiB0ID4+PiA4KSk7XG4gICAgaWYgKCFyZWFjaGFibGUuc2l6ZSkgdGhyb3cgbmV3IEVycm9yKCdObyByZWFjaGFibGUgdGlsZXMnKTtcblxuICAgIC8vIE1hcHMgZW50cmFuY2UgbnVtYmVyIHRvIExMRUUgd2hlcmUgTEwgaXMgOC1iaXQgbG9jYXRpb24gaWQsIEVFIGlzXG4gICAgLy8gOC1iaXQgZW50cmFuY2UgbnVtYmVyIChyZWFsbHkgNS1iaXQsIGJ1dCB3ZSBkb24ndCBjb21wcmVzcykuXG4gICAgY29uc3QgZW50cmFuY2VUb0V4aXQgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPihsb2MuZW50cmFuY2VzLm1hcChcbiAgICAgICAgKGVudHJhbmNlLCBudW0pOiBbbnVtYmVyLCBudW1iZXJdfG51bGwgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgZXhpdCBvZiBsb2MuZXhpdHMpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhleGl0LnggLSBlbnRyYW5jZS54KSA8IDIwICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoZXhpdC55IC0gZW50cmFuY2UueSkgPCAyMCkge1xuICAgICAgICAgICAgICByZXR1cm4gW251bSwgZXhpdC5kZXN0IDw8IDggfCBleGl0LmVudHJhbmNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pLmZpbHRlcihpc05vbk51bGwpKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jLmVudHJhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW50cmFuY2UgPSBsb2MuZW50cmFuY2VzW2ldO1xuICAgICAgY29uc3Qgc2NyID0gbG9jLnNjcmVlbnNbZW50cmFuY2Uuc2NyZWVuID4+PiA0XVtlbnRyYW5jZS5zY3JlZW4gJiAweGZdO1xuICAgICAgY29uc3QgZGlyID0gdGhpcy5zdGFpcnNCeVRpbGUuZ2V0KHNjciA8PCA4IHwgZW50cmFuY2UudGlsZSk7XG4gICAgICBpZiAoZGlyICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZXhpdCA9IGVudHJhbmNlVG9FeGl0LmdldChpKTtcbiAgICAgICAgaWYgKGV4aXQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBleGl0YCk7XG4gICAgICAgIHN0YWlycy5zZXQoZW50cmFuY2Uuc2NyZWVuIGFzIFBvcyxcbiAgICAgICAgICAgICAgICAgICB7ZW50cmFuY2U6IGksIGV4aXQsIGRpcn0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGxvYy5oZWlnaHQ7IHkrKykge1xuICAgICAgbGV0IGVkZ2VNYXNrID0gMDtcbiAgICAgIGlmICgheSkgZWRnZU1hc2sgfD0gMTtcbiAgICAgIGlmICh5ID09PSBsb2MuaGVpZ2h0IC0gMSkgZWRnZU1hc2sgfD0gNDtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgbG9jLndpZHRoOyB4KyspIHtcbiAgICAgICAgY29uc3QgcG9zID0gKHkgPDwgNCB8IHgpIGFzIFBvcztcbiAgICAgICAgaWYgKCFyZWFjaGFibGUuaGFzKHBvcykpIGNvbnRpbnVlO1xuICAgICAgICBlZGdlTWFzayAmPSB+MHhhO1xuICAgICAgICBpZiAoIXgpIGVkZ2VNYXNrIHw9IDg7XG4gICAgICAgIGlmICh4ID09PSBsb2Mud2lkdGggLSAxKSBlZGdlTWFzayB8PSAyO1xuICAgICAgICBjb25zdCB0aWxlID0gbG9jLnNjcmVlbnNbeV1beF07XG4gICAgICAgIHRpbGVzLmFkZCh0aWxlKTtcbiAgICAgICAgaWYgKHRpbGUgPT09IDB4ODApIGNvbnRpbnVlO1xuICAgICAgICBpZiAoV0lERV9TRVQuaGFzKHRpbGUpKSB7XG4gICAgICAgICAgYW55V2lkZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2lkZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNpemUrKztcbiAgICAgICAgaWYgKFJJVkVSX1RJTEVTLmhhcyh0aWxlKSkgcml2ZXJzKys7XG4gICAgICAgIC8vIExvb2sgZm9yIGV4aXRzIG9uIHRoZSBlZGdlIG9mIHRoZSBtYXBcbiAgICAgICAgbGV0IGVkZ2VFeGl0cyA9IHRoaXMuZWRnZXNCeVRpbGUuZ2V0KHRpbGUpXG4gICAgICAgIGlmIChlZGdlRXhpdHMgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBCYWQgdGlsZTogJHtoZXgodGlsZSl9YCk7XG4gICAgICAgIC8vIE5PVEU6IHNwZWNpYWwtY2FzZSB0aGUgdHdvLXN0YWlyIGFuZCBkZWFkLWVuZCBjYXNlcy5cbiAgICAgICAgbGV0IGVkZ2VDb3VudCA9IEJJVENPVU5UW2VkZ2VFeGl0c10gKyAoc3RhaXJzLmhhcyhwb3MpID8gMSA6IDApO1xuICAgICAgICBpZiAodGlsZSA9PT0gMHg5YSkgZWRnZUNvdW50ID0gMjtcbiAgICAgICAgaWYgKHRpbGUgPT09IDB4OWIgfHwgdGlsZSA9PSAweDljIHx8IHRpbGUgPT0gMHhmMCB8fCB0aWxlID09IDB4ZjEpIHtcbiAgICAgICAgICBlZGdlQ291bnQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlZGdlQ291bnQgPT09IDEpIGRlYWRFbmRzKys7XG4gICAgICAgIGlmIChlZGdlQ291bnQgPiAyKSBicmFuY2hlcyArPSAoZWRnZUNvdW50IC0gMik7XG4gICAgICAgIGNvbnN0IHdhbGwgPSB0aGlzLndhbGxzLmdldCh0aWxlKTtcbiAgICAgICAgaWYgKHdhbGwgPT09ICd3YWxsJykgd2FsbHMrKztcbiAgICAgICAgaWYgKHdhbGwgPT09ICdicmlkZ2UnKSBicmlkZ2VzKys7XG4gICAgICAgIGxldCBmaXhlZFNjciA9IHRoaXMuZml4ZWRUaWxlcy5nZXQodGlsZSk7XG4gICAgICAgIGlmICh0aGlzLmRlYWRFbmRUaWxlcy5oYXModGlsZSkpIGVkZ2VFeGl0cyA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZGlyIG9mIERpci5BTEwpIHtcbiAgICAgICAgICBpZiAoZWRnZUV4aXRzICYgZWRnZU1hc2sgJiAoMSA8PCBkaXIpKSB7XG4gICAgICAgICAgICBsZXQgZW50cmFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2MuZW50cmFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChsb2MuZW50cmFuY2VzW2ldLnNjcmVlbiA9PT0gcG9zICYmXG4gICAgICAgICAgICAgICAgICBtYXRjaGVzRGlyKGxvYy5lbnRyYW5jZXNbaV0udGlsZSwgZGlyKSkge1xuICAgICAgICAgICAgICAgIGVudHJhbmNlID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudHJhbmNlID09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy9pZiAoZW50cmFuY2UgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBlbnRyYW5jZSBmb3IgZWRnZWApO1xuICAgICAgICAgICAgLy9jb25zdCBlbnRyYW5jZVBvcyA9IGxvYy5lbnRyYW5jZXNbZW50cmFuY2VdO1xuICAgICAgICAgICAgY29uc3QgZXhpdCA9IGVudHJhbmNlVG9FeGl0LmdldChlbnRyYW5jZSk7XG4gICAgICAgICAgICBpZiAoZXhpdCA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGV4aXRgKTtcbiAgICAgICAgICAgIGVkZ2VzLnNldChwb3MsIHtlbnRyYW5jZSwgZXhpdCwgZGlyfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaXhlZFNjciAhPSBudWxsKSBmaXhlZC5zZXQocG9zLCBmaXhlZFNjcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyaXZlcnMpIHtcbiAgICAgIC8vIHJpdmVyIHNjcmVlbnMgY2FuJ3QgZWFzaWx5IHN1cHBvcnQgYmxhbmtzIG9uIGVpdGhlciBzaWRlIG9mIHRoZSBib3NzXG4gICAgICAvLyByb29tIHNvIGluc3RlYWQgcmVwbGFjZSAwXzcxNzYgd2l0aCA3XzAxMDEuXG4gICAgICBmb3IgKGNvbnN0IFtwb3MsIHNjcl0gb2YgZml4ZWQpIHtcbiAgICAgICAgaWYgKHNjci5lZGdlcyAhPT0gMHg3MTc2KSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgc3BlYyA9IHNwZWNzLmZpbmQocyA9PiBzLmVkZ2VzID09PSAweDdfMDEwMSk7XG4gICAgICAgIGlmIChzcGVjKSBmaXhlZC5zZXQocG9zLCBzcGVjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdpZGUgIT0gYW55V2lkZSkgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBpbmNvbnNpc3RlbnQgdXNlIG9mIHdpZGUgdGlsZXNgKTtcbiAgICByZXR1cm4ge3NpemUsIHJpdmVycywgZGVhZEVuZHMsIGJyYW5jaGVzLCB3YWxscywgYnJpZGdlcywgc3RhaXJzLFxuICAgICAgICAgICAgZWRnZXMsIGZpeGVkLCB0aWxlcywgd2lkZSwgc3BlY3MsIHNwZWNTZXQ6IHRoaXN9O1xuICB9XG5cbiAgIHN0YXRpYyByZWFkb25seSBDQVZFID0gbmV3IFNwZWNTZXQoQUxMX0NBVkVfU0NSRUVOUywgRU1QVFlfQ0FWRV9TQ1JFRU4pO1xufVxuXG5pbnRlcmZhY2UgRXhpdFNwZWMge1xuICBlbnRyYW5jZTogbnVtYmVyOyAvLyBpbmRleCBpbnRvIHRoZSBlbnRyYW5jZSB0YWJsZVxuICBleGl0OiBudW1iZXI7IC8vIGxvY2F0aW9uIDw8IDggfCB0YXJnZXRcbiAgZGlyOiBEaXI7IC8vIDAgKHVwKSBvciAyIChkb3duKVxufSAgXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5IHtcbiAgc2l6ZTogbnVtYmVyO1xuICByaXZlcnM6IG51bWJlcjtcbiAgZGVhZEVuZHM6IG51bWJlcjtcbiAgYnJhbmNoZXM6IG51bWJlcjtcbiAgYnJpZGdlczogbnVtYmVyO1xuICB3YWxsczogbnVtYmVyO1xuICB3aWRlOiBib29sZWFuO1xuICBzdGFpcnM6IE1hcDxQb3MsIEV4aXRTcGVjPjtcbiAgZWRnZXM6IE1hcDxQb3MsIEV4aXRTcGVjPjtcbiAgZml4ZWQ6IE1hcDxQb3MsIFNwZWM+O1xuICB0aWxlczogTXVsdGlzZXQ8bnVtYmVyPjtcbiAgc3BlY3M6IFNwZWNbXTtcbiAgc3BlY1NldDogU3BlY1NldDtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlc0Rpcih0aWxlOiBudW1iZXIsIGRpcjogRGlyKTogYm9vbGVhbiB7XG4gIGlmIChkaXIgPT09IDApIHJldHVybiAodGlsZSA+Pj4gNCkgPCAweDQ7XG4gIGlmIChkaXIgPT09IDEpIHJldHVybiAodGlsZSAmIDB4ZikgPiAweGQ7XG4gIGlmIChkaXIgPT09IDIpIHJldHVybiAodGlsZSA+Pj4gNCkgPiAweGM7XG4gIGlmIChkaXIgPT09IDMpIHJldHVybiAodGlsZSAmIDB4ZikgPCAweDI7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqIFBhcnNlIGEgc3RyaW5nIG9mIGhleCBkaWdpdHMuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZFNjcmVlbihzdHI6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3Qgc2NyID0gc3RyLnNwbGl0KC8gKy9nKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxNikpO1xuICBmb3IgKGNvbnN0IHggb2Ygc2NyKSB7XG4gICAgaWYgKHR5cGVvZiB4ICE9ICdudW1iZXInIHx8IGlzTmFOKHgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJhZCBzY3JlZW46ICR7eH0gaW4gJHtzdHJ9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzY3I7XG59XG5cbi8qKiBXcml0ZXMgMmQgZGF0YSBpbnRvIGEgYW4gTngxNiAoZmxhdHRlbmVkKSBhcnJheS4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZTJkPFQ+KGFycjogVFtdLCBjb3JuZXI6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGw6IFJlYWRvbmx5QXJyYXk8UmVhZG9ubHlBcnJheTxUfHVuZGVmaW5lZD4+KSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwbC5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVwbFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgeCA9IHJlcGxbaV1bal07XG4gICAgICBpZiAoeCAhPSBudWxsKSBhcnJbY29ybmVyICsgKGkgPDwgNCB8IGopXSA9IHg7XG4gICAgfVxuICB9XG59XG4iXX0=