import { Entity, EntityArray } from './entity.js';
import { MessageId } from './messageid.js';
import { hex, readString, tuple, ITEM_USE_FLAGS, ITEM_CONDITION_FLAGS, relocExportLabel } from './util.js';
import { Address, Segment } from './util.js';
import { assertNever } from '../util.js';
const { $0e, $0f, $10, $1a } = Segment;
const ITEM_USE_JUMP_TABLE = Address.of($0e, 0x8399);
const ITEM_USE_DATA_TABLE = Address.of($0e, 0x9be2);
const ITEM_DATA_TABLE = Address.of($10, 0x8ff0);
const SELECTED_ITEM_TABLE = Address.of($10, 0x903b);
const MENU_NAME_TABLE = Address.of($10, 0x9086);
const ARMOR_DEFENSE_TABLE = Address.of($1a, 0x8bc0);
const SHIELD_DEFENSE_TABLE = Address.of($1a, 0x8bc9);
const MENU_NAME_ENCODE = [
    ['Sword', '\x0a\x0b\x0c'],
    [' of ', '\x5c\x5d'],
    ['Bracelet', '\x3c\x3d\x3e\x5b'],
    ['Shield', '\x0d\x0e\x0f'],
    ['Armor', '\x7b\x11\x12'],
    ['Magic', '\x23\x25\x28'],
    ['Power', '\x13\x14\x15'],
    ['Item', '\x16\x17\x5e'],
];
export class Item extends Entity {
    constructor(items, id, opts = {}) {
        super(items.rom, id);
        this.items = items;
        const rom = this.rom;
        items[id] = this;
        this.itemUseData = [];
        this.trades = opts.trades || [];
        this.use = opts.use || false;
        this.weight = opts.weight || 1;
        this.valueAddr =
            opts.valueAddr != null ? Address.of($0e, opts.valueAddr) : undefined;
        if (this.valueAddr != null)
            this.value = this.valueAddr.read(rom.prg);
        if (this.use) {
            this.itemUseJump =
                this.itemUseJumpPointer.readAddress(rom.prg, $0e, $0f);
            const entries = items.itemUseJumps[this.itemUseJump.org];
            if (!entries)
                throw new Error(`Bad ItemUseJump: ${this.itemUseJump}`);
            let itemUseOffset = this.itemUseDataPointer.readAddress(rom.prg, $0e, $0f);
            for (const entry of entries) {
                const data = ItemUse.from(entry, rom.prg, itemUseOffset);
                this.itemUseData.push(data);
                itemUseOffset = itemUseOffset.plus(data.length);
            }
        }
        this.itemDataValue = this.itemDataPointer.read(rom.prg);
        this.selectedItemValue = this.selectedItemPointer.read(rom.prg);
        const menuNameBase = this.menuNamePointer.readAddress(rom.prg);
        this.menuName =
            MENU_NAME_ENCODE.reduce((s, [d, e]) => s.replace(e, d), readString(rom.prg, menuNameBase.offset, 0xff));
    }
    get messageName() {
        return this.rom.messages.itemNames[this.id];
    }
    set messageName(name) {
        this.rom.messages.itemNames[this.id] = name;
    }
    get basePrice() {
        return this.rom.shops.basePrices[this.id];
    }
    set basePrice(price) {
        this.rom.shops.basePrices[this.id] = price;
    }
    get itemUseJumpPointer() {
        return ITEM_USE_JUMP_TABLE.plus(this.id << 1);
    }
    get itemUseDataPointer() {
        return ITEM_USE_DATA_TABLE.plus(this.id << 1);
    }
    get itemDataPointer() {
        return ITEM_DATA_TABLE.plus(this.id);
    }
    get selectedItemPointer() {
        return SELECTED_ITEM_TABLE.plus(this.id);
    }
    get menuNamePointer() {
        return MENU_NAME_TABLE.plus(this.id << 1);
    }
    itemUseMessages() {
        const messages = new Map();
        for (const { message } of this.itemUseData) {
            messages.set(message.mid, message);
        }
        return [...messages.values()];
    }
    setName(name) {
        this.messageName = this.menuName = name;
    }
    get palette() { return this.itemDataValue & 3; }
    set palette(p) { this.itemDataValue = this.itemDataValue & ~3 | (p & 3); }
    get unique() { return !!(this.itemDataValue & 0x40); }
    set unique(u) { this.itemDataValue = this.itemDataValue & ~0x40 | (u ? 0x40 : 0); }
    get worn() { return !!(this.itemDataValue & 0x20); }
    set worn(w) { this.itemDataValue = this.itemDataValue & ~0x20 | (w ? 0x20 : 0); }
    get solid() { return !!(this.itemDataValue & 0x80); }
    set solid(s) { this.itemDataValue = this.itemDataValue & ~0x80 | (s ? 0x80 : 0); }
    assemble(a) {
        const id = hex(this.id);
        this.itemDataPointer.loc(a, `ItemData_${id}`);
        a.byte(this.itemDataValue);
        this.selectedItemPointer.loc(a, `ItemSelectedValue_${id}`);
        a.byte(this.selectedItemValue);
        const menuNameEncoded = MENU_NAME_ENCODE.reduce((s, [d, e]) => s.replace(d, e), this.menuName);
        a.segment($10);
        a.reloc(`ItemMenuName_${hex(this.id)}`);
        const menuNameAddr = a.pc();
        a.byte(menuNameEncoded, 0xff);
        this.menuNamePointer.loc(a, `ItemMenuName_${id}`);
        a.word(menuNameAddr);
        if (this.itemUseJump) {
            this.itemUseJumpPointer.loc(a, `ItemUseJump_${id}_Ptr`);
            a.word(this.itemUseJump.org);
            const itemUseData = [];
            for (const use of this.itemUseData) {
                itemUseData.push(...use.bytes());
            }
            a.segment($0e.name, $0f.name);
            a.reloc(`ItemUseData_${id}`);
            const usePtr = a.pc();
            a.byte(...itemUseData);
            this.itemUseDataPointer.loc(a, `ItemUseData_${id}_Ptr`);
            a.word(usePtr);
        }
        if (this.valueAddr) {
            this.valueAddr.loc(a, `ItemValue_${id}`);
            a.byte(this.value);
        }
    }
    isMagic() {
        return this.id >= 0x41 && this.id <= 0x48;
    }
}
export class ItemUse {
    constructor(kind, want, message, flags) {
        this.kind = kind;
        this.want = want;
        this.message = message;
        this.flags = flags;
    }
    static from(kind, data, addr) {
        let { offset } = addr;
        let want = 0;
        if (kind === 'expect' || kind === 'screen') {
            want = data[offset + 1] << 8 | data[offset];
            offset += 2;
        }
        else if (kind === 'flag') {
            const flags = ITEM_CONDITION_FLAGS.read(data, offset);
            if (!flags.length)
                flags.push(~0);
            if (flags.length > 1)
                throw new Error(`Flag list too long: ${flags}`);
            want = flags[0];
            offset += 2;
        }
        else if (kind === 'location') {
            want = data[offset++];
        }
        else if (kind !== 'empty') {
            assertNever(kind);
        }
        const message = MessageId.from(data, offset);
        const flags = ITEM_USE_FLAGS.read(data, offset + 2);
        return new ItemUse(kind, want, message, flags);
    }
    bytes() {
        const bytes = [];
        if (this.kind === 'expect' || this.kind === 'screen') {
            bytes.push(this.want & 0xff, (this.want >>> 8) & 0xff);
        }
        else if (this.kind === 'flag') {
            const flagBytes = ITEM_CONDITION_FLAGS.bytes([this.want]);
            if (flagBytes.length !== 2)
                throw new Error(`bad data: ${flagBytes}`);
            bytes.push(...flagBytes);
        }
        else if (this.kind === 'location') {
            bytes.push(this.want);
        }
        else if (this.kind !== 'empty') {
            assertNever(this.kind);
        }
        bytes.push(...this.message.data);
        bytes.push(...ITEM_USE_FLAGS.bytes(this.flags));
        return bytes;
    }
    tradeNpc() {
        if (this.kind !== 'expect')
            return null;
        if ((this.want >>> 8) !== 1)
            return null;
        return this.want & 0xff;
    }
    get length() {
        const header = this.kind === 'empty' ? 0 : this.kind === 'location' ? 1 : 2;
        return 2 * (1 + Math.max(1, this.flags.length)) + header;
    }
}
class Shield extends Item {
    get defense() {
        return this.items.shieldDefense[this.id - 0x0c];
    }
    set defense(def) {
        this.items.shieldDefense[this.id - 0x0c] = def;
    }
}
class Armor extends Item {
    get defense() {
        return this.items.armorDefense[this.id - 0x14];
    }
    set defense(def) {
        this.items.armorDefense[this.id - 0x14] = def;
    }
}
export class Items extends EntityArray {
    constructor(rom) {
        super(0x49);
        this.rom = rom;
        this.itemUseJumps = DEFAULT_ITEM_USE_JUMPS;
        this.SwordOfWind = new Item(this, 0x00);
        this.SwordOfFire = new Item(this, 0x01);
        this.SwordOfWater = new Item(this, 0x02);
        this.SwordOfThunder = new Item(this, 0x03);
        this.Crystalis = new Item(this, 0x04);
        this.BallOfWind = new Item(this, 0x05);
        this.TornadoBracelet = new Item(this, 0x06);
        this.BallOfFire = new Item(this, 0x07);
        this.FlameBracelet = new Item(this, 0x08);
        this.BallOfWater = new Item(this, 0x09);
        this.BlizzardBracelet = new Item(this, 0x0a);
        this.BallOfThunder = new Item(this, 0x0b);
        this.StormBracelet = new Item(this, 0x0c);
        this.CarapaceShield = new Shield(this, 0x0d);
        this.BronzeShield = new Shield(this, 0x0e);
        this.PlatinumShield = new Shield(this, 0x0f);
        this.MirroredShield = new Shield(this, 0x10);
        this.CeramicShield = new Shield(this, 0x11);
        this.SacredShield = new Shield(this, 0x12);
        this.BattleShield = new Shield(this, 0x13);
        this.PsychoShield = new Shield(this, 0x14);
        this.TannedHide = new Armor(this, 0x15);
        this.LeatherArmor = new Armor(this, 0x16);
        this.BronzeArmor = new Armor(this, 0x17);
        this.PlatinumArmor = new Armor(this, 0x18);
        this.SoldierSuit = new Armor(this, 0x19);
        this.CeramicSuit = new Armor(this, 0x1a);
        this.BattleArmor = new Armor(this, 0x1b);
        this.PsychoArmor = new Armor(this, 0x1c);
        this.MedicalHerb = new Item(this, 0x1d, { use: true,
            trades: [0],
            valueAddr: 0x84ea });
        this.Antidote = new Item(this, 0x1e, { use: true });
        this.LysisPlant = new Item(this, 0x1f, { use: true });
        this.FruitOfLime = new Item(this, 0x20, { use: true });
        this.FruitOfPower = new Item(this, 0x21, { use: true,
            valueAddr: 0x850c });
        this.MagicRing = new Item(this, 0x22, { use: true });
        this.FruitOfRepun = new Item(this, 0x23, { use: true });
        this.WarpBoots = new Item(this, 0x24, { use: true });
        this.StatueOfOnyx = new Item(this, 0x25, { use: true, trades: [0] });
        this.OpelStatue = new Item(this, 0x26, { use: true });
        this.InsectFlute = new Item(this, 0x27, { use: true });
        this.FluteOfLime = new Item(this, 0x28, { use: true,
            trades: [0, 1, 2, 3] });
        this.GasMask = new Item(this, 0x29);
        this.PowerRing = new Item(this, 0x2a);
        this.WarriorRing = new Item(this, 0x2b);
        this.IronNecklace = new Item(this, 0x2c);
        this.DeosPendant = new Item(this, 0x2d);
        this.RabbitBoots = new Item(this, 0x2e);
        this.LeatherBoots = new Item(this, 0x2f);
        this.ShieldRing = new Item(this, 0x30);
        this.AlarmFlute = new Item(this, 0x31, { use: true, trades: [0, 1] });
        this.WindmillKey = new Item(this, 0x32, { use: true });
        this.KeyToPrison = new Item(this, 0x33, { use: true });
        this.KeyToStyx = new Item(this, 0x34, { use: true });
        this.FogLamp = new Item(this, 0x35, { use: true, trades: [0] });
        this.ShellFlute = new Item(this, 0x36, { use: true });
        this.EyeGlasses = new Item(this, 0x37, { use: true });
        this.BrokenStatue = new Item(this, 0x38, { use: true });
        this.GlowingLamp = new Item(this, 0x39, { use: true });
        this.StatueOfGold = new Item(this, 0x3a, { use: true });
        this.LovePendant = new Item(this, 0x3b, { use: true, trades: [0] });
        this.KirisaPlant = new Item(this, 0x3c, { use: true, trades: [0] });
        this.IvoryStatue = new Item(this, 0x3d, { use: true, trades: [0] });
        this.BowOfMoon = new Item(this, 0x3e, { use: true });
        this.BowOfSun = new Item(this, 0x3f, { use: true });
        this.BowOfTruth = new Item(this, 0x40, { use: true });
        this.Refresh = new Item(this, 0x41);
        this.Paralysis = new Item(this, 0x42);
        this.Telepathy = new Item(this, 0x43);
        this.Teleport = new Item(this, 0x44);
        this.Recover = new Item(this, 0x45);
        this.Barrier = new Item(this, 0x46);
        this.Change = new Item(this, 0x47);
        this.Flight = new Item(this, 0x48);
        this.armorDefense = tuple(rom.prg, ARMOR_DEFENSE_TABLE.offset, 9);
        this.shieldDefense = tuple(rom.prg, SHIELD_DEFENSE_TABLE.offset, 9);
    }
    write() {
        const a = this.rom.assembler();
        ARMOR_DEFENSE_TABLE.loc(a);
        a.byte(...this.armorDefense);
        SHIELD_DEFENSE_TABLE.loc(a);
        a.byte(...this.shieldDefense);
        const uniqueTable = new Array(10).fill(0);
        for (const item of this) {
            item.assemble(a);
            if (item.unique)
                uniqueTable[item.id >>> 3] |= (1 << (item.id & 7));
        }
        relocExportLabel(a, [$0e, $0f], 'KeyItemData');
        a.byte(...uniqueTable);
        return [a.module()];
    }
}
const DEFAULT_ITEM_USE_JUMPS = {
    0x8439: ['expect'],
    0x8442: ['screen'],
    0x8450: ['empty'],
    0x8451: ['screen'],
    0x845f: ['location'],
    0x8491: ['expect'],
    0x84a9: ['expect', 'expect'],
    0x84b3: ['location'],
    0x84d0: ['expect'],
    0x84db: [],
    0x84e0: ['expect', 'empty'],
    0x8507: ['empty'],
    0x851d: ['empty'],
    0x8524: ['empty'],
    0x852f: ['empty'],
    0x853a: ['empty'],
    0x854a: ['empty'],
    0x8564: ['empty'],
    0x8565: ['expect'],
    0x856b: ['flag'],
    0x8585: ['empty'],
    0x859e: ['expect', 'expect', 'expect', 'expect'],
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9yb20vaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUMsTUFBTSxFQUFFLFdBQVcsRUFBQyxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUM1QixjQUFjLEVBQUUsb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDM0UsT0FBTyxFQUFDLE9BQU8sRUFBUSxPQUFPLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFFakQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLFlBQVksQ0FBQztBQUV2QyxNQUFNLEVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFDLEdBQUcsT0FBTyxDQUFDO0FBRXJDLE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDcEQsTUFBTSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNwRCxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNoRCxNQUFNLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3BELE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBRWhELE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDcEQsTUFBTSxvQkFBb0IsR0FBRyxPQUFPLENBQUMs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LENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLGlCQUFZLEdBQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLG1CQUFjLEdBQUssSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLG1CQUFjLEdBQUssSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLGtCQUFhLEdBQU0sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLGlCQUFZLEdBQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLGlCQUFZLEdBQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFDLGlCQUFZLEdBQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTFDLGVBQVUsR0FBUyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsaUJBQVksR0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsZ0JBQVcsR0FBUSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsa0JBQWEsR0FBTSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsZ0JBQVcsR0FBUSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsZ0JBQVcsR0FBUSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsZ0JBQVcsR0FBUSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsZ0JBQVcsR0FBUSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFekMsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUk7WUFDVCxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDWCxTQUFTLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUM3RCxhQUFRLEdBQVcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGVBQVUsR0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFDckQsaUJBQVksR0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUk7WUFDVCxTQUFTLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUM3RCxjQUFTLEdBQVUsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGlCQUFZLEdBQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGNBQVMsR0FBVSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7UUFFckQsaUJBQVksR0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDbEUsZUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUVyRCxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSTtZQUNULE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUVoRSxZQUFPLEdBQVksSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hDLGNBQVMsR0FBVSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsaUJBQVksR0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsZ0JBQVcsR0FBUSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsaUJBQVksR0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsZUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV4QyxlQUFVLEdBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUNyRSxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxnQkFBVyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxjQUFTLEdBQVUsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELFlBQU8sR0FBWSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDbEUsZUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUNyRCxlQUFVLEdBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGlCQUFZLEdBQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGdCQUFXLEdBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGlCQUFZLEdBQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELGdCQUFXLEdBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO1FBQ2xFLGdCQUFX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QUM7UUFDdkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7Q0FDRjtBQUdELE1BQU0sc0JBQXNCLEdBQW9DO0lBRTlELE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUVsQixNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFFbEIsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUVsQixNQUFNLEVBQUUsQ0FBQyxVQUFVLENBQUM7SUFFcEIsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDO0lBRWxCLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUM7SUFFNUIsTUFBTSxFQUFFLENBQUMsVUFBVSxDQUFDO0lBRXBCLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUVsQixNQUFNLEVBQUUsRUFBRTtJQUVWLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUM7SUFFM0IsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQztJQUVqQixNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFFakIsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQztJQUVqQixNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFFakIsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUVsQixNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFFaEIsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBRWpCLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQztDQUNqRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBc3NlbWJsZXJ9IGZyb20gJy4uL2FzbS9hc3NlbWJsZXIuanMnO1xuaW1wb3J0IHtNb2R1bGV9IGZyb20gJy4uL2FzbS9tb2R1bGUuanMnO1xuaW1wb3J0IHtFbnRpdHksIEVudGl0eUFycmF5fSBmcm9tICcuL2VudGl0eS5qcyc7XG5pbXBvcnQge01lc3NhZ2VJZH0gZnJvbSAnLi9tZXNzYWdlaWQuanMnO1xuaW1wb3J0IHtoZXgsIHJlYWRTdHJpbmcsIHR1cGxlLFxuICBJVEVNX1VTRV9GTEFHUywgSVRFTV9DT05ESVRJT05fRkxBR1MsIHJlbG9jRXhwb3J0TGFiZWx9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge0FkZHJlc3MsIERhdGEsIFNlZ21lbnR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge1JvbX0gZnJvbSAnLi4vcm9tLmpzJztcbmltcG9ydCB7YXNzZXJ0TmV2ZXJ9IGZyb20gJy4uL3V0aWwuanMnO1xuXG5jb25zdCB7JDBlLCAkMGYsICQxMCwgJDFhfSA9IFNlZ21lbnQ7XG5cbmNvbnN0IElURU1fVVNFX0pVTVBfVEFCTEUgPSBBZGRyZXNzLm9mKCQwZSwgMHg4Mzk5KTtcbmNvbnN0IElURU1fVVNFX0RBVEFfVEFCTEUgPSBBZGRyZXNzLm9mKCQwZSwgMHg5YmUyKTtcbmNvbnN0IElURU1fREFUQV9UQUJMRSA9IEFkZHJlc3Mub2YoJDEwLCAweDhmZjApO1xuY29uc3QgU0VMRUNURURfSVRFTV9UQUJMRSA9IEFkZHJlc3Mub2YoJDEwLCAweDkwM2IpO1xuY29uc3QgTUVOVV9OQU1FX1RBQkxFID0gQWRkcmVzcy5vZigkMTAsIDB4OTA4Nik7XG5cbmNvbnN0IEFSTU9SX0RFRkVOU0VfVEFCTEUgPSBBZGRyZXNzLm9mKCQxYSwgMHg4YmMwKTtcbmNvbnN0IFNISUVMRF9ERUZFTlNFX1RBQkxFID0gQWRkcmVzcy5vZigkMWEsIDB4OGJjOSk7XG5cbi8vIE1hcCB0byBwYXR0ZXJuIGVudHJpZXMgZm9yIGNvbWJpbmF0aW9ucyBvZiBsZXR0ZXJzLlxuY29uc3QgTUVOVV9OQU1FX0VOQ09ERSA9IFtcbiAgWydTd29yZCcsICdcXHgwYVxceDBiXFx4MGMnXSxcbiAgWycgb2YgJywgJ1xceDVjXFx4NWQnXSxcbiAgWydCcmFjZWxldCcsICdcXHgzY1xceDNkXFx4M2VcXHg1YiddLFxuICBbJ1NoaWVsZCcsICdcXHgwZFxceDBlXFx4MGYnXSxcbiAgWydBcm1vcicsICdcXHg3YlxceDExXFx4MTInXSxcbiAgWydNYWdpYycsICdcXHgyM1xceDI1XFx4MjgnXSxcbiAgWydQb3dlcicsICdcXHgxM1xceDE0XFx4MTUnXSxcbiAgWydJdGVtJywgJ1xceDE2XFx4MTdcXHg1ZSddLFxuXTtcblxuaW50ZXJmYWNlIEl0ZW1PcHRpb25zIHtcbiAgdHJhZGVzPzogbnVtYmVyW107XG4gIHVzZT86IGJvb2xlYW47XG4gIHdlaWdodD86IG51bWJlcjtcbiAgLy8gYWRkcmVzcyAod2l0aGluIHNlZ21lbnQgMGUpIG9mIHRoZSB2YWx1ZSBzcGVjaWZ5aW5nIGhvdyBtdWNoIHRvIGhlYWwuXG4gIHZhbHVlQWRkcj86IG51bWJlcjtcbn1cblxuLy8gQW4gaXRlbTsgbm90ZSB0aGF0IHNvbWUgdGFibGVzIGdvIHVwIHRvICQ0OSBvciBldmVuICQ0YSAtIHRoZXNlIGNhbiBiYmUgaWdub3JlZFxuZXhwb3J0IGNsYXNzIEl0ZW0gZXh0ZW5kcyBFbnRpdHkge1xuXG4gIGl0ZW1Vc2VKdW1wPzogQWRkcmVzcztcbiAgaXRlbVVzZURhdGE6IEl0ZW1Vc2VbXTtcblxuICBpdGVtRGF0YVZhbHVlOiBudW1iZXI7IC8vIDowMyBpcyBwYWxldHRlLCA6ODAgaXMgc3dvcmQgYW5kIG1hZ2ljIChzb2xpZCBiZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAvLyA6NDAgaXMgdW5pcXVlLCA6MjAgaXMgd29ybiAoc3dvcmQvYW1vci9vcmIvcmluZy9tYWdpYylcbiAgLy8gb25seSB1c2VkIGZvciBkaXNhYmxpbmcgb3BlbCBzdGF0dWUgdXNlXG4gIHNlbGVjdGVkSXRlbVZhbHVlOiBudW1iZXI7XG5cbiAgLy8gUFJPQkxFTSAtIHJlYWQgaW4gb25lIGZvcm1hdCwgd3JpdGUgaW4gYW5vdGhlci4uLj9cbiAgbWVudU5hbWU6IHN0cmluZztcblxuICB0cmFkZXM6IG51bWJlcltdO1xuICB1c2U6IGJvb2xlYW47XG5cbiAgdmFsdWVBZGRyPzogQWRkcmVzcztcbiAgdmFsdWU/OiBudW1iZXI7XG5cbiAgLy8gV2VpZ2h0IGZvciBzaHVmZmxpbmcgLSBoaWdoZXIgbnVtYmVycyB3aWxsIGJlIHBsYWNlZCBlYXJsaWVyLlxuICB3ZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBpdGVtczogSXRlbXMsIGlkOiBudW1iZXIsIG9wdHM6IEl0ZW1PcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihpdGVtcy5yb20sIGlkKTtcbiAgICBjb25zdCByb20gPSB0aGlzLnJvbTtcbiAgICBpdGVtc1tpZF0gPSB0aGlzO1xuICAgIHRoaXMuaXRlbVVzZURhdGEgPSBbXTtcbiAgICB0aGlzLnRyYWRlcyA9IG9wdHMudHJhZGVzIHx8IFtdO1xuICAgIHRoaXMudXNlID0gb3B0cy51c2UgfHwgZmFsc2U7XG4gICAgdGhpcy53ZWlnaHQgPSBvcHRzLndlaWdodCB8fCAxO1xuICAgIHRoaXMudmFsdWVBZGRyID1cbiAgICAgICAgb3B0cy52YWx1ZUFkZHIgIT0gbnVsbCA/IEFkZHJlc3Mub2YoJDBlLCBvcHRzLnZhbHVlQWRkcikgOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMudmFsdWVBZGRyICE9IG51bGwpIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlQWRkci5yZWFkKHJvbS5wcmcpO1xuXG4gICAgaWYgKHRoaXMudXNlKSB7XG4gICAgICB0aGlzLml0ZW1Vc2VKdW1wID1cbiAgICAgICAgICB0aGlzLml0ZW1Vc2VKdW1wUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnLCAkMGUsICQwZik7XG4gICAgICBjb25zdCBlbnRyaWVzID0gaXRlbXMuaXRlbVVzZUp1bXBzW3RoaXMuaXRlbVVzZUp1bXAub3JnXTtcbiAgICAgIGlmICghZW50cmllcykgdGhyb3cgbmV3IEVycm9yKGBCYWQgSXRlbVVzZUp1bXA6ICR7dGhpcy5pdGVtVXNlSnVtcH1gKTtcbiAgICAgIGxldCBpdGVtVXNlT2Zmc2V0ID1cbiAgICAgICAgICB0aGlzLml0ZW1Vc2VEYXRhUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnLCAkMGUsICQwZik7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEl0ZW1Vc2UuZnJvbShlbnRyeSwgcm9tLnByZywgaXRlbVVzZU9mZnNldCk7XG4gICAgICAgIHRoaXMuaXRlbVVzZURhdGEucHVzaChkYXRhKTtcbiAgICAgICAgaXRlbVVzZU9mZnNldCA9IGl0ZW1Vc2VPZmZzZXQucGx1cyhkYXRhLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVBvaW50ZXIucmVhZChyb20ucHJnKTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbVZhbHVlID0gdGhpcy5zZWxlY3RlZEl0ZW1Qb2ludGVyLnJlYWQocm9tLnByZyk7XG5cbiAgICBjb25zdCBtZW51TmFtZUJhc2UgPSB0aGlzLm1lbnVOYW1lUG9pbnRlci5yZWFkQWRkcmVzcyhyb20ucHJnKTtcbiAgICB0aGlzLm1lbnVOYW1lID1cbiAgICAgICAgTUVOVV9OQU1FX0VOQ09ERS5yZWR1Y2UoKHMsIFtkLCBlXSkgPT4gcy5yZXBsYWNlKGUsIGQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkU3RyaW5nKHJvbS5wcmcsIG1lbnVOYW1lQmFzZS5vZmZzZXQsIDB4ZmYpKTtcblxuICAgIC8vIGNvbnN0IHRyYWRlSW5Db3VudCA9IFRSQURFX0lOUy5nZXQoaWQpO1xuICAgIC8vIHRoaXMudHJhZGVJbiA9XG4gICAgLy8gICAgIHRyYWRlSW5Db3VudCA/IHR1cGxlKHJvbS5wcmcsIHRoaXMuaXRlbVVzZURhdGFCYXNlLCA2ICogdHJhZGVJbkNvdW50KSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBJdGVtICR7dGhpcy5tZW51TmFtZX0gYmFzZSBwcmljZSAke3RoaXMuYmFzZVByaWNlfWApO1xuICAgIC8vIFRPRE8gLSByb20udW5pcXVlSXRlbVRhYmxlQWRkcmVzc1xuICAgIC8vICAtPiBjdXJyZW50IGhhcmQtY29kZWQgaW4gcGF0Y2guaWRlbnRpZnlLZXlJdGVtc0ZvckRpZmZpY3VsdHlCdWZmc1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2VOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucm9tLm1lc3NhZ2VzLml0ZW1OYW1lc1t0aGlzLmlkXTtcbiAgfVxuICBzZXQgbWVzc2FnZU5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5yb20ubWVzc2FnZXMuaXRlbU5hbWVzW3RoaXMuaWRdID0gbmFtZTtcbiAgfVxuXG4gIGdldCBiYXNlUHJpY2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yb20uc2hvcHMuYmFzZVByaWNlc1t0aGlzLmlkXTtcbiAgfVxuICBzZXQgYmFzZVByaWNlKHByaWNlOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvbS5zaG9wcy5iYXNlUHJpY2VzW3RoaXMuaWRdID0gcHJpY2U7XG4gIH1cblxuICBnZXQgaXRlbVVzZUp1bXBQb2ludGVyKCk6IEFkZHJlc3Mge1xuICAgIHJldHVybiBJVEVNX1VTRV9KVU1QX1RBQkxFLnBsdXModGhpcy5pZCA8PCAxKTtcbiAgfVxuXG4gIGdldCBpdGVtVXNlRGF0YVBvaW50ZXIoKTogQWRkcmVzcyB7XG4gICAgcmV0dXJuIElURU1fVVNFX0RBVEFfVEFCTEUucGx1cyh0aGlzLmlkIDw8IDEpO1xuICB9XG5cbiAgZ2V0IGl0ZW1EYXRhUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gSVRFTV9EQVRBX1RBQkxFLnBsdXModGhpcy5pZCk7XG4gIH1cblxuICBnZXQgc2VsZWN0ZWRJdGVtUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gU0VMRUNURURfSVRFTV9UQUJMRS5wbHVzKHRoaXMuaWQpO1xuICB9XG5cbiAgZ2V0IG1lbnVOYW1lUG9pbnRlcigpOiBBZGRyZXNzIHtcbiAgICByZXR1cm4gTUVOVV9OQU1FX1RBQkxFLnBsdXModGhpcy5pZCA8PCAxKTtcbiAgfVxuXG4gIGl0ZW1Vc2VNZXNzYWdlcygpOiBNZXNzYWdlSWRbXSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBuZXcgTWFwPHN0cmluZywgTWVzc2FnZUlkPigpO1xuICAgIGZvciAoY29uc3Qge21lc3NhZ2V9IG9mIHRoaXMuaXRlbVVzZURhdGEpIHtcbiAgICAgIG1lc3NhZ2VzLnNldChtZXNzYWdlLm1pZCwgbWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBbLi4ubWVzc2FnZXMudmFsdWVzKCldO1xuICB9XG5cbiAgc2V0TmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1lc3NhZ2VOYW1lID0gdGhpcy5tZW51TmFtZSA9IG5hbWU7XG4gIH1cblxuICAvLyBQYWxldHRlIGZvciBtZW51IGljb25cbiAgZ2V0IHBhbGV0dGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaXRlbURhdGFWYWx1ZSAmIDM7IH1cbiAgc2V0IHBhbGV0dGUocDogbnVtYmVyKSB7IHRoaXMuaXRlbURhdGFWYWx1ZSA9IHRoaXMuaXRlbURhdGFWYWx1ZSAmIH4zIHwgKHAgJiAzKTsgfVxuXG4gIC8vIFVuaXF1ZSBpdGVtOiBjYW5ub3QgYmUgZHJvcHBlZCBvciBzb2xkXG4gIGdldCB1bmlxdWUoKTogYm9vbGVhbiB7IHJldHVybiAhISh0aGlzLml0ZW1EYXRhVmFsdWUgJiAweDQwKTsgfVxuICBzZXQgdW5pcXVlKHU6IGJvb2xlYW4pIHsgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVZhbHVlICYgfjB4NDAgfCAodSA/IDB4NDAgOiAwKTsgfVxuXG4gIC8vIFdvcm4gaXRlbSAoc3dvcmQvYXJtb3Ivb3JiL3JpbmcvbWFnaWMpIC0gbm90IGNsZWFyIHdoZXJlIHRoaXMgaXMgdXNlZFxuICBnZXQgd29ybigpOiBib29sZWFuIHsgcmV0dXJuICEhKHRoaXMuaXRlbURhdGFWYWx1ZSAmIDB4MjApOyB9XG4gIHNldCB3b3JuKHc6IGJvb2xlYW4pIHsgdGhpcy5pdGVtRGF0YVZhbHVlID0gdGhpcy5pdGVtRGF0YVZhbHVlICYgfjB4MjAgfCAodyA/IDB4MjAgOiAwKTsgfVxuXG4gIC8vIFNvbGlkIGJhY2tncm91bmQgKHN3b3JkL21hZ2ljKVxuICBnZXQgc29saWQoKTogYm9vbGVhbiB7IHJldHVybiAhISh0aGlzLml0ZW1EYXRhVmFsdWUgJiAweDgwKTsgfVxuICBzZXQgc29saWQoczogYm9vbGVhbikgeyB0aGlzLml0ZW1EYXRhVmFsdWUgPSB0aGlzLml0ZW1EYXRhVmFsdWUgJiB+MHg4MCB8IChzID8gMHg4MCA6IDApOyB9XG5cbiAgLy8gZ2V0IGl0ZW1Vc2VEYXRhKCk6IFVpbnQ4QXJyYXkge1xuICAvLyAgIC8vIE5PVEU6IHRoaXMgaXMgaGFja3ksIGl0IHNob3VsZCByZWFsbHkgYmUgbGVzcyB0aGFuIDI0LCBhbmQgdmFyaWFibGUhXG4gIC8vICAgLy8gTW9yZW92ZXIsIHNvbWUgaXRlbXMgaGF2ZSBvdmVybGFwcGluZyBkYXRhLCB3aGljaCBpcyBhd2t3YXJkLlxuICAvLyAgIC8vIFNvIHJlYWxseSB3ZSBuZWVkIHNlcGFyYXRlIEl0ZW1Vc2UgYW5kIEl0ZW1KdW1wIGVudGl0aWVzIGFuZCB0aGVuIGp1c3RcbiAgLy8gICAvLyBwb2ludCB0byB3aGljaCBvbmUgd2Ugd2FudCBoZXJlLlxuICAvLyAgIHJldHVybiB0aGlzLnJvbS5wcmcuc3ViYXJyYXkodGhpcy5pdGVtVXNlRGF0YUJhc2UsIDI0KTtcbiAgLy8gfVxuXG4gIGFzc2VtYmxlKGE6IEFzc2VtYmxlcikge1xuICAgIGNvbnN0IGlkID0gaGV4KHRoaXMuaWQpO1xuICAgIHRoaXMuaXRlbURhdGFQb2ludGVyLmxvYyhhLCBgSXRlbURhdGFfJHtpZH1gKTtcbiAgICBhLmJ5dGUodGhpcy5pdGVtRGF0YVZhbHVlKTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbVBvaW50ZXIubG9jKGEsIGBJdGVtU2VsZWN0ZWRWYWx1ZV8ke2lkfWApO1xuICAgIGEuYnl0ZSh0aGlzLnNlbGVjdGVkSXRlbVZhbHVlKTtcblxuICAgIGNvbnN0IG1lbnVOYW1lRW5jb2RlZCA9XG4gICAgICAgIE1FTlVfTkFNRV9FTkNPREUucmVkdWNlKChzLCBbZCwgZV0pID0+IHMucmVwbGFjZShkLCBlKSwgdGhpcy5tZW51TmFtZSk7XG4gICAgYS5zZWdtZW50KCQxMCk7XG4gICAgYS5yZWxvYyhgSXRlbU1lbnVOYW1lXyR7aGV4KHRoaXMuaWQpfWApO1xuICAgIGNvbnN0IG1lbnVOYW1lQWRkciA9IGEucGMoKTtcbiAgICBhLmJ5dGUobWVudU5hbWVFbmNvZGVkLCAweGZmKTtcblxuICAgIHRoaXMubWVudU5hbWVQb2ludGVyLmxvYyhhLCBgSXRlbU1lbnVOYW1lXyR7aWR9YCk7XG4gICAgYS53b3JkKG1lbnVOYW1lQWRkcik7XG5cbiAgICBpZiAodGhpcy5pdGVtVXNlSnVtcCkge1xuICAgICAgdGhpcy5pdGVtVXNlSnVtcFBvaW50ZXIubG9jKGEsIGBJdGVtVXNlSnVtcF8ke2lkfV9QdHJgKTtcbiAgICAgIGEud29yZCh0aGlzLml0ZW1Vc2VKdW1wLm9yZyk7XG5cbiAgICAgIGNvbnN0IGl0ZW1Vc2VEYXRhOiBudW1iZXJbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCB1c2Ugb2YgdGhpcy5pdGVtVXNlRGF0YSkge1xuICAgICAgICBpdGVtVXNlRGF0YS5wdXNoKC4uLnVzZS5ieXRlcygpKTtcbiAgICAgIH1cblxuICAgICAgYS5zZWdtZW50KCQwZS5uYW1lLCAkMGYubmFtZSk7XG4gICAgICBhLnJlbG9jKGBJdGVtVXNlRGF0YV8ke2lkfWApO1xuICAgICAgY29uc3QgdXNlUHRyID0gYS5wYygpO1xuICAgICAgYS5ieXRlKC4uLml0ZW1Vc2VEYXRhKTtcbiAgICAgIHRoaXMuaXRlbVVzZURhdGFQb2ludGVyLmxvYyhhLCBgSXRlbVVzZURhdGFfJHtpZH1fUHRyYClcbiAgICAgIGEud29yZCh1c2VQdHIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlQWRkcikge1xuICAgICAgdGhpcy52YWx1ZUFkZHIubG9jKGEsIGBJdGVtVmFsdWVfJHtpZH1gKTtcbiAgICAgIGEuYnl0ZSh0aGlzLnZhbHVlISk7XG4gICAgfVxuXG4gICAgLy8gd3JpdGVyLndyaXRlKFsuLi5zdHJpbmdUb0J5dGVzKHRoaXMubWVzc2FnZU5hbWUpLCAwXSxcbiAgICAvLyAweDI4MDAwLCAweDI5ZmZmLCBgSXRlbU1lc3NhZ2VOYW1lICR7aGV4KHRoaXMuaWQpfWApLFxuICAgIC8vIHdyaXRlTGl0dGxlRW5kaWFuKHdyaXRlci5yb20sIHRoaXMubWVzc2FnZU5hbWVQb2ludGVyLCBtZXNzYWdlQWRkcmVzcyAtIDB4MjAwMDApO1xuICB9XG5cbiAgaXNNYWdpYygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pZCA+PSAweDQxICYmIHRoaXMuaWQgPD0gMHg0ODtcbiAgfVxufVxuXG4vLyBUcmFkZS1pbiBzbG90cyBjb3VsZCBiZSBjdXN0b21pemVkIHF1aXRlIGEgYml0OlxuLy8gIC0gTlBDXG4vLyAgLSBpdGVtIHJlcXVpcmVkXG4vLyAgLSBpdGVtIGdpdmVuXG4vLyAgLSBmbGFncyBnaXZlblxuLy8gIC0gbG9jYXRpb25cbi8vIGV0Yy4uLlxuLy8gY29uc3QgVFJBREVfSU5TID0gbmV3IE1hcChbXG4vLyAgIFsweDFkLCAxXSwgLy8gbWVkaWNhbCBoZXJiXG4vLyAgIFsweDI1LCAxXSwgLy8gc3RhdHVlIG9mIG9ueXhcbi8vICAgWzB4MjgsIDRdLCAvLyBmbHV0ZSBvZiBsaW1lIChmaXJzdCB0d28gdW51c2VkKVxuLy8gICBbMHgzMSwgMl0sIC8vIGFsYXJtIGZsdXRlXG4vLyAgIFsweDM1LCAxXSwgLy8gZm9nIGxhbXBcbi8vICAgWzB4M2IsIDFdLCAvLyBsb3ZlIHBlbmRhbnRcbi8vICAgWzB4M2MsIDFdLCAvLyBraXJpc2EgcGxhbnRcbi8vICAgWzB4M2QsIDFdLCAvLyBpdm9yeSBzdGF0dWVcbiAgLy8gVE9ETyAtIGNvbnNpZGVyIG1vdmluZyBzbGVlcGluZyBwZW9wbGU/XG4gIC8vICAgICAgLS0+IHdvdWxkIHdhbnQgdG8gcHV0IHNvbWV0aGluZyBpbiB0aGVpciBwbGFjZT9cbiAgLy8gICAgICAgICAgLSBtYXliZSBldmVuIGEgYm9zcyBpbiBjbG9zZSBxdWFydGVycyBhcmVhP1xuICAvLyBUT0RPIC0gbWF5YmUgTlBDIHNob3VsZCBoYXZlIGFuIFwiaXRlbSB3YW50ZWRcIiBwcm9wZXJ0eT9cbi8vIF0pO1xuXG4vLyBJdGVtVXNlIGRhdGEgYXJlIGluIHN0YW56YXMgd2l0aCAwLTIgYnl0ZSBoZWFkZXJzLlxuLy8gVGhlIHN0cnVjdHVyZSBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBJdGVtVXNlSnVtcCxcbi8vIHdoaWNoIGV4cGVjdHMgdGhlIHZhcmlvdXMgaGVhZGVycy5cblxudHlwZSBJdGVtVXNlS2luZCA9ICdleHBlY3QnIHwgJ3NjcmVlbicgfCAnZmxhZycgfCAnbG9jYXRpb24nIHwgJ2VtcHR5JztcblxuZXhwb3J0IGNsYXNzIEl0ZW1Vc2Uge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMga2luZDogSXRlbVVzZUtpbmQsXG4gICAgICAgICAgICAgIHB1YmxpYyB3YW50OiBudW1iZXIsIC8vIG5vdGU6IGludGVycHJldGF0aW9uIGRlcGVuZHMgb24ga2luZC5cbiAgICAgICAgICAgICAgcHVibGljIG1lc3NhZ2U6IE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgcHVibGljIGZsYWdzOiBudW1iZXJbXSkge31cblxuICBzdGF0aWMgZnJvbShraW5kOiBJdGVtVXNlS2luZCwgZGF0YTogRGF0YTxudW1iZXI+LCBhZGRyOiBBZGRyZXNzKSB7XG4gICAgbGV0IHtvZmZzZXR9ID0gYWRkcjtcbiAgICBsZXQgd2FudCA9IDA7XG4gICAgaWYgKGtpbmQgPT09ICdleHBlY3QnIHx8IGtpbmQgPT09ICdzY3JlZW4nKSB7XG4gICAgICB3YW50ID0gZGF0YVtvZmZzZXQgKyAxXSA8PCA4IHwgZGF0YVtvZmZzZXRdO1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAnZmxhZycpIHtcbiAgICAgIGNvbnN0IGZsYWdzID0gSVRFTV9DT05ESVRJT05fRkxBR1MucmVhZChkYXRhLCBvZmZzZXQpO1xuICAgICAgaWYgKCFmbGFncy5sZW5ndGgpIGZsYWdzLnB1c2gofjApO1xuICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDEpIHRocm93IG5ldyBFcnJvcihgRmxhZyBsaXN0IHRvbyBsb25nOiAke2ZsYWdzfWApO1xuICAgICAgd2FudCA9IGZsYWdzWzBdO1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAnbG9jYXRpb24nKSB7XG4gICAgICB3YW50ID0gZGF0YVtvZmZzZXQrK107XG4gICAgfSBlbHNlIGlmIChraW5kICE9PSAnZW1wdHknKSB7XG4gICAgICBhc3NlcnROZXZlcihraW5kKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IE1lc3NhZ2VJZC5mcm9tKGRhdGEsIG9mZnNldCk7XG4gICAgY29uc3QgZmxhZ3MgPSBJVEVNX1VTRV9GTEFHUy5yZWFkKGRhdGEsIG9mZnNldCArIDIpO1xuICAgIHJldHVybiBuZXcgSXRlbVVzZShraW5kLCB3YW50LCBtZXNzYWdlLCBmbGFncyk7XG4gIH1cblxuICBieXRlcygpOiBudW1iZXJbXSB7XG4gICAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgICBpZiAodGhpcy5raW5kID09PSAnZXhwZWN0JyB8fCB0aGlzLmtpbmQgPT09ICdzY3JlZW4nKSB7XG4gICAgICBieXRlcy5wdXNoKHRoaXMud2FudCAmIDB4ZmYsICh0aGlzLndhbnQgPj4+IDgpICYgMHhmZik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmtpbmQgPT09ICdmbGFnJykge1xuICAgICAgY29uc3QgZmxhZ0J5dGVzID0gSVRFTV9DT05ESVRJT05fRkxBR1MuYnl0ZXMoW3RoaXMud2FudF0pO1xuICAgICAgaWYgKGZsYWdCeXRlcy5sZW5ndGggIT09IDIpIHRocm93IG5ldyBFcnJvcihgYmFkIGRhdGE6ICR7ZmxhZ0J5dGVzfWApO1xuICAgICAgYnl0ZXMucHVzaCguLi5mbGFnQnl0ZXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5raW5kID09PSAnbG9jYXRpb24nKSB7XG4gICAgICBieXRlcy5wdXNoKHRoaXMud2FudCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmtpbmQgIT09ICdlbXB0eScpIHtcbiAgICAgIGFzc2VydE5ldmVyKHRoaXMua2luZCk7XG4gICAgfSBcbiAgICBieXRlcy5wdXNoKC4uLnRoaXMubWVzc2FnZS5kYXRhKTtcbiAgICBieXRlcy5wdXNoKC4uLklURU1fVVNFX0ZMQUdTLmJ5dGVzKHRoaXMuZmxhZ3MpKTtcbiAgICByZXR1cm4gYnl0ZXM7XG4gIH1cblxuICAvLyBSZXR1cm4gdGhlIE5QQyBpZCBmb3IgYW4gZXhwZWN0IE5QQyB1c2UsIG90aGVyd2lzZSBudWxsLlxuICB0cmFkZU5wYygpOiBudW1iZXJ8bnVsbCB7XG4gICAgaWYgKHRoaXMua2luZCAhPT0gJ2V4cGVjdCcpIHJldHVybiBudWxsO1xuICAgIGlmICgodGhpcy53YW50ID4+PiA4KSAhPT0gMSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHRoaXMud2FudCAmIDB4ZmY7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5raW5kID09PSAnZW1wdHknID8gMCA6IHRoaXMua2luZCA9PT0gJ2xvY2F0aW9uJyA/IDEgOiAyO1xuICAgIHJldHVybiAyICogKDEgKyBNYXRoLm1heCgxLCB0aGlzLmZsYWdzLmxlbmd0aCkpICsgaGVhZGVyO1xuICB9XG59XG5cbmNsYXNzIFNoaWVsZCBleHRlbmRzIEl0ZW0ge1xuICBnZXQgZGVmZW5zZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLnNoaWVsZERlZmVuc2VbdGhpcy5pZCAtIDB4MGNdO1xuICB9XG4gIHNldCBkZWZlbnNlKGRlZjogbnVtYmVyKSB7XG4gICAgdGhpcy5pdGVtcy5zaGllbGREZWZlbnNlW3RoaXMuaWQgLSAweDBjXSA9IGRlZjtcbiAgfVxufVxuXG5jbGFzcyBBcm1vciBleHRlbmRzIEl0ZW0ge1xuICBnZXQgZGVmZW5zZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmFybW9yRGVmZW5zZVt0aGlzLmlkIC0gMHgxNF07XG4gIH1cbiAgc2V0IGRlZmVuc2UoZGVmOiBudW1iZXIpIHtcbiAgICB0aGlzLml0ZW1zLmFybW9yRGVmZW5zZVt0aGlzLmlkIC0gMHgxNF0gPSBkZWY7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgSXRlbXMgZXh0ZW5kcyBFbnRpdHlBcnJheTxJdGVtPiB7XG4gIC8vIE5PVEU6IHRoaXMgbXVzdCBiZSBpbml0aWFsaXplZCBmaXJzdC5cbiAgcmVhZG9ubHkgaXRlbVVzZUp1bXBzID0gREVGQVVMVF9JVEVNX1VTRV9KVU1QUztcblxuICBhcm1vckRlZmVuc2U6IG51bWJlcltdO1xuICBzaGllbGREZWZlbnNlOiBudW1iZXJbXTtcblxuICAvLyBTd29yZHNcbiAgcmVhZG9ubHkgU3dvcmRPZldpbmQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDApO1xuICByZWFkb25seSBTd29yZE9mRmlyZSAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwMSk7XG4gIHJlYWRvbmx5IFN3b3JkT2ZXYXRlciAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDAyKTtcbiAgcmVhZG9ubHkgU3dvcmRPZlRodW5kZXIgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDMpO1xuICByZWFkb25seSBDcnlzdGFsaXMgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwNCk7XG4gIC8vIFBvd2Vyc1xuICByZWFkb25seSBCYWxsT2ZXaW5kICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgwNSk7XG4gIHJlYWRvbmx5IFRvcm5hZG9CcmFjZWxldCAgPSBuZXcgSXRlbSh0aGlzLCAweDA2KTtcbiAgcmVhZG9ubHkgQmFsbE9mRmlyZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MDcpO1xuICByZWFkb25seSBGbGFtZUJyYWNlbGV0ICAgID0gbmV3IEl0ZW0odGhpcywgMHgwOCk7XG4gIHJlYWRvbmx5IEJhbGxPZldhdGVyICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDA5KTtcbiAgcmVhZG9ubHkgQmxpenphcmRCcmFjZWxldCA9IG5ldyBJdGVtKHRoaXMsIDB4MGEpO1xuICByZWFkb25seSBCYWxsT2ZUaHVuZGVyICAgID0gbmV3IEl0ZW0odGhpcywgMHgwYik7XG4gIHJlYWRvbmx5IFN0b3JtQnJhY2VsZXQgICAgPSBuZXcgSXRlbSh0aGlzLCAweDBjKTtcbiAgLy8gU2hpZWxkc1xuICByZWFkb25seSBDYXJhcGFjZVNoaWVsZCAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDBkKTtcbiAgcmVhZG9ubHkgQnJvbnplU2hpZWxkICAgICA9IG5ldyBTaGllbGQodGhpcywgMHgwZSk7XG4gIHJlYWRvbmx5IFBsYXRpbnVtU2hpZWxkICAgPSBuZXcgU2hpZWxkKHRoaXMsIDB4MGYpO1xuICByZWFkb25seSBNaXJyb3JlZFNoaWVsZCAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDEwKTtcbiAgcmVhZG9ubHkgQ2VyYW1pY1NoaWVsZCAgICA9IG5ldyBTaGllbGQodGhpcywgMHgxMSk7XG4gIHJlYWRvbmx5IFNhY3JlZFNoaWVsZCAgICAgPSBuZXcgU2hpZWxkKHRoaXMsIDB4MTIpO1xuICByZWFkb25seSBCYXR0bGVTaGllbGQgICAgID0gbmV3IFNoaWVsZCh0aGlzLCAweDEzKTtcbiAgcmVhZG9ubHkgUHN5Y2hvU2hpZWxkICAgICA9IG5ldyBTaGllbGQodGhpcywgMHgxNCk7XG4gIC8vIEFybW9yXG4gIHJlYWRvbmx5IFRhbm5lZEhpZGUgICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNSk7XG4gIHJlYWRvbmx5IExlYXRoZXJBcm1vciAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNik7XG4gIHJlYWRvbmx5IEJyb256ZUFybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxNyk7XG4gIHJlYWRvbmx5IFBsYXRpbnVtQXJtb3IgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxOCk7XG4gIHJlYWRvbmx5IFNvbGRpZXJTdWl0ICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxOSk7XG4gIHJlYWRvbmx5IENlcmFtaWNTdWl0ICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYSk7XG4gIHJlYWRvbmx5IEJhdHRsZUFybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYik7XG4gIHJlYWRvbmx5IFBzeWNob0FybW9yICAgICAgPSBuZXcgQXJtb3IodGhpcywgMHgxYyk7XG4gIC8vIENvbnN1bWFibGVzXG4gIHJlYWRvbmx5IE1lZGljYWxIZXJiICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFkLCB7dXNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQWRkcjogMHg4NGVhfSk7XG4gIHJlYWRvbmx5IEFudGlkb3RlICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFlLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEx5c2lzUGxhbnQgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDFmLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZMaW1lICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIwLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZQb3dlciAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIxLCB7dXNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQWRkcjogMHg4NTBjfSk7XG4gIHJlYWRvbmx5IE1hZ2ljUmluZyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIyLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZydWl0T2ZSZXB1biAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDIzLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IFdhcnBCb290cyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDI0LCB7dXNlOiB0cnVlfSk7XG4gIC8vIFF1ZXN0IGl0ZW1zICgxKVxuICByZWFkb25seSBTdGF0dWVPZk9ueXggICAgID0gbmV3IEl0ZW0odGhpcywgMHgyNSwge3VzZTogdHJ1ZSwgdHJhZGVzOiBbMF19KTtcbiAgcmVhZG9ubHkgT3BlbFN0YXR1ZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MjYsIHt1c2U6IHRydWV9KTtcbiAgcmVhZG9ubHkgSW5zZWN0Rmx1dGUgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MjcsIHt1c2U6IHRydWV9KTtcbiAgLy8gVE9ETyAtIGNvbnNpZGVyIG9ubHkgdXNpbmcgMiwgMz8gIDAgYW5kIDEgYXJlIHVudXNlZC4uLlxuICByZWFkb25seSBGbHV0ZU9mTGltZSAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyOCwge3VzZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IFswLCAxLCAyLCAzXX0pO1xuICAvLyBXb3JuIGl0ZW1zXG4gIHJlYWRvbmx5IEdhc01hc2sgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDI5KTtcbiAgcmVhZG9ubHkgUG93ZXJSaW5nICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MmEpO1xuICByZWFkb25seSBXYXJyaW9yUmluZyAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyYik7XG4gIHJlYWRvbmx5IElyb25OZWNrbGFjZSAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDJjKTtcbiAgcmVhZG9ubHkgRGVvc1BlbmRhbnQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MmQpO1xuICByZWFkb25seSBSYWJiaXRCb290cyAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgyZSk7XG4gIHJlYWRvbmx5IExlYXRoZXJCb290cyAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDJmKTtcbiAgcmVhZG9ubHkgU2hpZWxkUmluZyAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MzApO1xuICAvLyBRdWVzdCBpdGVtcyAoMilcbiAgcmVhZG9ubHkgQWxhcm1GbHV0ZSAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4MzEsIHt1c2U6IHRydWUsIHRyYWRlczogWzAsIDFdfSk7XG4gIHJlYWRvbmx5IFdpbmRtaWxsS2V5ICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDMyLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEtleVRvUHJpc29uICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDMzLCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEtleVRvU3R5eCAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDM0LCB7dXNlOiB0cnVlfSk7XG4gIHJlYWRvbmx5IEZvZ0xhbXAgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDM1LCB7dXNlOiB0cnVlLCB0cmFkZXM6IFswXX0pO1xuICByZWFkb25seSBTaGVsbEZsdXRlICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzNiwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBFeWVHbGFzc2VzICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzNywge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCcm9rZW5TdGF0dWUgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzOCwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBHbG93aW5nTGFtcCAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzOSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBTdGF0dWVPZkdvbGQgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzYSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBMb3ZlUGVuZGFudCAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzYiwge3VzZTogdHJ1ZSwgdHJhZGVzOiBbMF19KTtcbiAgcmVhZG9ubHkgS2lyaXNhUGxhbnQgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4M2MsIHt1c2U6IHRydWUsIHRyYWRlczogWzBdfSk7XG4gIHJlYWRvbmx5IEl2b3J5U3RhdHVlICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDNkLCB7dXNlOiB0cnVlLCB0cmFkZXM6IFswXX0pO1xuICByZWFkb25seSBCb3dPZk1vb24gICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzZSwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCb3dPZlN1biAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHgzZiwge3VzZTogdHJ1ZX0pO1xuICByZWFkb25seSBCb3dPZlRydXRoICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0MCwge3VzZTogdHJ1ZX0pO1xuICAvLyBNYWdpY1xuICByZWFkb25seSBSZWZyZXNoICAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0MSk7XG4gIHJlYWRvbmx5IFBhcmFseXNpcyAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQyKTtcbiAgcmVhZG9ubHkgVGVsZXBhdGh5ICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4NDMpO1xuICByZWFkb25seSBUZWxlcG9ydCAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0NCk7XG4gIHJlYWRvbmx5IFJlY292ZXIgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQ1KTtcbiAgcmVhZG9ubHkgQmFycmllciAgICAgICAgICA9IG5ldyBJdGVtKHRoaXMsIDB4NDYpO1xuICByZWFkb25seSBDaGFuZ2UgICAgICAgICAgID0gbmV3IEl0ZW0odGhpcywgMHg0Nyk7XG4gIHJlYWRvbmx5IEZsaWdodCAgICAgICAgICAgPSBuZXcgSXRlbSh0aGlzLCAweDQ4KTtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSByb206IFJvbSkge1xuICAgIHN1cGVyKDB4NDkpO1xuICAgIHRoaXMuYXJtb3JEZWZlbnNlID0gdHVwbGUocm9tLnByZywgQVJNT1JfREVGRU5TRV9UQUJMRS5vZmZzZXQsIDkpO1xuICAgIHRoaXMuc2hpZWxkRGVmZW5zZSA9IHR1cGxlKHJvbS5wcmcsIFNISUVMRF9ERUZFTlNFX1RBQkxFLm9mZnNldCwgOSk7XG4gIH1cblxuICB3cml0ZSgpOiBNb2R1bGVbXSB7XG4gICAgY29uc3QgYSA9IHRoaXMucm9tLmFzc2VtYmxlcigpO1xuICAgIEFSTU9SX0RFRkVOU0VfVEFCTEUubG9jKGEpO1xuICAgIGEuYnl0ZSguLi50aGlzLmFybW9yRGVmZW5zZSk7XG4gICAgU0hJRUxEX0RFRkVOU0VfVEFCTEUubG9jKGEpO1xuICAgIGEuYnl0ZSguLi50aGlzLnNoaWVsZERlZmVuc2UpO1xuXG4gICAgLy8gVW5pcXVlIGl0ZW1zIHRhYmxlIGZvciBkaWZmaWN1bHR5XG4gICAgY29uc3QgdW5pcXVlVGFibGUgPSBuZXcgQXJyYXkoMTApLmZpbGwoMCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMpIHtcbiAgICAgIGl0ZW0uYXNzZW1ibGUoYSk7XG4gICAgICBpZiAoaXRlbS51bmlxdWUpIHVuaXF1ZVRhYmxlW2l0ZW0uaWQgPj4+IDNdIHw9ICgxIDw8IChpdGVtLmlkICYgNykpO1xuICAgIH1cbiAgICByZWxvY0V4cG9ydExhYmVsKGEsIFskMGUsICQwZl0sICdLZXlJdGVtRGF0YScpO1xuICAgIGEuYnl0ZSguLi51bmlxdWVUYWJsZSk7XG4gICAgcmV0dXJuIFthLm1vZHVsZSgpXTtcbiAgfVxufVxuXG4vLyBLZXkgaXMgLm9yZyBhZGRyZXNzIGluIHNlZ21lbnQgMGUgKGkuZS4gb2Zmc2V0IDFjeHh4KVxuY29uc3QgREVGQVVMVF9JVEVNX1VTRV9KVU1QUzoge1thZGRyOiBudW1iZXJdOiBJdGVtVXNlS2luZFtdfSA9IHtcbiAgLy8gM2IgbG92ZSBwZW5kYW50XG4gIDB4ODQzOTogWydleHBlY3QnXSxcbiAgLy8gNDAgYm93IG9mIHRydXRoXG4gIDB4ODQ0MjogWydzY3JlZW4nXSxcbiAgLy8gMjYgb3BlbCBzdGF0dWVcbiAgMHg4NDUwOiBbJ2VtcHR5J10sXG4gIC8vIDNlIGJvdyBvZiBtb29uLCAzZiBib3cgb2Ygc3VuXG4gIDB4ODQ1MTogWydzY3JlZW4nXSxcbiAgLy8gMzIgd2luZG1pbGwga2V5LCAzNyBleWUgZ2xhc3Nlc1xuICAweDg0NWY6IFsnbG9jYXRpb24nXSxcbiAgLy8gMzMgcHJpc29uIGtleSwgMzQgc3R4eSwgMzUgZm9nIGxhbXAsIDNjIGtpcmlzYSBwbGFudCwgM2QgaXZvcnkgc3RhdHVlXG4gIDB4ODQ5MTogWydleHBlY3QnXSxcbiAgLy8gMzEgYWxhcm0gZmx1dGVcbiAgMHg4NGE5OiBbJ2V4cGVjdCcsICdleHBlY3QnXSxcbiAgLy8gMjcgaW5zZWN0IGZsdXRlXG4gIDB4ODRiMzogWydsb2NhdGlvbiddLFxuICAvLyAzYSBzdGF0dWUgb2YgZ29sZFxuICAweDg0ZDA6IFsnZXhwZWN0J10sXG4gIC8vIGludmFsaWRcbiAgMHg4NGRiOiBbXSxcbiAgLy8gMWQgbWVkaWNhbCBoZXJiXG4gIDB4ODRlMDogWydleHBlY3QnLCAnZW1wdHknXSxcbiAgLy8gMjEgZnJ1aXQgb2YgcG93ZXJcbiAgMHg4NTA3OiBbJ2VtcHR5J10sXG4gIC8vIDIyIG1hZ2ljIHJpbmdcbiAgMHg4NTFkOiBbJ2VtcHR5J10sXG4gIC8vIDFlIGFudGlkb3RlXG4gIDB4ODUyNDogWydlbXB0eSddLFxuICAvLyAxZiBseXNpcyBwbGFudFxuICAweDg1MmY6IFsnZW1wdHknXSxcbiAgLy8gMjAgZnJ1aXQgb2YgbGltZVxuICAweDg1M2E6IFsnZW1wdHknXSxcbiAgLy8gMjMgZnJ1aXQgb2YgcmVwdW5cbiAgMHg4NTRhOiBbJ2VtcHR5J10sXG4gIC8vIDI0IHdhcnAgYm9vdHMgLT4gcnRzXG4gIDB4ODU2NDogWydlbXB0eSddLFxuICAvLyAyNSBzdGF0dWUgb2Ygb255eFxuICAweDg1NjU6IFsnZXhwZWN0J10sXG4gIC8vIDM2IHNoZWxsIGZsdXRlXG4gIDB4ODU2YjogWydmbGFnJ10sXG4gIC8vIDM5IGdsb3dpbmcgbGFtcFxuICAweDg1ODU6IFsnZW1wdHknXSxcbiAgLy8gMjggZmx1dGUgb2YgbGltZVxuICAweDg1OWU6IFsnZXhwZWN0JywgJ2V4cGVjdCcsICdleHBlY3QnLCAnZXhwZWN0J10sXG59O1xuIl19