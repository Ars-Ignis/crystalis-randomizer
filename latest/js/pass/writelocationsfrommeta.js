export function writeLocationsFromMeta(rom) {
    const { locations } = rom;
    const { CordelPlainEast, CordelPlainWest, WaterfallValleyNorth, WaterfallValleySouth } = locations;
    CordelPlainEast.meta.reconcileExits(CordelPlainWest.meta);
    for (const pos of WaterfallValleyNorth.meta.allPos()) {
        const north = WaterfallValleyNorth.meta.get(pos);
        const south = WaterfallValleySouth.meta.get(pos);
        if (north.isEmpty() && !south.isEmpty()) {
            WaterfallValleyNorth.meta.set(pos, south);
        }
        else if (south.isEmpty() && !north.isEmpty()) {
            WaterfallValleySouth.meta.set(pos, north);
        }
    }
    for (const loc of locations) {
        if (!loc.used)
            continue;
        loc.exits = [];
        loc.entrances = [];
    }
    for (const loc of locations) {
        if (!loc.used)
            continue;
        loc.meta.write();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JpdGVsb2NhdGlvbnNmcm9tbWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9wYXNzL3dyaXRlbG9jYXRpb25zZnJvbW1ldGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxVQUFVLHNCQUFzQixDQUFDLEdBQVE7SUFDN0MsTUFBTSxFQUFDLFNBQVMsRUFBQyxHQUFHLEdBQUcsQ0FBQztJQUN4QixNQUFNLEVBQUMsZUFBZSxFQUFFLGVBQWUsRUFDaEMsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUMsR0FBRyxTQUFTLENBQUM7SUFHL0QsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBTTFELEtBQUssTUFBTSxHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ3BELE1BQU0sS0FBSyxHQUFHLG9CQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakQsTUFBTSxLQUFLLEdBQUcsb0JBQW9CLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRCxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN2QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMzQzthQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzlDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQzNDO0tBQ0Y7SUFJRCxLQUFLLE1BQU0sR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUk7WUFBRSxTQUFTO1FBQ3hCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2YsR0FBRyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7S0FDcEI7SUFFRCxLQUFLLE1BQU0sR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUk7WUFBRSxTQUFTO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7S0FDbEI7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb219IGZyb20gJy4uL3JvbS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUxvY2F0aW9uc0Zyb21NZXRhKHJvbTogUm9tKSB7XG4gIGNvbnN0IHtsb2NhdGlvbnN9ID0gcm9tO1xuICBjb25zdCB7Q29yZGVsUGxhaW5FYXN0LCBDb3JkZWxQbGFpbldlc3QsXG4gICAgICAgICBXYXRlcmZhbGxWYWxsZXlOb3J0aCwgV2F0ZXJmYWxsVmFsbGV5U291dGh9ID0gbG9jYXRpb25zO1xuXG4gIC8vIEZpcnN0IHN5bmMgdXAgQ29yZGVsJ3MgZXhpdHMuXG4gIENvcmRlbFBsYWluRWFzdC5tZXRhLnJlY29uY2lsZUV4aXRzKENvcmRlbFBsYWluV2VzdC5tZXRhKTtcblxuICAvLyBDb3B5IHRoZSBub24tZW1wdHkgc2NyZWVucyBiZXR3ZWVuIHRoZSBXYXRlcmZhbGwgVmFsbGV5IHBhaXIuICBXaXRob3V0XG4gIC8vIHRoaXMsIGV2ZXJ5dGhpbmcgb24gdGhlIG90aGVyIHNpZGUgb2YgdGhlIHNlYW0gaXMgZmlsbGVkIGluIGFzIG1vdW50YWlucyxcbiAgLy8gd2hpY2ggY2F1c2VzIHZlcnkgbWlub3IgZ3JhcGhpY2FsIGFydGlmYWN0cyB3aGVuIHdhbGtpbmcgc291dGggdGhyb3VnaFxuICAvLyB0aGUgcGFzcy5cbiAgZm9yIChjb25zdCBwb3Mgb2YgV2F0ZXJmYWxsVmFsbGV5Tm9ydGgubWV0YS5hbGxQb3MoKSkge1xuICAgIGNvbnN0IG5vcnRoID0gV2F0ZXJmYWxsVmFsbGV5Tm9ydGgubWV0YS5nZXQocG9zKTtcbiAgICBjb25zdCBzb3V0aCA9IFdhdGVyZmFsbFZhbGxleVNvdXRoLm1ldGEuZ2V0KHBvcyk7XG4gICAgaWYgKG5vcnRoLmlzRW1wdHkoKSAmJiAhc291dGguaXNFbXB0eSgpKSB7XG4gICAgICBXYXRlcmZhbGxWYWxsZXlOb3J0aC5tZXRhLnNldChwb3MsIHNvdXRoKTtcbiAgICB9IGVsc2UgaWYgKHNvdXRoLmlzRW1wdHkoKSAmJiAhbm9ydGguaXNFbXB0eSgpKSB7XG4gICAgICBXYXRlcmZhbGxWYWxsZXlTb3V0aC5tZXRhLnNldChwb3MsIG5vcnRoKTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3cgZG8gdGhlIGFjdHVhbCBjb3B5LiAgU3RhcnQgYnkgd2lwaW5nIG91dCBhbGwgdGhlIGVudHJhbmNlcyBhbmQgZXhpdHMuXG4gIC8vIFRoaXMgbmVlZHMgdG8gYmUgZG9uZSBhcyBhIHNlcGFyYXRlIHBhc3NcbiAgZm9yIChjb25zdCBsb2Mgb2YgbG9jYXRpb25zKSB7XG4gICAgaWYgKCFsb2MudXNlZCkgY29udGludWU7XG4gICAgbG9jLmV4aXRzID0gW107XG4gICAgbG9jLmVudHJhbmNlcyA9IFtdO1xuICB9XG4gIC8vIFRoZW4gd3JpdGUgZWFjaCBvbmUuXG4gIGZvciAoY29uc3QgbG9jIG9mIGxvY2F0aW9ucykge1xuICAgIGlmICghbG9jLnVzZWQpIGNvbnRpbnVlO1xuICAgIGxvYy5tZXRhLndyaXRlKCk7XG4gIH1cbn1cbiJdfQ==