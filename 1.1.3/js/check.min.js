(function(){
const global=window;'use strict';const upload=document.getElementById("pick-file");
upload.addEventListener("change",()=>{const b=upload.files[0],d=new FileReader;d.addEventListener("loadend",()=>{var a=(new Uint8Array(d.result)).slice(16);document.getElementById("filename").textContent=b.name;var c=read(a,161748,12);document.getElementById("hash").textContent=c;const e=read(a,161772,8).trim();document.getElementById("seed").textContent=e;let f=read(a,161791,23)+read(a,161792,23);read(a,161839,23).trim()&&(f+=read(a,161839,23)+read(a,161840,23));document.getElementById("flags").textContent=
f;document.getElementById("checksum").textContent=read(a,161925,4)+read(a,161926,4);a=`flags=${f.replace(/ /g,"")}&seed=${e}`;document.getElementById("query").textContent=a;c=`https://crystalisrandomizer.com/${c}/#${a}`;a=document.createElement("a");a.href=c.toLowerCase();a.textContent=c.toLowerCase();document.getElementById("permalink").appendChild(a)});d.readAsArrayBuffer(b)});
const read=(b,d,a)=>{const c=[];for(let e=0;e<a;e++)c.push(String.fromCharCode(b[d+2*e]));return c.join("")},download=(b,d)=>{const a=document.createElement("a");document.body.appendChild(a);a.style.display="none";b=new Blob([b],{type:"octet/stream"});b=window.URL.createObjectURL(b);a.href=b;a.download=d;a.click();window.URL.revokeObjectURL(b);a.remove()};
}).call(this)
