(function(){
const global=window;'use strict';const upload=document.getElementById("pick-file");
upload.addEventListener("change",()=>{const c=upload.files[0],e=new FileReader;e.addEventListener("loadend",()=>{var a=(new Uint8Array(e.result)).slice(16);document.getElementById("filename").textContent=c.name;var d=read(a,161748,12).replace(/\s+$/,"").toLowerCase();document.getElementById("hash").textContent=d;var b=read(a,161772,8).trim().toLowerCase();document.getElementById("seed").textContent=b;let f=read(a,161791,23)+read(a,161792,23);read(a,161839,23).trim()&&(f+=read(a,161839,23)+read(a,
161840,23));document.getElementById("flags").textContent=f;a=(read(a,161925,4)+read(a,161926,4)).toLowerCase();document.getElementById("checksum").textContent=a;b=`flags=${f.replace(/ /g,"")}&seed=${b}&crc=${a}`;document.getElementById("query").textContent=b;d=`https://crystalisrandomizer.com/${/\./.test(d)?d:`sha/${d}`}/#${b}`;b=document.createElement("a");b.href=d;b.textContent=d;document.getElementById("permalink").appendChild(b)});e.readAsArrayBuffer(c)});
const read=(c,e,a)=>{const d=[];for(let b=0;b<a;b++)d.push(String.fromCharCode(c[e+2*b]));return d.join("")},download=(c,e)=>{const a=document.createElement("a");document.body.appendChild(a);a.style.display="none";c=new Blob([c],{type:"octet/stream"});c=window.URL.createObjectURL(c);a.href=c;a.download=e;a.click();window.URL.revokeObjectURL(c);a.remove()};
}).call(this)
