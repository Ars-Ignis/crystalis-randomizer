import { Entity } from './entity.js';
import { signed, tuple, unsigned } from './util.js';
export class Hitbox extends Entity {
    constructor(rom, id) {
        super(rom, id);
        this.base = 0x35691 + (id << 2);
        this.coordinates = tuple(rom.prg, this.base, 4);
    }
    get w() { return this.coordinates[1]; }
    set w(value) { this.coordinates[1] = value; }
    get x0() { return signed(this.coordinates[0]); }
    set x0(value) { this.coordinates[0] = unsigned(value); }
    get x1() { return this.x0 + this.w; }
    get h() { return this.coordinates[3]; }
    set h(value) { this.coordinates[3] = value; }
    get y0() { return signed(this.coordinates[2]); }
    set y0(value) { this.coordinates[2] = unsigned(value); }
    get y1() { return this.y0 + this.h; }
    write(writer) {
        writer.rom.subarray(this.base, this.base + 4).set(this.coordinates);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGl0Ym94LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2pzL3JvbS9oaXRib3gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLE1BQU0sRUFBQyxNQUFNLGFBQWEsQ0FBQztBQUNuQyxPQUFPLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFLbEQsTUFBTSxPQUFPLE1BQU8sU0FBUSxNQUFNO0lBS2hDLFlBQVksR0FBUSxFQUFFLEVBQVU7UUFDOUIsS0FBSyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsSUFBSSxDQUFDLEtBQWEsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLENBQUMsQ0FBQyxLQUFhLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRXJELElBQUksRUFBRSxLQUFhLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEQsSUFBSSxFQUFFLENBQUMsS0FBYSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVoRSxJQUFJLEVBQUUsS0FBYSxPQUFPLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFN0MsSUFBSSxDQUFDLEtBQWEsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLENBQUMsQ0FBQyxLQUFhLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRXJELElBQUksRUFBRSxLQUFhLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEQsSUFBSSxFQUFFLENBQUMsS0FBYSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVoRSxJQUFJLEVBQUUsS0FBYSxPQUFPLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFN0MsS0FBSyxDQUFDLE1BQWM7UUFDbEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDdEUsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFbnRpdHl9IGZyb20gJy4vZW50aXR5LmpzJztcbmltcG9ydCB7c2lnbmVkLCB0dXBsZSwgdW5zaWduZWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge1dyaXRlcn0gZnJvbSAnLi93cml0ZXIuanMnO1xuaW1wb3J0IHtSb219IGZyb20gJy4uL3JvbS5qcyc7XG5cbi8vIEEgcGF0dGVybiBwYWdlIHNlcXVlbmNlIGZvciBhbmltYXRpbmcgYmFja2dyb3VuZCB0aWxlcy4gIElEIGluIDAuLjNcbmV4cG9ydCBjbGFzcyBIaXRib3ggZXh0ZW5kcyBFbnRpdHkge1xuXG4gIHJlYWRvbmx5IGJhc2U6IG51bWJlcjtcbiAgY29vcmRpbmF0ZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuXG4gIGNvbnN0cnVjdG9yKHJvbTogUm9tLCBpZDogbnVtYmVyKSB7XG4gICAgc3VwZXIocm9tLCBpZCk7XG4gICAgdGhpcy5iYXNlID0gMHgzNTY5MSArIChpZCA8PCAyKTtcbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gdHVwbGUocm9tLnByZywgdGhpcy5iYXNlLCA0KTtcbiAgfVxuXG4gIGdldCB3KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNvb3JkaW5hdGVzWzFdOyB9XG4gIHNldCB3KHZhbHVlOiBudW1iZXIpIHsgdGhpcy5jb29yZGluYXRlc1sxXSA9IHZhbHVlOyB9XG5cbiAgZ2V0IHgwKCk6IG51bWJlciB7IHJldHVybiBzaWduZWQodGhpcy5jb29yZGluYXRlc1swXSk7IH1cbiAgc2V0IHgwKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5jb29yZGluYXRlc1swXSA9IHVuc2lnbmVkKHZhbHVlKTsgfVxuXG4gIGdldCB4MSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy54MCArIHRoaXMudzsgfVxuXG4gIGdldCBoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNvb3JkaW5hdGVzWzNdOyB9XG4gIHNldCBoKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5jb29yZGluYXRlc1szXSA9IHZhbHVlOyB9XG5cbiAgZ2V0IHkwKCk6IG51bWJlciB7IHJldHVybiBzaWduZWQodGhpcy5jb29yZGluYXRlc1syXSk7IH1cbiAgc2V0IHkwKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5jb29yZGluYXRlc1syXSA9IHVuc2lnbmVkKHZhbHVlKTsgfVxuXG4gIGdldCB5MSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy55MCArIHRoaXMuaDsgfVxuXG4gIHdyaXRlKHdyaXRlcjogV3JpdGVyKSB7XG4gICAgd3JpdGVyLnJvbS5zdWJhcnJheSh0aGlzLmJhc2UsIHRoaXMuYmFzZSArIDQpLnNldCh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgfVxufVxuIl19