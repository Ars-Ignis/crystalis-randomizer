import { FlagSection, Preset } from './flagset.js';
export function renderPresets(presets) {
    let first = true;
    for (const { name, flagString, description } of Preset.all()) {
        const h2 = document.createElement('h2');
        h2.textContent = name;
        presets.appendChild(h2);
        const p = document.createElement('p');
        p.innerHTML = description;
        presets.appendChild(p);
        const apply = document.createElement('a');
        apply.textContent = flagString;
        apply.classList.add('button');
        apply.classList.add('preset-flags');
        apply.dataset['flags'] = flagString;
        if (first)
            apply.dataset['defaultPreset'] = 'true';
        first = false;
        presets.appendChild(apply);
    }
}
export function renderOptions(options) {
    for (const { name, description, flags } of FlagSection.all()) {
        const h2 = document.createElement('h2');
        h2.textContent = name;
        options.appendChild(h2);
        if (description) {
            const p = document.createElement('p');
            p.innerHTML = description;
            options.appendChild(p);
        }
        const div = document.createElement('div');
        div.classList.add('flag-list');
        options.appendChild(div);
        for (const flagObj of flags.values()) {
            const { flag, opts: { hard, name, text } } = flagObj;
            const flagDiv = document.createElement('div');
            flagDiv.textContent = `${flag}: ${name}`;
            flagDiv.classList.add('checkbox');
            if (hard)
                flagDiv.classList.add('hard');
            if (text) {
                const textDiv = document.createElement('div');
                textDiv.classList.add('flag-body');
                textDiv.innerHTML = text;
                flagDiv.appendChild(textDiv);
            }
            div.appendChild(flagDiv);
        }
    }
}
export function renderRaceFlags(options, flagset) {
    for (const { name, description, flags } of FlagSection.all()) {
        let any = false;
        const h2 = document.createElement('h2');
        h2.textContent = name;
        const p = description ? document.createElement('p') : null;
        if (p)
            p.innerHTML = description;
        const div = document.createElement('div');
        div.classList.add('flag-list');
        for (const flagObj of flags.values()) {
            const { flag, opts: { hard, name, text } } = flagObj;
            if (!flagset.check(flagObj))
                continue;
            any = true;
            const flagDiv = document.createElement('div');
            flagDiv.textContent = `${flag}: ${name}`;
            flagDiv.classList.add('checkbox');
            if (hard)
                flagDiv.classList.add('hard');
            if (text) {
                const textDiv = document.createElement('div');
                textDiv.classList.add('flag-body');
                textDiv.innerHTML = text;
                flagDiv.appendChild(textDiv);
            }
            div.appendChild(flagDiv);
        }
        if (any) {
            options.appendChild(h2);
            if (p)
                options.appendChild(p);
            options.appendChild(div);
        }
    }
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2pzL3JlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUMsV0FBVyxFQUFXLE1BQU0sRUFBQyxNQUFNLGNBQWMsQ0FBQztBQUUxRCxNQUFNLFVBQVUsYUFBYSxDQUFDLE9BQW9CO0lBQ2hELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztJQUNqQixLQUFLLE1BQU0sRUFBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBQyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUMxRCxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQztRQUMxQixPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBUXZCLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7UUFDL0IsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDcEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDcEMsSUFBSSxLQUFLO1lBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDbkQsS0FBSyxHQUFHLEtBQUss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ZW5kZXJpbmcgZmxhZ3MuXG5cbmltcG9ydCB7RmxhZ1NlY3Rpb24sIEZsYWdTZXQsIFByZXNldH0gZnJvbSAnLi9mbGFnc2V0LmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclByZXNldHMocHJlc2V0czogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgZm9yIChjb25zdCB7bmFtZSwgZmxhZ1N0cmluZywgZGVzY3JpcHRpb259IG9mIFByZXNldC5hbGwoKSkge1xuICAgIGNvbnN0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICBoMi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgcHJlc2V0cy5hcHBlbmRDaGlsZChoMik7XG4gICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBwLmlubmVySFRNTCA9IGRlc2NyaXB0aW9uOyAvLyBOT1RFOiBtYWlubHkgZm9yIGl0YWxpY3MgYW5kIGJvbGRcbiAgICBwcmVzZXRzLmFwcGVuZENoaWxkKHApO1xuICAgIC8vY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgLy9kaXYuY2xhc3NMaXN0LmFkZCgnZmxleC1yb3cnKTtcbiAgICAvL3ByZXNldHMuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAvL2NvbnN0IGZsYWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAvL2ZsYWdEaXYudGV4dENvbnRlbnQgPSBmbGFncztcbiAgICAvL2ZsYWdEaXYuY2xhc3NMaXN0LmFkZCgncHJlc2V0LWZsYWdzJyk7XG4gICAgLy9kaXYuYXBwZW5kQ2hpbGQoZmxhZ0Rpdik7XG4gICAgY29uc3QgYXBwbHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYXBwbHkudGV4dENvbnRlbnQgPSBmbGFnU3RyaW5nOyAvLydBcHBseSc7XG4gICAgYXBwbHkuY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XG4gICAgYXBwbHkuY2xhc3NMaXN0LmFkZCgncHJlc2V0LWZsYWdzJyk7XG4gICAgYXBwbHkuZGF0YXNldFsnZmxhZ3MnXSA9IGZsYWdTdHJpbmc7XG4gICAgaWYgKGZpcnN0KSBhcHBseS5kYXRhc2V0WydkZWZhdWx0UHJlc2V0J10gPSAndHJ1ZSc7XG4gICAgZmlyc3QgPSBmYWxzZTtcbiAgICBwcmVzZXRzLmFwcGVuZENoaWxkKGFwcGx5KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyT3B0aW9ucyhvcHRpb25zOiBIVE1MRWxlbWVudCkge1xuICBmb3IgKGNvbnN0IHtuYW1lLCBkZXNjcmlwdGlvbiwgZmxhZ3N9IG9mIEZsYWdTZWN0aW9uLmFsbCgpKSB7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBvcHRpb25zLmFwcGVuZENoaWxkKGgyKTtcbiAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBwLmlubmVySFRNTCA9IGRlc2NyaXB0aW9uOyAvLyBOT1RFOiBtYWlubHkgZm9yIGl0YWxpY3MgYW5kIGJvbGRcbiAgICAgIG9wdGlvbnMuYXBwZW5kQ2hpbGQocCk7XG4gICAgfVxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdmbGFnLWxpc3QnKTtcbiAgICBvcHRpb25zLmFwcGVuZENoaWxkKGRpdik7XG4gICAgZm9yIChjb25zdCBmbGFnT2JqIG9mIGZsYWdzLnZhbHVlcygpKSB7XG4gICAgICBjb25zdCB7ZmxhZywgb3B0czoge2hhcmQsIG5hbWUsIHRleHR9fSA9IGZsYWdPYmo7XG4gICAgICBjb25zdCBmbGFnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBmbGFnRGl2LnRleHRDb250ZW50ID0gYCR7ZmxhZ306ICR7bmFtZX1gO1xuICAgICAgZmxhZ0Rpdi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgICAgaWYgKGhhcmQpIGZsYWdEaXYuY2xhc3NMaXN0LmFkZCgnaGFyZCcpO1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgY29uc3QgdGV4dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0RGl2LmNsYXNzTGlzdC5hZGQoJ2ZsYWctYm9keScpO1xuICAgICAgICB0ZXh0RGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgIGZsYWdEaXYuYXBwZW5kQ2hpbGQodGV4dERpdik7XG4gICAgICB9XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZmxhZ0Rpdik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJSYWNlRmxhZ3Mob3B0aW9uczogSFRNTEVsZW1lbnQsIGZsYWdzZXQ6IEZsYWdTZXQpIHtcbiAgZm9yIChjb25zdCB7bmFtZSwgZGVzY3JpcHRpb24sIGZsYWdzfSBvZiBGbGFnU2VjdGlvbi5hbGwoKSkge1xuICAgIGxldCBhbnkgPSBmYWxzZTtcbiAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaDIudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGNvbnN0IHAgPSBkZXNjcmlwdGlvbiA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKSA6IG51bGw7XG4gICAgaWYgKHApIHAuaW5uZXJIVE1MID0gZGVzY3JpcHRpb24hOyAvLyBOT1RFOiBtYWlubHkgZm9yIGl0YWxpY3MgYW5kIGJvbGRcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnZmxhZy1saXN0Jyk7XG4gICAgZm9yIChjb25zdCBmbGFnT2JqIG9mIGZsYWdzLnZhbHVlcygpKSB7XG4gICAgICBjb25zdCB7ZmxhZywgb3B0czoge2hhcmQsIG5hbWUsIHRleHR9fSA9IGZsYWdPYmo7XG4gICAgICBpZiAoIWZsYWdzZXQuY2hlY2soZmxhZ09iaikpIGNvbnRpbnVlO1xuICAgICAgYW55ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGZsYWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGZsYWdEaXYudGV4dENvbnRlbnQgPSBgJHtmbGFnfTogJHtuYW1lfWA7XG4gICAgICBmbGFnRGl2LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgICBpZiAoaGFyZCkgZmxhZ0Rpdi5jbGFzc0xpc3QuYWRkKCdoYXJkJyk7XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICBjb25zdCB0ZXh0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRleHREaXYuY2xhc3NMaXN0LmFkZCgnZmxhZy1ib2R5Jyk7XG4gICAgICAgIHRleHREaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgZmxhZ0Rpdi5hcHBlbmRDaGlsZCh0ZXh0RGl2KTtcbiAgICAgIH1cbiAgICAgIGRpdi5hcHBlbmRDaGlsZChmbGFnRGl2KTtcbiAgICB9XG4gICAgaWYgKGFueSkge1xuICAgICAgb3B0aW9ucy5hcHBlbmRDaGlsZChoMik7XG4gICAgICBpZiAocCkgb3B0aW9ucy5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG9wdGlvbnMuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG4gIH1cbn07XG4iXX0=