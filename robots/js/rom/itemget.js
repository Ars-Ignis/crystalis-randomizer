import { Entity, EntityArray } from './entity.js';
import { MessageId } from './messageid.js';
import { ITEM_GET_FLAGS, hex, readLittleEndian, writeLittleEndian } from './util.js';
const GRANT_ITEM_TABLE = 0x3d6d5;
export class ItemGets extends EntityArray {
    constructor(rom) {
        super(0x71);
        this.rom = rom;
        this.actionGrants = new Map();
        for (let i = 0; i < 0x71; i++) {
            this[i] = new ItemGet(rom, i);
        }
        let addr = GRANT_ITEM_TABLE;
        while (rom.prg[addr] !== 0xff) {
            const key = rom.prg[addr++];
            const value = rom.prg[addr++];
            this.actionGrants.set(key, value);
        }
    }
    async write(writer) {
        const promises = [];
        for (const itemget of this) {
            promises.push(itemget.write(writer));
        }
        await Promise.all(promises);
        let addr = GRANT_ITEM_TABLE;
        for (const [key, value] of this.actionGrants) {
            writer.rom[addr++] = key;
            writer.rom[addr++] = value;
        }
    }
}
export class ItemGet extends Entity {
    constructor(rom, id) {
        super(rom, id);
        this.itemPointer = 0x1dd66 + id;
        this.itemId = rom.prg[this.itemPointer];
        this.tablePointer = 0x1db00 + 2 * id;
        this.tableBase = readLittleEndian(rom.prg, this.tablePointer) + 0x14000;
        let a = this.tableBase;
        this.inventoryRowStart = rom.prg[a++];
        this.inventoryRowLength = rom.prg[a++];
        this.acquisitionAction = MessageId.from(rom.prg, a);
        this.flags = ITEM_GET_FLAGS.read(rom.prg, a + 2);
        this.key = rom.prg[a + 2 + 2 * this.flags.length + 1] === 0xfe;
        if (id !== 0 && this.tableBase === readLittleEndian(rom.prg, 0x1dd66) + 0x14000) {
            this.key = false;
            this.flags = [];
        }
    }
    copyFrom(that) {
        this.inventoryRowStart = that.inventoryRowStart;
        this.inventoryRowLength = that.inventoryRowLength;
        this.acquisitionAction = that.acquisitionAction;
        this.flags = [...that.flags];
        this.key = that.key;
    }
    async write(writer) {
        writer.rom[this.itemPointer] = this.itemId;
        const table = [
            this.inventoryRowStart, this.inventoryRowLength,
            ...this.acquisitionAction.data,
            ...ITEM_GET_FLAGS.bytes(this.flags),
            this.key ? 0xfe : 0xff,
        ];
        const address = await writer.write(table, 0x1c000, 0x1ffff, `ItemGetData ${hex(this.id)}`);
        writeLittleEndian(writer.rom, this.tablePointer, address - 0x14000);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbWdldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9yb20vaXRlbWdldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsTUFBTSxFQUFFLFdBQVcsRUFBQyxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFDLGNBQWMsRUFBRSxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFJbkYsTUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUM7QUFPakMsTUFBTSxPQUFPLFFBQVMsU0FBUSxXQUFvQjtJQUloRCxZQUFxQixHQUFRO1FBQzNCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQURPLFFBQUcsR0FBSCxHQUFHLENBQUs7UUFGN0IsaUJBQVksR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztRQUl2QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLElBQUksR0FBRyxnQkFBZ0IsQ0FBQztRQUM1QixPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQzdCLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUM1QixNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ25DO0lBQ0gsQ0FBQztJQUVE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O1FBRXhCLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDM0MsTUFBTSxLQUFLLEdBQUc7WUFDWixJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQjtZQUMvQyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJO1lBQzlCLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSTtTQUN2QixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsTUFBTSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUN2QixlQUFlLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xFLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxPQUFPLEdBQUcsT0FBTyxDQUFDLENBQUM7SUFDdEUsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFbnRpdHksIEVudGl0eUFycmF5fSBmcm9tICcuL2VudGl0eS5qcyc7XG5pbXBvcnQge01lc3NhZ2VJZH0gZnJvbSAnLi9tZXNzYWdlaWQuanMnO1xuaW1wb3J0IHtJVEVNX0dFVF9GTEFHUywgaGV4LCByZWFkTGl0dGxlRW5kaWFuLCB3cml0ZUxpdHRsZUVuZGlhbn0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7V3JpdGVyfSBmcm9tICcuL3dyaXRlci5qcyc7XG5pbXBvcnQge1JvbX0gZnJvbSAnLi4vcm9tLmpzJztcblxuY29uc3QgR1JBTlRfSVRFTV9UQUJMRSA9IDB4M2Q2ZDU7XG5cbi8qKlxuICogQXJyYXkgb2YgSXRlbUdldERhdGEgdGFibGUgZW50cmllcywgdG9nZXRoZXIgd2l0aCB0aGUgbWFwIG9mXG4gKiB0cmlnZ2VyL2l0ZW11c2UgZ3JhbnRzIChhZGRlZCBmb3Igc3RhdHVlIG9mIGdvbGQgc2h1ZmZsZSksXG4gKiBmb3IgcHJvZ3JhbW1hdGljIGFjY2Vzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEl0ZW1HZXRzIGV4dGVuZHMgRW50aXR5QXJyYXk8SXRlbUdldD4ge1xuXG4gIGFjdGlvbkdyYW50cyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcm9tOiBSb20pIHtcbiAgICBzdXBlcigweDcxKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDB4NzE7IGkrKykge1xuICAgICAgdGhpc1tpXSA9IG5ldyBJdGVtR2V0KHJvbSwgaSk7XG4gICAgfVxuXG4gICAgbGV0IGFkZHIgPSBHUkFOVF9JVEVNX1RBQkxFO1xuICAgIHdoaWxlIChyb20ucHJnW2FkZHJdICE9PSAweGZmKSB7XG4gICAgICBjb25zdCBrZXkgPSByb20ucHJnW2FkZHIrK107XG4gICAgICBjb25zdCB2YWx1ZSA9IHJvbS5wcmdbYWRkcisrXTtcbiAgICAgIHRoaXMuYWN0aW9uR3JhbnRzLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB3cml0ZSh3cml0ZXI6IFdyaXRlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtZ2V0IG9mIHRoaXMpIHtcbiAgICAgIHByb21pc2VzLnB1c2goaXRlbWdldC53cml0ZSh3cml0ZXIpKTtcbiAgICB9XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIGxldCBhZGRyID0gR1JBTlRfSVRFTV9UQUJMRTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLmFjdGlvbkdyYW50cykge1xuICAgICAgd3JpdGVyLnJvbVthZGRyKytdID0ga2V5O1xuICAgICAgd3JpdGVyLnJvbVthZGRyKytdID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbn1cblxuLy8gQSBnZXR0YWJsZSBpdGVtIHNsb3QvY2hlY2suICBFYWNoIEl0ZW1HZXQgbWFwcyB0byBhIHNpbmdsZSBpdGVtLFxuLy8gYnV0IG5vbi11bmlxdWUgaXRlbXMgbWF5IG1hcCB0byBtdWx0aXBsZSBJdGVtR2V0cy5cbmV4cG9ydCBjbGFzcyBJdGVtR2V0IGV4dGVuZHMgRW50aXR5IHtcblxuICBpdGVtUG9pbnRlcjogbnVtYmVyO1xuICBpdGVtSWQ6IG51bWJlcjtcblxuICB0YWJsZVBvaW50ZXI6IG51bWJlcjtcbiAgdGFibGVCYXNlOiBudW1iZXI7XG5cbiAgLy8gV2hhdCBwYXJ0IG9mIGludmVudG9yeSB0byBzZWFyY2ggd2hlbiBhY3F1aXJpbmcuXG4gIGludmVudG9yeVJvd1N0YXJ0OiBudW1iZXI7XG4gIGludmVudG9yeVJvd0xlbmd0aDogbnVtYmVyO1xuICAvLyBPbmx5IHVzZWQgZm9yIHRoZSAnYWN0aW9uJy5cbiAgYWNxdWlzaXRpb25BY3Rpb246IE1lc3NhZ2VJZDtcbiAgLy8gRmxhZ3MgdG8gc2V0L2NsZWFyIG9uIGdldHRpbmcgdGhlIGl0ZW0uICB+ZmxhZyBpbmRpY2F0ZXMgdG8gY2xlYXIuXG4gIC8vIE5vdGU6IHdlIGNhbiBlbGltaW5hdGUgbW9zdCBvZiB0aGVzZSBzaW5jZSB3ZSBoYW5kbGUgdGhlIDJ4eCBmbGFnXG4gIC8vIGF1dG9tYXRpY2FsbHkgYW5kIHVzZSBpdCBmb3IgY2hlc3Qgc3Bhd25pbmcuXG4gIGZsYWdzOiBudW1iZXJbXTtcblxuICAvLyBXaGV0aGVyIHRoZSBpdGVtIGlzIFwia2V5XCIgb3Igbm90IGZvciBzY2FsaW5nIHB1cnBvc2VzLlxuICAvLyBUT0RPIC0gZmluZCBhIGJldHRlciBzb3VyY2UgZm9yIHRoaXMgc28gd2UgY2FuIHJlbW92ZSBpdCBmcm9tIHRoaXMgdGFibGUuXG4gIC8vICAgICAgICBXZSBjb3VsZCBwb3NzaWJseSBzdG9yZSBpdCBpbiBhIDE0LWJ5dGUgYml0ZmllbGQuLi5cbiAga2V5OiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHJvbTogUm9tLCBpZDogbnVtYmVyKSB7XG4gICAgc3VwZXIocm9tLCBpZCk7XG5cbiAgICB0aGlzLml0ZW1Qb2ludGVyID0gMHgxZGQ2NiArIGlkO1xuICAgIHRoaXMuaXRlbUlkID0gcm9tLnByZ1t0aGlzLml0ZW1Qb2ludGVyXTtcbiAgICAvLyBJIGRvbid0IGZ1bGx5IHVuZGVyc3RhbmQgdGhpcyB0YWJsZS4uLlxuICAgIHRoaXMudGFibGVQb2ludGVyID0gMHgxZGIwMCArIDIgKiBpZDtcbiAgICB0aGlzLnRhYmxlQmFzZSA9IHJlYWRMaXR0bGVFbmRpYW4ocm9tLnByZywgdGhpcy50YWJsZVBvaW50ZXIpICsgMHgxNDAwMDtcbiAgICBsZXQgYSA9IHRoaXMudGFibGVCYXNlO1xuXG4gICAgdGhpcy5pbnZlbnRvcnlSb3dTdGFydCA9IHJvbS5wcmdbYSsrXTtcbiAgICB0aGlzLmludmVudG9yeVJvd0xlbmd0aCA9IHJvbS5wcmdbYSsrXTtcbiAgICB0aGlzLmFjcXVpc2l0aW9uQWN0aW9uID0gTWVzc2FnZUlkLmZyb20ocm9tLnByZywgYSk7XG4gICAgdGhpcy5mbGFncyA9IElURU1fR0VUX0ZMQUdTLnJlYWQocm9tLnByZywgYSArIDIpO1xuXG4gICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgY2hlY2tcbiAgICB0aGlzLmtleSA9IHJvbS5wcmdbYSArIDIgKyAyICogdGhpcy5mbGFncy5sZW5ndGggKyAxXSA9PT0gMHhmZTtcblxuICAgIGlmIChpZCAhPT0gMCAmJiB0aGlzLnRhYmxlQmFzZSA9PT0gcmVhZExpdHRsZUVuZGlhbihyb20ucHJnLCAweDFkZDY2KSArIDB4MTQwMDApIHtcbiAgICAgIC8vIFRoaXMgaXMgb25lIG9mIHRoZSB1bnVzZWQgaXRlbXMgdGhhdCBwb2ludCB0byBzd29yZCBvZiB3aW5kLlxuICAgICAgdGhpcy5rZXkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZmxhZ3MgPSBbXTtcbiAgICB9XG4gIH1cblxuICBjb3B5RnJvbSh0aGF0OiBJdGVtR2V0KSB7XG4gICAgdGhpcy5pbnZlbnRvcnlSb3dTdGFydCA9IHRoYXQuaW52ZW50b3J5Um93U3RhcnQ7XG4gICAgdGhpcy5pbnZlbnRvcnlSb3dMZW5ndGggPSB0aGF0LmludmVudG9yeVJvd0xlbmd0aDtcbiAgICB0aGlzLmFjcXVpc2l0aW9uQWN0aW9uID0gdGhhdC5hY3F1aXNpdGlvbkFjdGlvbjtcbiAgICB0aGlzLmZsYWdzID0gWy4uLnRoYXQuZmxhZ3NdO1xuICAgIHRoaXMua2V5ID0gdGhhdC5rZXk7XG4gIH1cblxuICBhc3luYyB3cml0ZSh3cml0ZXI6IFdyaXRlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEZpcnN0IHdyaXRlIChpdGVtZ2V0IC0+IGl0ZW0pIG1hcHBpbmdcbiAgICB3cml0ZXIucm9tW3RoaXMuaXRlbVBvaW50ZXJdID0gdGhpcy5pdGVtSWQ7XG4gICAgY29uc3QgdGFibGUgPSBbXG4gICAgICB0aGlzLmludmVudG9yeVJvd1N0YXJ0LCB0aGlzLmludmVudG9yeVJvd0xlbmd0aCxcbiAgICAgIC4uLnRoaXMuYWNxdWlzaXRpb25BY3Rpb24uZGF0YSxcbiAgICAgIC4uLklURU1fR0VUX0ZMQUdTLmJ5dGVzKHRoaXMuZmxhZ3MpLFxuICAgICAgdGhpcy5rZXkgPyAweGZlIDogMHhmZiwgIC8vIFRPRE86IHJlbW92ZSB0aGlzIGJ5dGUgd2hlbiBubyBsb25nZXIgbmVlZGVkXG4gICAgXTtcbiAgICBjb25zdCBhZGRyZXNzID0gYXdhaXQgd3JpdGVyLndyaXRlKHRhYmxlLCAweDFjMDAwLCAweDFmZmZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEl0ZW1HZXREYXRhICR7aGV4KHRoaXMuaWQpfWApO1xuICAgIHdyaXRlTGl0dGxlRW5kaWFuKHdyaXRlci5yb20sIHRoaXMudGFibGVQb2ludGVyLCBhZGRyZXNzIC0gMHgxNDAwMCk7XG4gIH1cbn1cbiJdfQ==