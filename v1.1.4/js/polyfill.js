if (!Array.prototype.flatMap) {
    Object.defineProperties(Array.prototype, {
        flatMap: {
            value(f) {
                const out = [];
                let i = 0;
                for (const x of this) {
                    let y = f(x, i++);
                    if (typeof y[Symbol.iterator] !== 'function')
                        y = [y];
                    y = [...y];
                    if (y.length)
                        out.push(...y);
                }
                return out;
            },
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9seWZpbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvcG9seWZpbGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFO0lBQzVCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFO1FBQ3ZDLE9BQU8sRUFBRTtZQUNQLEtBQUssQ0FBdUIsQ0FBMkI7Z0JBQ3JELE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztnQkFDZixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ1YsS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDbEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssVUFBVTt3QkFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQVEsQ0FBQztvQkFDN0QsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDWCxJQUFJLENBQUMsQ0FBQyxNQUFNO3dCQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDOUI7Z0JBQ0QsT0FBTyxHQUFHLENBQUM7WUFDYixDQUFDO1NBQ0Y7S0FDRixDQUFDLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFBvbHlmaWxsIEFycmF5LnByb3RveXBlLmZsYXRNYXBcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmxhdE1hcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhBcnJheS5wcm90b3R5cGUsIHtcbiAgICBmbGF0TWFwOiB7XG4gICAgICB2YWx1ZTxULCBVPih0aGlzOiBBcnJheTxUPiwgZjogKHg6IFQsIGk6IG51bWJlcikgPT4gVVtdKTogVVtdIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB4IG9mIHRoaXMpIHtcbiAgICAgICAgICBsZXQgeSA9IGYoeCwgaSsrKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHlbU3ltYm9sLml0ZXJhdG9yXSAhPT0gJ2Z1bmN0aW9uJykgeSA9IFt5XSBhcyBhbnk7XG4gICAgICAgICAgeSA9IFsuLi55XTtcbiAgICAgICAgICBpZiAoeS5sZW5ndGgpIG91dC5wdXNoKC4uLnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xufVxuIl19