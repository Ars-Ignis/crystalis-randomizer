import { seq } from './util.js';
export const featureMask = {
    'empty': 0x1,
    'pit': 0x2,
    'arena': 0x4,
    'spikes': 0x8,
    'wide': 0x10,
    'river': 0x20,
    'bridge': 0x40,
    'wall': 0x80,
    'ramp': 0x100,
    'overpass': 0x200,
    'underpass': 0x400,
    'whirlpool': 0x800,
    'stair:up': 65536,
    'stair:down': 131072,
    'portoa1': 117440512,
    'portoa2': 184549376,
    'portoa3': 218103808,
    'lake': 234881024,
    'lighthouse': 318767104,
    'cabin': 352321536,
    'windmill': 369098752,
    'altar': 419430400,
    'pyramid': 436207616,
    'crypt': 469762048,
    'manual': 1073741824,
    'consolidate': 2147483648,
};
export function icon(arr) {
    if (arr.length != 1)
        throw new Error('Bad icon input');
    const str = arr[0];
    const lines = str.split('\n');
    const full = lines.slice(1).map(l => l.replace(/^\s*\||\|\s*$/g, ''));
    const short = /\S/.test(lines[0]) ? lines[0][0] : full[1][1];
    return { short, full: [full[0], full[1], full[2]] };
}
export function readScreen(spec, ...replacements) {
    const s = spec.split(/\s+/g);
    if (!s[0])
        s.shift();
    if (!s[s.length - 1])
        s.pop();
    if (s.length !== 240)
        throw new Error(`Bad screen definition: ${s.length}`);
    const map = new Map(replacements);
    return Uint8Array.from(s, x => { var _a; return (_a = map.get(x)) !== null && _a !== void 0 ? _a : parseInt(x, 16); });
}
export function upStair(tile, width = 2) {
    const y = tile >>> 4;
    const x = tile & 0xf;
    if (width === 1) {
        const dy = y === 0xe ? 0x2800 : 0x1800;
        const entrance = ((y << 12) + dy) | ((x << 4) + 0x0008);
        return {
            type: 'stair:up',
            dir: 2,
            entrance,
            exits: [tile],
        };
    }
    const entrance = y << 12 | ((x << 4) + (width << 3));
    return {
        type: 'stair:up',
        dir: 0,
        entrance,
        exits: seq(width, i => tile - 0x10 + i),
    };
}
export function downStair(tile, width = 2) {
    const y = tile >>> 4;
    const x = tile & 0xf;
    if (width === 1) {
        const entrance = ((y << 12) - 0x0800) | ((x << 4) + 0x0008);
        return {
            type: 'stair:down',
            dir: 2,
            entrance,
            exits: [tile],
            allowedExits: [tile + 16, tile - 16],
        };
    }
    const entrance = y << 12 | 0x0f00 | ((x << 4) + (width << 3));
    return {
        type: 'stair:down',
        dir: 2,
        entrance,
        exits: seq(width, i => tile + 0x10 + i),
        allowedExits: [...seq(width, i => tile + 0x20 + i),
            ...seq(width, i => tile + i)],
    };
}
export function cave(tile, type = 'cave') {
    return { ...upStair(tile + 16), type };
}
export function door(tile, type = 'door') {
    return { ...upStair(tile, 1), type };
}
export function waterfallCave(tile) {
    const y = tile >>> 4;
    const x = tile & 0xf;
    return {
        type: 'cave',
        dir: 0,
        entrance: y << 12 | x << 4 | 0xf,
        exits: [tile - 0xf, tile + 1],
    };
}
export function topEdge({ left = 7, width = 2, top = 2, manual = false } = {}) {
    return {
        type: 'edge:top',
        manual,
        dir: 0,
        entrance: ((top + 1) << 12) | ((left << 4) + (width << 3)),
        exits: seq(width, i => (top << 4) | (i + left)),
    };
}
export function bottomEdge({ left = 7, width = 2, shift = 0, type = 'edge:bottom', manual = false } = {}) {
    return {
        type, manual,
        dir: 2,
        entrance: 57088 | ((left << 4) + (width << 3) + 16 * shift),
        exits: seq(width, i => 0xe0 | (i + left)),
    };
}
export function bottomEdgeHouse({ left = 7, width = 2, shift = 0 } = {}) {
    return {
        type: 'edge:bottom',
        dir: 2,
        entrance: 44800 | ((left << 4) + (width << 3) + 16 * shift),
        exits: seq(width, i => 0xb0 | (i + left)),
    };
}
export function leftEdge({ top = 7, height = 2, shift = 0 } = {}) {
    return {
        type: 'edge:left',
        dir: 1,
        entrance: ((top << 12) + ((16 * shift) << 8) + (height << 11)) | 0x10,
        exits: seq(height, i => (i + top) << 4),
    };
}
export function rightEdge({ top = 7, height = 2, shift = 0 } = {}) {
    return {
        type: 'edge:right',
        dir: 3,
        entrance: ((top << 12) + ((16 * shift) << 8) + (height << 11)) | 0xef,
        exits: seq(height, i => (i + top) << 4 | 0xf),
    };
}
export function seamlessUp(tile, width = 2) {
    return {
        type: 'seamless:up',
        dir: 0,
        get entrance() { throw new Error('does not make sense'); },
        exits: seq(width, i => (tile + i)),
    };
}
export function seamlessDown(tile, width = 2) {
    return {
        type: 'seamless:down',
        dir: 2,
        get entrance() { throw new Error('does not make sense'); },
        exits: seq(width, i => (tile + i)),
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YXNjcmVlbmRhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvanMvcm9tL21ldGFzY3JlZW5kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBQyxHQUFHLEVBQUMsTUFBTSxXQUFXLENBQUM7QUE2TDlCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRztJQUV6QixPQUFPLEVBQUUsR0FBRztJQUNaLEtBQUssRUFBRSxHQUFHO0lBQ1YsT0FBTyxFQUFFLEdBQUc7SUFDWixRQUFRLEVBQUUsR0FBRztJQUNiLE1BQU0sRUFBRSxJQUFJO0lBQ1osT0FBTyxFQUFFLElBQUk7SUFDYixRQUFRLEVBQUUsSUFBSTtJQUNkLE1BQU0sRUFBRSxJQUFJO0lBQ1osTUFBTSxFQUFFLEtBQUs7SUFDYixVQUFVLEVBQUUsS0FBSztJQUNqQixXQUFXLEVBQUUsS0FBSztJQUNsQixXQUFXLEVBQUUsS0FBSztJQUlsQixVQUFVLEVBQUUsS0FBUTtJQUNwQixZQUFZLEVBQUUsTUFBUTtJQUt0QixTQUFTLEVBQUUsU0FBVztJQUN0QixTQUFTLEVBQUUsU0FBVztJQUN0QixTQUFTLEVBQUUsU0FBVztJQUN0QixNQUFNLEVBQUUsU0FBVztJQUNuQixZQUFZLEVBQUUsU0FBWTtJQUMxQixPQUFPLEVBQUUsU0FBWTtJQUNyQixVQUFVLEVBQUUsU0FBWTtJQUN4QixPQUFPLEVBQUUsU0FBWTtJQUNyQixTQUFTLEVBQUUsU0FBWTtJQUN2QixPQUFPLEVBQUUsU0FBWTtJQUdyQixRQUFRLEVBQUUsVUFBVztJQUVyQixhQUFhLEVBQUUsVUFBVztDQUNsQixDQUFDO0FBY1gsTUFBTSxVQUFVLElBQUksQ0FBQyxHQUF5QjtJQUM1QyxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQztRQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN2RCxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFbkIsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUU5QixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxPQUFPLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztBQUNwRCxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFZLEVBQ1osR0FBRyxZQUFnQztJQUM1RCxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzdCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3JCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDOUIsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLEdBQUc7UUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUM1RSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxZQUFZ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UUFDMUQsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNoRCxDQUFDO0FBQ0osQ0FBQztBQUlELE1BQU0sVUFBVSxVQUFVLENBQUMsRUFBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFDOUIsSUFBSSxHQUFHLGFBQStCLEVBQ3RDLE1BQU0sR0FBRyxLQUFLLEtBQUksRUFBRTtJQUk5QyxPQUFPO1FBQ0wsSUFBSSxFQUFFLE1BQU07UUFDWixHQUFHLEVBQUUsQ0FBQztRQUNOLFFBQVEsRUFBRSxLQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBQzdELEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0tBQzFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxVQUFVLGVBQWUsQ0FBQyxFQUFDLElBQUksR0FBRyxDQUFDLEVBQ1IsS0FBSyxHQUFHLENBQUMsRUFDVCxLQUFLLEdBQUcsQ0FBQyxFQUFDLEdBQUcsRUFBRTtJQUc5QyxPQUFPO1FBQ0wsSUFBSSxFQUFFLGFBQWE7UUFDbkIsR0FBRyxFQUFFLENBQUM7UUFDTixRQUFRLEVBQUUsS0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQztRQUM3RCxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUMxQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQUMsRUFBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBQyxHQUFHLEVBQUU7SUFDNUQsT0FBTztRQUNMLElBQUksRUFBRSxXQUFXO1FBQ2pCLEdBQUcsRUFBRSxDQUFDO1FBQ04sUUFBUSxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUk7UUFDckUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDeEMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLEVBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUMsR0FBRyxFQUFFO0lBQzdELE9BQU87UUFDTCxJQUFJLEVBQUUsWUFBWTtRQUNsQixHQUFHLEVBQUUsQ0FBQztRQUNOLFFBQVEsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJO1FBQ3JFLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUM5QyxDQUFDO0FBQ0osQ0FBQztBQUdELE1BQU0sVUFBVSxVQUFVLENBQUMsSUFBWSxFQUFFLEtBQUssR0FBRyxDQUFDO0lBQ2hELE9BQU87UUFDTCxJQUFJLEVBQUUsYUFBYTtRQUNuQixHQUFHLEVBQUUsQ0FBQztRQUNOLElBQUksUUFBUSxLQUFhLE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNuQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sVUFBVSxZQUFZLENBQUMsSUFBWSxFQUFFLEtBQUssR0FBRyxDQUFDO0lBQ2xELE9BQU87UUFDTCxJQUFJLEVBQUUsZUFBZTtRQUNyQixHQUFHLEVBQUUsQ0FBQztRQUNOLElBQUksUUFBUSxLQUFhLE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNuQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWV0YXNjcmVlbn0gZnJvbSAnLi9tZXRhc2NyZWVuLmpzJztcbmltcG9ydCB7U2NyZWVuRml4fSBmcm9tICcuL3NjcmVlbmZpeC5qcyc7XG5pbXBvcnQge01ldGF0aWxlc2V0c30gZnJvbSAnLi9tZXRhdGlsZXNldC5qcyc7XG5pbXBvcnQge3NlcX0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7Um9tfSBmcm9tICcuLi9yb20uanMnO1xuXG4vKipcbiAqIE1ldGFkYXRhIGFib3V0IHRoZSBtZXRhc2NyZWVuLiAgQmVjYXVzZSB0aGVzZSBhcmUgY3JlYXRlZCBwZXIgTWV0YXNjcmVlbnNcbiAqIGluc3RhbmNlLCB0aGV5IGNhbiBhY3R1YWxseSBiZSBtdXRhdGVkIGFzIG5lZWRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRhc2NyZWVuRGF0YSB7XG4gIC8qKlxuICAgKiBJZiB0aGUgc2NyZWVuIGV4aXN0cyBvciBpcyBzaGFyZWQgd2l0aCBhIHNjcmVlbiBpbiB0aGUgdmFuaWxsYSByb20sIHRoZW5cbiAgICogdGhpcyBpcyB0aGUgc2NyZWVuIElEICgwLi4xMDIpLiAgT3RoZXJ3aXNlLCBpdCBpcyBhIHNwYXJzZSBuZWdhdGl2ZSBudW1iZXJcbiAgICogc2hhcmVkIGJ5IGFsbCB0aGUgc2NyZWVucyB0aGF0IHdpbGwgdWx0aW1hdGVseSBoYXZlIHRoZSBzYW1lIElELlxuICAgKi9cbiAgcmVhZG9ubHkgaWQ6IG51bWJlcjtcbiAgLyoqIFJlcHJlc2VudGF0aXZlIGljb24gZm9yIGRlYnVnIHB1cnBvc2VzLiAqL1xuICBpY29uPzogSWNvbjtcbiAgLyoqIExpc3Qgb2YgdGlsZXNldHMgdGhpcyBzY3JlZW4gYXBwZWFycyBpbi4gKi9cbiAgdGlsZXNldHM6IHtbbmFtZSBpbiBrZXlvZiBNZXRhdGlsZXNldHNdPzoge1xuICAgIC8qKiBGaXhlcyBuZWVkZWQgYmVmb3JlIHNjcmVlbiBpcyB1c2FibGUgaW4gdGhlIHRpbGVzZXQuICovXG4gICAgcmVxdWlyZXM/OiBTY3JlZW5GaXhbXSxcbiAgICAvKiogPz8/ICovXG4gICAgdHlwZT86IHN0cmluZywgLy8gZm9yIHRvd24/XG4gICAgLyoqIExhYnlyaW50aCBkYXRhLiAqL1xuICAgIGFkZFdhbGw/OiBudW1iZXJbXSxcbiAgICByZW1vdmVXYWxsPzogbnVtYmVyLFxuICB9fTtcbiAgLyoqIExpc3Qgb2YgZmVhdHVyZXMgcHJlc2VudC4gKi9cbiAgZmVhdHVyZT86IEZlYXR1cmVbXTtcbiAgLyoqIExpc3Qgb2YgZXhpdCBzcGVjcy4gKi9cbiAgZXhpdHM/OiByZWFkb25seSBDb25uZWN0aW9uW107XG4gIC8qKlxuICAgKiBTdHJpbmcgKGxlbmd0aCA0KSBvZiBlZGdlIHR5cGVzIGZvciBtYXRjaGluZzogdXAsIGxlZnQsIGRvd24sIHJpZ2h0LlxuICAgKiBUaGUgZm9sbG93aW5nIGNoYXJhY3RlcnMgYXJlIHVzZWQgaW4gdmFyaW91cyB0aWxlc2V0czpcbiAgICogR2VuZXJhbDpcbiAgICogICAqIGJsYW5rID0gYmxvY2tlZFxuICAgKiAgICogc3RhciA9IHNwZWNpYWwgY2FzZVxuICAgKiBPdmVyd29ybGQ6XG4gICAqICAgKiAnbycgPSBvcGVuXG4gICAqICAgKiAnPCcsICc+JywgJ14nLCAndicgPSBvcGVuIG9uIHRoZSAobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKS5cbiAgICogICAqICdsJyA9IGxvbmcgZ3Jhc3NcbiAgICogICAqICdzJyA9IHNob3J0IGdyYXNzXG4gICAqICAgKiAncicgPSByaXZlclxuICAgKiAgICogJ24nID0gbmFycm93IGVkZ2UgZXhpdCwgY2VudGVyZWRcbiAgICogICAqICdiJyA9IGJvYXRcbiAgICogICAqICcxJywgJzInLCAnMycgPSBvbmUtb2ZmIHNwZWNpYWwgY2FzZXMgYXJvdW5kIHBvcnRvYS9vYXNpc1xuICAgKiBUb3dlcjpcbiAgICogICAqICdzJyA9IHN0YWlyc1xuICAgKiAgICogJ3QnID0gY29ycmlkb3JcbiAgICogQ2F2ZTpcbiAgICogICAqICdjJyA9IGNvcnJpZG9yXG4gICAqICAgKiAndycgPSB3aWRlXG4gICAqICAgKiAnbicgPSBuYXJyb3dcbiAgICogICAqICdyJyA9IHJpdmVyXG4gICAqICAgKiAnYicgPSB3cm9uZyBzaWRlIG9mIGJyaWRnZVxuICAgKiAgICogJ3MnID0gc3Bpa2VzXG4gICAqIFN3YW1wOlxuICAgKiAgICogJ3MnID0gcGFzc2FnZVxuICAgKiBNb3VudGFpbjpcbiAgICogICAqICdwJyA9IHBhdGhcbiAgICogICAqICdzJyA9IHNsb3BlXG4gICAqICAgKiAndycgPSB3YXRlcmZhbGxcbiAgICogICAqICdsJyA9IGxhZGRlclxuICAgKi9cbiAgZWRnZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIGVkZ2VzIChtYXkgc3VwZXJjZWRlPyksIGJ1dCA5IGluc3RlYWQgb2YgNFxuICAgKiBzaW5jZSBpdCBpbmNsdWRlcyBjb3JuZXJzIGFuZCBjZW50ZXIsIHdoaWNoIGVhY2ggaGF2ZVxuICAgKiB0aGVpciBvd24gdGhpbmcuXG4gICAqIENhdmU6XG4gICAqICAgYyA9IGNvcnJpZG9yLCBvcmRpbmFyeSBjZW50ZXJcbiAgICogICB3ID0gd2lkZSBlZGdlLCB3aWRlIGNlbnRlclxuICAgKiAgIG4gPSBuYXJyb3cgZWRnZVxuICAgKiAgIHIgPSByaXZlciAoY2VudGVyIG9mIHJpdmVyIHRpbGVzLCBhbmQgZWRnZXMpXG4gICAqICAgIyA9IGJsb2NrYWdlICh3YWxsLCBub24tYnJpZGdlZCByaXZlciwgZXh0cmEgYmxvY2spXG4gICAqICAgICAgIE5PVEU6IHdlIGFkZCB3YWxscyBidXQgX3JlbW92ZV8gYnJpZGdlcy4uLlxuICAgKiAgICAgICBOT1RFOiBubyBsb25nZXIgdXNlZCAtIGp1c3QgZmlsbCBpbiBub3JtYWwgbm93Li4uXG4gICAqICAgYiA9IGJyaWRnZSAod3Jvbmcgc2lkZT8/PyBwcm9iYWJseSBub3QuLi4pXG4gICAqICAgcyA9IHNwaWtlc1xuICAgKiAgIHAgPSBwaXRcbiAgICogICAvID0gcmFtcFxuICAgKiAgIFxuICAgKiBPdmVyd29ybGQ6XG4gICAqICAgbyA9IG9wZW5cbiAgICogICA8ID0gY2F2ZSBvciBvdGhlciB1cCBleGl0XG4gICAqICAgPiA9IGRvd24gZXhpdCAoaS5lLiBjcnlwdClcbiAgICogICB4ID0gZWRnZSBleGl0IChuZXZlciB1c2VkIGludGVyaW9yKVxuICAgKiAgIGwgPSBsb25nIGdyYXNzL2ZvcmVzdFxuICAgKiAgIGcgPSBzaG9ydCBncmFzc1xuICAgKiAgIHIgPSByaXZlciAob3IgYnJpZGdlIGlmIGluIGNlbnRlciBhbmQgdGhlcmUncyBhbiB1bmJyaWRnZWQgb3B0aW9uKVxuICAgKiAgICAgICBhbHNvIHVzZWQgZm9yIG9hc2lzIGxha2VcbiAgICogICAjID0gYmxvY2thZ2UgaW4gY2VudGVyIChlLmcuIHVuYnJpZGdlZCByaXZlciwgd2hpcmxwb29sKVxuICAgKiAgIGIgPSBiZWFjaCAob24gc2VhKVxuICAgKiAgIOKGkyA9IHNsb3BlXG4gICAqICAgWzAtOUEtRl0gPSBvZmYtY2VudGVyIGVkZ2UgZXhpdHMgKHRvcDo2LTcgb3IgbGVmdDo2LTcgaXMgY2VudGVyZWQpXG4gICAqICAgICAxID0gYnJpZGdlIHRvIHBvcnRvYSAxMiwgNSA9IGxlYWYvbWV6YW1lIGVudHJhbmNlIDJkLFxuICAgKiAgICAgOCA9IGJyeW5tYWVyIGV4aXQgMWMsIGJvYXQgY2hhbm5lbCA2MCwgQiA9IGxvd2VyLWxlZnQgZXhpdCAxYVxuICAgKiAgICAgPT4gVE9ETyAtIGNvbnNpZGVyIGVpdGhlciBkZWxldGluZyB0aGVzZSBvciBzd2FwcGluZyBmb3IganVzdCAneCdcbiAgICogICBXID0gd2luZG1pbGwgKGFsc28gYSA8IGV4aXQpXG4gICAqICAgQSA9IGFsdGFyXG4gICAqICAgTCA9IGxpZ2h0aG91c2VcbiAgICogICBIID0gaG91c2VcbiAgICogICBGID0gZm9ydHJlc3NcbiAgICogICBDID0gY2FiaW5cbiAgICogICBQID0gcHlyYW1pZFxuICAgKiAgIFkgPSBjcnlwdFxuICAgKi9cbiAgdGlsZT86IHN0cmluZ3xzdHJpbmdbXTtcbiAgLyoqXG4gICAqIFN0cmluZyBvZiBjb25uZWN0ZWQgYWNjZXNzIHBvaW50cyBmb3Igcm91dGluZywgZ3JvdXBlZCBieSBjb25uZWN0aW9uIHR5cGUuXG4gICAqIFBvaW50cyBhcmUgaGV4IGRpZ2l0cyBbMTIzXSBmb3IgdG9wIGVkZ2UsIFs1NjddIGZvciBsZWZ0LCBbOWFiXSBmb3IgYm90dG9tLFxuICAgKiBvciBbZGVmXSBmb3IgcmlnaHQgZWRnZS4gIFNlcGFyYXRvcnMgYXJlICd8JyBmb3IgaW1wYXNzaWJsZSwgJz0nIGZvciB3YWxsLFxuICAgKiAnOicgZm9yIHdhdGVyIChpLmUuIGZsaWdodCByZXF1aXJlZCksIGFuZCAnLScgZm9yIGJyaWRnZS4gIEdlbmVyYWxseSBvbmx5XG4gICAqIHRoZSBtaWRkbGUgbnVtYmVyIGlzIHVzZWQgZm9yIGVhY2ggZWRnZSAoMjZhZSkgYnV0IGZvciByaXZlcnMgYW5kIGxhYnlyaW50aFxuICAgKiB0aWxlc2V0cywgdGhlIG90aGVyIG51bWJlcnMgYXJlIHVzZWQgYXMgd2VsbCwgY292ZXJpbmcgdGhlIGVkZ2VzIGxpa2Ugc29cbiAgICogYGBgXG4gICAqICAgICAuMTIzLlxuICAgKiAgICAgNSAgIGRcbiAgICogICAgIDYgICBlXG4gICAqICAgICA3ICAgZlxuICAgKiAgICAgLjlhYi5cbiAgICogYGBgXG4gICAqIFRodXMgdGhlIDQgYml0IGluZGljYXRlcyBhIHZlcnRpY2FsIGVkZ2UgYW5kIHRoZSA4IGJpdCBpbmRpY2F0ZXMgdGhhdCBpdCdzXG4gICAqIHRoZSBjb3JyZXNwb25kaW5nIGVkZ2Ugb24gdGhlIG5leHQgdGlsZS5cbiAgICovXG4gIGNvbm5lY3Q/OiBzdHJpbmc7XG4gIC8qKiBUaWxlICh5eCkgdG8gcGxhY2UgdGhlIHdhbGwvYnJpZGdlIGhpdGJveCwgaWYgcHJlc2VudC4gKi9cbiAgd2FsbD86IG51bWJlcjtcbiAgLyoqIEluZm9ybWF0aW9uIGFib3V0IGFueSBtb3ZpbmcgcGxhdGZvcm0gcGxhdGZvcm0uICovXG4gIHBsYXRmb3JtPzoge1xuICAgIC8qKiBUeXBlIG9mIHBsYXRmb3JtLiAqL1xuICAgIHR5cGU6ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCcsXG4gICAgLyoqIDE2LWJpdCBzY3JlZW4gY29vcmRpbmF0ZXMgKHl5eHgpIG9mIHBsYXRmb3JtIHNwYXduIHBvc2l0aW9uLiAqL1xuICAgIGNvb3JkOiBudW1iZXIsXG4gIH07XG4gIC8qKlxuICAgKiBQb2ludHMgb2YgaW50ZXJlc3Qgb24gdGhpcyBzY3JlZW4uICBFYWNoIGVudHJ5IGlzIGEgcHJpb3JpdHkgKDEgaXMgbW9zdFxuICAgKiByZWxldmFudCwgNSBpcyBsZWFzdCksIGZvbGxvd2VkIGJ5IGEgZGVsdGEteSBhbmQgYSBkZWx0YS14IGluIHBpeGVsc1xuICAgKiBtZWFzdXJlZCBmcm9tIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIHNjcmVlbi4gIFRoZSBkZWx0YXMgbWF5IGJlXG4gICAqIG5lZ2F0aXZlIG9yIGdyZWF0ZXIgdGhhbiAweGZmLCBpbmRpY2F0aW5nIHRoYXQgdGhlIFBPSSBpcyBhY3R1YWxseSBvbiBhXG4gICAqIG5laWdoYm9yaW5nIHNjcmVlbi4gIERlZmF1bHQgZHk9NzAgYW5kIGR4PTc4LlxuICAgKi9cbiAgcG9pPzogUmVhZG9ubHlBcnJheTxyZWFkb25seSBbbnVtYmVyLCBudW1iZXI/LCBudW1iZXI/XT4sXG5cbiAgLyoqIFVwZGF0ZXMgdG8gYXBwbHkgd2hlbiBhcHBseWluZyB0aGUgZ2l2ZW4gZml4LiAqL1xuICB1cGRhdGU/OiBSZWFkb25seUFycmF5PHJlYWRvbmx5IFtTY3JlZW5GaXgsIFNjcmVlblVwZGF0ZV0+O1xuXG4gIC8qKiBXaGV0aGVyIGEgc3BlY2lhbCBmbGFnIGlzIG5lZWRlZCBmb3IgdGhpcyBzY3JlZW4uICovXG4gIGZsYWc/OiAnYWx3YXlzJyB8ICdjYWxtJyB8ICdjdXN0b206ZmFsc2UnIHwgJ2N1c3RvbTp0cnVlJzsgLy8gfCAnYm9zcyc7XG5cbiAgLyoqIENvbmRpdGlvbnMgZm9yIG1hdGNoaW5nIHRoaXMgdGlsZS4gKi9cbiAgbWF0Y2g/OiAocmVhY2hhYmxlOiAoZHk6IG51bWJlciwgZHg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgZmxhZzogYm9vbGVhbikgPT4gYm9vbGVhbjtcblxuICAvKiogV2hldGhlciB0aGlzIHNjcmVlbiBpcyBfbm90IGFsbG93ZWRfIHRvIGJlIHBsYWNlZCBhdXRvbWF0aWNhbGx5LiAqL1xuICBwbGFjZW1lbnQ/OiAnbWFudWFsJyB8ICdtb2QnO1xuICAvKipcbiAgICogVHlwZSBvZiBtb2RpZmljYXRpb24gdGhpcyBzY3JlZW4gaXMgZnJvbSBhIHNhbWUtbGF5b3V0IHRpbGUuXG4gICAqIE1vZCB0aWxlcyB3aWxsIG5vdCBiZSBpbmZlcnJlZCBub3JtYWxseSwgYW5kIG11c3QgYmUgYWRkZWQgYWZ0ZXJ3YXJkcy5cbiAgICogSW5mZXJyZWQgdGlsZXMgd2lsbCBiZSBtYXhpbWFsbHkgb3Blbi4gIE1vZHMgd2lsbCBjbG9zZSBwYXRocy4gIFdlXG4gICAqIG1heSBuZWVkIHRvIGFkZCBhIGZpeGVkIG51bWJlciBvZiB3YWxscywgYW5kL29yIHJlbW92ZSBhIGZpeGVkIG51Ym1lclxuICAgKiBvZiBicmlkZ2VzLiAgV2UgYWRkIGFzIG1hbnkgbm9uLWZsYWcgYmxvY2tzIGFzIHBvc3NpYmxlLlxuICAgKi9cbiAgbW9kPzogJ2Jsb2NrJyB8ICd3YWxsJyB8ICdicmlkZ2UnO1xuXG4gIC8qKlxuICAgKiBZLWNvb3JkaW5hdGUgb2Ygc3RhdHVlcyBvbiB0aGlzIG1hcCBzY3JlZW4uICBUaGVzZSBtYXkgYmUgcG9wdWxhdGVkXG4gICAqIHdpdGggJDNmIG1vbnN0ZXIgc3Bhd25zIGF0IHg9NSBhbmQgeD1hIChwcm92aWRlZCB0aGUgbmVjZXNzYXJ5IHBhdHRlcm5cbiAgICogdGFibGVzIGFyZSBsb2FkZWQpLiAgVGhpcyBpcyBvbmx5IHJlbGV2YW50IG9uIHRoZSBmb3J0cmVzcyB0aWxlc2V0LlxuICAgKi9cbiAgc3RhdHVlcz86IHJlYWRvbmx5IG51bWJlcltdO1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBzY3JlZW4gbWF5IGJlIGRlbGV0ZWQgZW50aXJlbHkgZnJvbSBhIG1hcCAoaS5lLiB3aGVuIHRyaW1taW5nXG4gICAqIHVudXNlZCByb3dzL2NvbHVtbnMpLiAgVGhpcyBpcyBhIHN1YnNldCBvZiBlbXB0eSBzY3JlZW5zLCBzaW5jZSBzb21lIGVtcHR5XG4gICAqIHNjcmVlbnMgYXJlIGltcG9ydGFudCB0byByZXRhaW4gKGUuZy4gZGVhZCBlbmRzKS5cbiAgICovXG4gIGRlbGV0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERlZmluaXRpb24gb2YgdGhlIHNjcmVlbiwgaW4gdGVybXMgb2YgbWV0YXRpbGUgSURzIGF0IHRoZSB0aW1lIHRoZSBzY3JlZW5cbiAgICogaXMgYWxsb2NhdGVkLiAgVGhpcyBpcyBvbmx5IHVzZWQgZm9yIHNjcmVlbnMgd2l0aCBhIG5lZ2F0aXZlIHNpZCAoJ2lkJyBpblxuICAgKiB0aGlzIHN0cnVjdHVyZSksIGFuZCBvbmx5IG9uZSBzY3JlZW4gaW4gYSBncm91cCBvZiBzYW1lLXNpZCBzY3JlZW5zIHNob3VsZFxuICAgKiBzcGVjaWZ5IGl0LiAgSXQgbXVzdCBiZSAyNDAgYnl0ZXMgbG9uZy5cbiAgICovXG4gIGRlZmluaXRpb24/OiBVaW50OEFycmF5O1xufVxuXG5leHBvcnQgdHlwZSBTY3JlZW5VcGRhdGUgPSAoczogTWV0YXNjcmVlbiwgc2VlZDogbnVtYmVyLCByb206IFJvbSkgPT4gYm9vbGVhbjtcblxuZXhwb3J0IGNvbnN0IGZlYXR1cmVNYXNrID0ge1xuICAvLyBUT0RPIC0gY2F2ZT8gZm9ydHJlc3M/IGVkZ2U/ICB3ZSBhbHJlYWR5IGhhdmUgY29ubmVjdGlvbnMgdG8gdGVsbCB1cy4uLlxuICAnZW1wdHknOiAweDEsXG4gICdwaXQnOiAweDIsXG4gICdhcmVuYSc6IDB4NCxcbiAgJ3NwaWtlcyc6IDB4OCxcbiAgJ3dpZGUnOiAweDEwLFxuICAncml2ZXInOiAweDIwLFxuICAnYnJpZGdlJzogMHg0MCxcbiAgJ3dhbGwnOiAweDgwLFxuICAncmFtcCc6IDB4MTAwLFxuICAnb3ZlcnBhc3MnOiAweDIwMCxcbiAgJ3VuZGVycGFzcyc6IDB4NDAwLFxuICAnd2hpcmxwb29sJzogMHg4MDAsXG5cbiAgLy8gTm90IGFjdHVhbGx5IGxpc3RlZCBhcyBmZWF0dXJlcywgYnV0IGFkZGVkIHNlcGFyYXRlbHkgLSB3ZSBjb3VsZCBhZGQgb3RoZXJzXG4gIC8vICh0b3RhbCBvZiA4IGF2YWlsYWJsZS4uLj8pXG4gICdzdGFpcjp1cCc6IDB4MV8wMDAwLFxuICAnc3RhaXI6ZG93bic6IDB4Ml8wMDAwLFxuXG4gIC8vIFVuaXF1ZSBmZWF0dXJlczogdXBwZXIgYml0cyBoYXZlIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIDMgb2YgNiBiaXRzXG4gIC8vICAgNyxiLGQsZSwxMywxNSwxNiwxOSwxYSwxYywyMywyNSwyNiwyOSwyYSwyYywzMSwzMiwzNCwzOFxuICAvLyBTaW5jZSB0aGV5IGFyZSBuZXZlciBzaGFyZWQsIHdlIGNhbiBwYWNrIGEgbG90IG1vcmUgaW50byB0aGUgc2FtZSBzcGFjZS5cbiAgJ3BvcnRvYTEnOiAweDdfMDAwXzAwMCxcbiAgJ3BvcnRvYTInOiAweGJfMDAwXzAwMCxcbiAgJ3BvcnRvYTMnOiAweGRfMDAwXzAwMCxcbiAgJ2xha2UnOiAweGVfMDAwXzAwMCxcbiAgJ2xpZ2h0aG91c2UnOiAweDEzXzAwMF8wMDAsXG4gICdjYWJpbic6IDB4MTVfMDAwXzAwMCxcbiAgJ3dpbmRtaWxsJzogMHgxNl8wMDBfMDAwLFxuICAnYWx0YXInOiAweDE5XzAwMF8wMDAsXG4gICdweXJhbWlkJzogMHgxYV8wMDBfMDAwLFxuICAnY3J5cHQnOiAweDFjXzAwMF8wMDAsXG5cbiAgLy8gUHJldmVudHMgcGxhY2luZyB0aGlzIGJ5IGhhbmQuXG4gICdtYW51YWwnOiAweDQwMDBfMDAwMCxcbiAgLy8gSW5kaWNhdGVzIHdlIG1heSB3YW50IHRvIGNvbnNvbGlkYXRlIHRoaXMgc2NyZWVuLlxuICAnY29uc29saWRhdGUnOiAweDgwMDBfMDAwMCxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIEZlYXR1cmUgPSBrZXlvZiB0eXBlb2YgZmVhdHVyZU1hc2s7XG4gIC8vICdwaXQnIHwgJ2FyZW5hJyB8ICdzcGlrZXMnIHwgJ2JyaWRnZScgfCAnd2FsbCcgfCAncmFtcCcgfCAnZW1wdHknIHxcbiAgLy8gJ3BvcnRvYTEnIHwgJ3BvcnRvYTInIHwgJ3BvcnRvYTMnIHwgLy8gcGF0aCBmcm9tIHNhYnJlIHRvIHBvcnRvYVxuICAvLyAnbGFrZScgfCAnb3ZlcnBhc3MnIHwgJ3VuZGVycGFzcycgfCAnd2hpcmxwb29sJyB8XG4gIC8vICdsaWdodGhvdXNlJyB8ICdjYWJpbicgfCAnd2luZG1pbGwnIHwgJ2FsdGFyJyB8ICdweXJhbWlkJyB8ICdjcnlwdCcgfFxuICAvLyAnY29uc29saWRhdGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEljb24ge1xuICBzaG9ydDogc3RyaW5nOyAvLyBzaW5nbGUgY2hhcmFjdGVyXG4gIGZ1bGw6IHJlYWRvbmx5IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXTsgLy8gM3gzIGdyaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGljb24oYXJyOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSk6IEljb24ge1xuICBpZiAoYXJyLmxlbmd0aCAhPSAxKSB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBpY29uIGlucHV0Jyk7XG4gIGNvbnN0IHN0ciA9IGFyclswXTtcbiAgLy8gcGFyc2UgdGhlIHN0cmluZy5cbiAgY29uc3QgbGluZXMgPSBzdHIuc3BsaXQoJ1xcbicpO1xuICAvLyBsaW5lcyAxLi4zIGFyZSB0aGUgZnVsbCBpY29uLlxuICBjb25zdCBmdWxsID0gbGluZXMuc2xpY2UoMSkubWFwKGwgPT4gbC5yZXBsYWNlKC9eXFxzKlxcfHxcXHxcXHMqJC9nLCAnJykpO1xuICBjb25zdCBzaG9ydCA9IC9cXFMvLnRlc3QobGluZXNbMF0pID8gbGluZXNbMF1bMF0gOiBmdWxsWzFdWzFdO1xuICByZXR1cm4ge3Nob3J0LCBmdWxsOiBbZnVsbFswXSwgZnVsbFsxXSwgZnVsbFsyXV19O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZFNjcmVlbihzcGVjOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXBsYWNlbWVudHM6IFtzdHJpbmcsIG51bWJlcl1bXSk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBzID0gc3BlYy5zcGxpdCgvXFxzKy9nKTtcbiAgaWYgKCFzWzBdKSBzLnNoaWZ0KCk7XG4gIGlmICghc1tzLmxlbmd0aCAtIDFdKSBzLnBvcCgpO1xuICBpZiAocy5sZW5ndGggIT09IDI0MCkgdGhyb3cgbmV3IEVycm9yKGBCYWQgc2NyZWVuIGRlZmluaXRpb246ICR7cy5sZW5ndGh9YCk7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAocmVwbGFjZW1lbnRzKTtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShzLCB4ID0+IG1hcC5nZXQoeCkgPz8gcGFyc2VJbnQoeCwgMTYpKTtcbn1cblxuZXhwb3J0IHR5cGUgU3RhaXJUeXBlID0gJ3N0YWlyOnVwJyB8ICdzdGFpcjpkb3duJztcbmV4cG9ydCB0eXBlIEVkZ2VUeXBlID0gJ2VkZ2U6dG9wJyB8ICdlZGdlOmJvdHRvbScgfCAnZWRnZTpsZWZ0JyB8ICdlZGdlOnJpZ2h0JztcbmV4cG9ydCB0eXBlIFNlYW1sZXNzVHlwZSA9ICdzZWFtbGVzczp1cCcgfCAnc2VhbWxlc3M6ZG93bic7XG5leHBvcnQgdHlwZSBDb25uZWN0aW9uVHlwZSA9XG4gICAgU3RhaXJUeXBlIHwgRWRnZVR5cGUgfCBTZWFtbGVzc1R5cGUgfFxuICAgICdjYXZlJyB8ICdjcnlwdCcgfCAnZG9vcicgfCAnZG9vcjInIHwgJ2Rvb3IzJyB8ICdmb3J0cmVzcycgfFxuICAgICdnYXRlJyB8ICdzd2FtcCcgfCAndGVsZXBvcnRlcicgfCAnd2luZG1pbGwnO1xuLy8gVE9ETyAtIGlzIHdpbmRtaWxsIGp1c3QgZG9vcjI/XG5cbi8vIE5PVEU6IHN3YW1wIGNvbm5lY3RzIHRvIGVkZ2U6Ym90dG9tIGZvciBjYXZlIG9yIHRvd24/XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGU6IENvbm5lY3Rpb25UeXBlO1xuICByZWFkb25seSBtYW51YWw/OiBib29sZWFuOyAgICAgICAgIC8vIHNob3VsZCBvbmx5IGJlIHBsYWNlZCBtYW51YWxseVxuICByZWFkb25seSBkaXI6IG51bWJlcjsgICAgICAgICAgICAgIC8vIDA9dXAsIDE9bGVmdCwgMj1kb3duLCAzPXJpZ2h0XG4gIHJlYWRvbmx5IGVudHJhbmNlOiBudW1iZXI7ICAgICAgICAgLy8gcG9zIFl5WHhcbiAgcmVhZG9ubHkgZXhpdHM6IHJlYWRvbmx5IG51bWJlcltdOyAvLyB0aWxlIFlYXG4gIHJlYWRvbmx5IGFsbG93ZWRFeGl0cz86IHJlYWRvbmx5IG51bWJlcltdOyAvLyBleHRyYSBleGl0cyB0byBtYXRjaFxuICAvLyBUT0RPIC0gc2luZ2xlSGVpZ2h0RW50cmFuY2UgLSBmb3IgZGlyPTIganVzdCBzdWJ0cmFjdCAweDIwID8/XG4gIC8vIFRPRE8gLSBvcHBvc2l0ZSBkaXJlY3Rpb24/IHdhdGVyZXJmYWxsIGNhdmUgaXMgYSByaWdodC9kb3duIG1hdGNodXAuLi5cbn1cblxuLyoqIEBwYXJhbSB0aWxlIHBvc2l0aW9uIG9mIGxvd2VyLWxlZnQgbWV0YXRpbGUgKGUuZy4gMHg0MiBmb3IgNDBfMzApLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwU3RhaXIodGlsZTogbnVtYmVyLCB3aWR0aCA9IDIpOiBDb25uZWN0aW9uIHtcbiAgLy8gZnJvbSBtYXAgMDQ6IGVudHJhbmNlIDQwXzMwICA9PiBleGl0cyAzMiwzM1xuICAvLyBmcm9tIG1hcCAxOSAoc2luZ2xlLXdpZHRoKTogdGlsZSA2OCA9PiBlbnRyYW5jZSA3OF84OCwgZXhpdCA2OFxuICBjb25zdCB5ID0gdGlsZSA+Pj4gNDtcbiAgY29uc3QgeCA9IHRpbGUgJiAweGY7XG4gIGlmICh3aWR0aCA9PT0gMSkge1xuICAgIC8vIFRPRE8gLSB3aGF0IGRvZXMgaXQgbWVhbiBmb3IgZW50cmFuY2UgdG8gYmUgPiAweGZmZmYuLi4/XG4gICAgLy8gICAgICAtIHNjcmVlbiA2YyAob2FrIE5XKSBoYXMgdGhpc1xuICAgIGNvbnN0IGR5ID0geSA9PT0gMHhlID8gMHgyODAwIDogMHgxODAwO1xuICAgIGNvbnN0IGVudHJhbmNlID0gKCh5IDw8IDEyKSArIGR5KSB8ICgoeCA8PCA0KSArIDB4MDAwOCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzdGFpcjp1cCcsXG4gICAgICBkaXI6IDIsXG4gICAgICBlbnRyYW5jZSxcbiAgICAgIGV4aXRzOiBbdGlsZV0sXG4gICAgICAvL2FsbG93ZWRFeGl0czogW3RpbGUgLSAxNiwgdGlsZSArIDE2XSxcbiAgICB9O1xuICB9XG4gIC8vIFRPRE8gLSBpZiB5IGlzIDB4ZSB0aGVuIHdlIG1heSBuZWVkIHRvIGFkanVzdCBmb3Igc2NyZWVuIGVkZ2U/XG4gIGNvbnN0IGVudHJhbmNlID0geSA8PCAxMiB8ICgoeCA8PCA0KSArICh3aWR0aCA8PCAzKSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ3N0YWlyOnVwJyxcbiAgICBkaXI6IDAsXG4gICAgZW50cmFuY2UsXG4gICAgZXhpdHM6IHNlcSh3aWR0aCwgaSA9PiB0aWxlIC0gMHgxMCArIGkpLFxuICAgIC8vIFRPRE8gLSBpZiB3ZSBzZXQgdGhpcyB0aGVuIHdlIGNvdWxkIHBvc3NpYmx5IHNhdmUgc29tZSBvZiB0aGVcbiAgICAvLyAgICAgICAgcHJlcGFyc2Ugbm9ybWFsaXphdGlvbiB0aGF0J3MgY3VycmVudGx5IHJlcXVpcmVkLlxuICAgIC8vYWxsb3dlZEV4aXRzOiBbLi4uc2VxKHdpZHRoLCBpID0+IHRpbGUgLSAweDIwICsgaSksXG4gICAgLy8gICAgICAgICAgICAgICAuLi5zZXEod2lkdGgsIGkgPT4gdGlsZSArIGkpXSxcbiAgfTtcbn1cblxuLyoqIEBwYXJhbSB0aWxlIHBvc2l0aW9uIG9mIHVwcGVyLWxlZnQgbWV0YXRpbGUgKGUuZy4gMHhhMiBmb3IgYWZfMzApLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvd25TdGFpcih0aWxlOiBudW1iZXIsIHdpZHRoID0gMik6IENvbm5lY3Rpb24ge1xuICAvLyBmcm9tIG1hcCAwNTogZW50cmFuY2UgYWZfMzAgID0+IGV4aXRzIGIyLGIzXG4gIC8vIGZyb20gbWFwIGQ0IChzaW5nbGUtd2lkdGgpOiB0aWxlIDRjID0+IGVudHJhbmNlIDM4X2M4LCBleGl0IDRjXG4gIGNvbnN0IHkgPSB0aWxlID4+PiA0O1xuICBjb25zdCB4ID0gdGlsZSAmIDB4ZjtcbiAgaWYgKHdpZHRoID09PSAxKSB7XG4gICAgY29uc3QgZW50cmFuY2UgPSAoKHkgPDwgMTIpIC0gMHgwODAwKSB8ICgoeCA8PCA0KSArIDB4MDAwOCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzdGFpcjpkb3duJyxcbiAgICAgIGRpcjogMixcbiAgICAgIGVudHJhbmNlLFxuICAgICAgZXhpdHM6IFt0aWxlXSxcbiAgICAgIGFsbG93ZWRFeGl0czogW3RpbGUgKyAxNiwgdGlsZSAtIDE2XSxcbiAgICB9O1xuICB9XG4gIGNvbnN0IGVudHJhbmNlID0geSA8PCAxMiB8IDB4MGYwMCB8ICgoeCA8PCA0KSArICh3aWR0aCA8PCAzKSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ3N0YWlyOmRvd24nLFxuICAgIGRpcjogMixcbiAgICBlbnRyYW5jZSxcbiAgICBleGl0czogc2VxKHdpZHRoLCBpID0+IHRpbGUgKyAweDEwICsgaSksXG4gICAgYWxsb3dlZEV4aXRzOiBbLi4uc2VxKHdpZHRoLCBpID0+IHRpbGUgKyAweDIwICsgaSksXG4gICAgICAgICAgICAgICAgICAgLi4uc2VxKHdpZHRoLCBpID0+IHRpbGUgKyBpKV0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXZlKHRpbGU6IG51bWJlciwgdHlwZTogQ29ubmVjdGlvblR5cGUgPSAnY2F2ZScpOiBDb25uZWN0aW9uIHtcbiAgcmV0dXJuIHsuLi51cFN0YWlyKHRpbGUgKyAxNiksIHR5cGV9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9vcih0aWxlOiBudW1iZXIsIHR5cGU6IENvbm5lY3Rpb25UeXBlID0gJ2Rvb3InKTogQ29ubmVjdGlvbiB7XG4gIHJldHVybiB7Li4udXBTdGFpcih0aWxlLCAxKSwgdHlwZX07XG59XG5cbi8qKiBAcGFyYW0gdGlsZSBib3R0b20tbGVmdCBtZXRhdGlsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhdGVyZmFsbENhdmUodGlsZTogbnVtYmVyKTogQ29ubmVjdGlvbiB7XG4gIGNvbnN0IHkgPSB0aWxlID4+PiA0O1xuICBjb25zdCB4ID0gdGlsZSAmIDB4ZjtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnY2F2ZScsXG4gICAgZGlyOiAwLFxuICAgIGVudHJhbmNlOiB5IDw8IDEyIHwgeCA8PCA0IHwgMHhmLFxuICAgIGV4aXRzOiBbdGlsZSAtIDB4ZiwgdGlsZSArIDFdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9wRWRnZSh7bGVmdCA9IDcsIHdpZHRoID0gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSAyLCBtYW51YWwgPSBmYWxzZX0gPSB7fSk6IENvbm5lY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdlZGdlOnRvcCcsXG4gICAgbWFudWFsLFxuICAgIGRpcjogMCxcbiAgICBlbnRyYW5jZTogKCh0b3AgKyAxKSA8PCAxMikgfCAoKGxlZnQgPDwgNCkgKyAod2lkdGggPDwgMykpLFxuICAgIGV4aXRzOiBzZXEod2lkdGgsIGkgPT4gKHRvcCA8PCA0KSB8IChpICsgbGVmdCkpLFxuICB9O1xufVxuXG4vLyBUT0RPIC0gY29uc2lkZXIgc2VwYXJhdGluZyB3aWRlIHZzIG5hcnJvdyBlZGdlcyBpbnRvIHNlcGFyYXRlIHR5cGVzPz8/XG5cbmV4cG9ydCBmdW5jdGlvbiBib3R0b21FZGdlKHtsZWZ0ID0gNywgd2lkdGggPSAyLCBzaGlmdCA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdlZGdlOmJvdHRvbScgYXMgQ29ubmVjdGlvblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsID0gZmFsc2V9ID0ge30pOiBDb25uZWN0aW9uIHtcbiAgLy8gTk9URTogc29tZSBzY3JlZW5zIGNhbiBiZSB1c2VkIGJvdGggaW4gbm9ybWFsIG1hcHMgYW5kIGluIHNpbmdsZS1oZWlnaHRcbiAgLy8gbWFwcy4gIFdoZW4gdXNlZCBpbiBzaW5nbGUtaGVpZ2h0LCB3ZSBuZWVkIHRvIHN1YnRyYWN0IDIgZnJvbSB0aGUgWSB0aWxlXG4gIC8vIGNvb3JkaW5hdGVzIG9mIHRoZSBlbnRyYW5jZS9leGl0LCBjbGFtcGluZyB0byBiZiAoZW50cmFuY2UpIGFuZCBjIChleGl0KS5cbiAgcmV0dXJuIHtcbiAgICB0eXBlLCBtYW51YWwsXG4gICAgZGlyOiAyLFxuICAgIGVudHJhbmNlOiAweGRmXzAwIHwgKChsZWZ0IDw8IDQpICsgKHdpZHRoIDw8IDMpICsgMTYgKiBzaGlmdCksXG4gICAgZXhpdHM6IHNlcSh3aWR0aCwgaSA9PiAweGUwIHwgKGkgKyBsZWZ0KSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3R0b21FZGdlSG91c2Uoe2xlZnQgPSA3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwfSA9IHt9KTogQ29ubmVjdGlvbiB7XG4gIC8vIFVubGlrZSBcImR1YWwtbW9kZVwiIHNjcmVlbnMsIGluZG9vcnMtb25seSBzY3JlZW5zIGhhdmUgdGhlaXIgZW50cmFuY2UgYW5cbiAgLy8gYWRkaXRpb25hbCB0aWxlIHVwLCBhdCBhZi9iLiAgVGhpcyBoYXJkLWNvZGVzIHRoYXQuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2VkZ2U6Ym90dG9tJyxcbiAgICBkaXI6IDIsXG4gICAgZW50cmFuY2U6IDB4YWZfMDAgfCAoKGxlZnQgPDwgNCkgKyAod2lkdGggPDwgMykgKyAxNiAqIHNoaWZ0KSxcbiAgICBleGl0czogc2VxKHdpZHRoLCBpID0+IDB4YjAgfCAoaSArIGxlZnQpKSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlZnRFZGdlKHt0b3AgPSA3LCBoZWlnaHQgPSAyLCBzaGlmdCA9IDB9ID0ge30pOiBDb25uZWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnZWRnZTpsZWZ0JyxcbiAgICBkaXI6IDEsXG4gICAgZW50cmFuY2U6ICgodG9wIDw8IDEyKSArICgoMTYgKiBzaGlmdCkgPDwgOCkgKyAoaGVpZ2h0IDw8IDExKSkgfCAweDEwLFxuICAgIGV4aXRzOiBzZXEoaGVpZ2h0LCBpID0+IChpICsgdG9wKSA8PCA0KSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0RWRnZSh7dG9wID0gNywgaGVpZ2h0ID0gMiwgc2hpZnQgPSAwfSA9IHt9KTogQ29ubmVjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2VkZ2U6cmlnaHQnLFxuICAgIGRpcjogMyxcbiAgICBlbnRyYW5jZTogKCh0b3AgPDwgMTIpICsgKCgxNiAqIHNoaWZ0KSA8PCA4KSArIChoZWlnaHQgPDwgMTEpKSB8IDB4ZWYsXG4gICAgZXhpdHM6IHNlcShoZWlnaHQsIGkgPT4gKGkgKyB0b3ApIDw8IDQgfCAweGYpLFxuICB9O1xufVxuXG4vKiogQHBhcmFtIHRpbGUgVG9wLWxlZnQgdGlsZSBvZiB0cmFuc2l0aW9uIChoZWlnaHQgMikgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWFtbGVzc1VwKHRpbGU6IG51bWJlciwgd2lkdGggPSAyKTogQ29ubmVjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ3NlYW1sZXNzOnVwJyxcbiAgICBkaXI6IDAsXG4gICAgZ2V0IGVudHJhbmNlKCk6IG51bWJlciB7IHRocm93IG5ldyBFcnJvcignZG9lcyBub3QgbWFrZSBzZW5zZScpOyB9LFxuICAgIGV4aXRzOiBzZXEod2lkdGgsIGkgPT4gKHRpbGUgKyBpKSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFtbGVzc0Rvd24odGlsZTogbnVtYmVyLCB3aWR0aCA9IDIpOiBDb25uZWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnc2VhbWxlc3M6ZG93bicsXG4gICAgZGlyOiAyLFxuICAgIGdldCBlbnRyYW5jZSgpOiBudW1iZXIgeyB0aHJvdyBuZXcgRXJyb3IoJ2RvZXMgbm90IG1ha2Ugc2Vuc2UnKTsgfSxcbiAgICBleGl0czogc2VxKHdpZHRoLCBpID0+ICh0aWxlICsgaSkpLFxuICB9O1xufVxuIl19